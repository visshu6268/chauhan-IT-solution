function _instanceof(e,r){return null!=r&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?!!r[Symbol.hasInstance](e):e instanceof r}function _type_of(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}var officeOnlinePerf;!function(){"use strict";var e={d:function(r,t){for(var o in t)e.o(t,o)&&!e.o(r,o)&&Object.defineProperty(r,o,{enumerable:!0,get:t[o]})},o:function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},r={};e.r(r),e.d(r,{getJSCPUProfilingPackageRetriever:function(){return ht}});var t,o,n=function(){function e(e){this.logger=e}return e.prototype.start=function(){this.logger.logNullJSCPUProfilerStartCalled()},e.prototype.stop=function(){this.logger.logNullJSCPUProfilerStopCalled()},e.prototype.subscribeProfilerObserver=function(e,r){},e.prototype.unsubscribeProfilerObserver=function(e,r){},e.prototype.subscribeCallTreeCustomPropertiesRetriever=function(e){},e.prototype.unsubscribeCallTreeCustomPropertiesRetriever=function(e){},e.prototype.subscribeCallTreeCustomFilterer=function(e){},e.prototype.unsubscribeCallTreeCustomFilterer=function(e){},e}(),s=function(){function e(){}return e.prototype.getCurrentTimestamp=function(){return performance.now()},e}(),i=-1,a=function(){function e(e,r,t){return this.performanceAPIChecker=e,this.performanceTimestampRetriever=r,this.logger=t,this.startTimestamp=i,this.stopTimestamp=i,this.performanceAPIChecker.isPerformanceAPIAvailable()?this.performanceAPIChecker.isPerformanceNowDefined()?void(this.unsupportedEnvironment=!1):(this.logger.logPerformanceNowMissingInJSEnvironment(),void(this.unsupportedEnvironment=!0)):(this.logger.logPerformanceMissingInJSEnvironment(),void(this.unsupportedEnvironment=!0))}return e.prototype.start=function(){this.unsupportedEnvironment?this.logger.logStopWatchStartingInUnsupportedEnvironment():this.startTimestamp=this.performanceTimestampRetriever.getCurrentTimestamp()},e.prototype.stop=function(){this.unsupportedEnvironment?this.logger.logStopWatchStoppingInUnsupportedEnvironment():this.stopTimestamp=this.performanceTimestampRetriever.getCurrentTimestamp()},e.prototype.getElapsedTime=function(){if(this.startTimestamp===i)return this.logger.logGetElapsedTimeCalledWithoutCallingStart(),i;if(this.stopTimestamp===i)return this.logger.logGetElapsedTimeCalledWithoutCallingStop(),i;var e=this.stopTimestamp-this.startTimestamp;return this.resetTimestamps(),e},e.prototype.resetTimestamps=function(){this.startTimestamp=i,this.stopTimestamp=i},e}(),l=function(){function e(){}return e.prototype.sendTraceTag=function(){},e.prototype.shipAssertTag=function(){},e.prototype.debugAssertTag=function(){},e.prototype.setCorrelationId=function(){},e}(),c=new(function(){function e(){this.externalLogger=new l}return e.prototype.setCorrelationId=function(e){this.externalLogger.setCorrelationId(e)},e.prototype.setLogger=function(e){this.externalLogger=e},e.prototype.sendTraceTag=function(e,r,t,o){this.externalLogger.sendTraceTag(e,r,t,o)},e.prototype.debugAssertTag=function(e,r,t,o){this.externalLogger.debugAssertTag(e,r,t,o)},e.prototype.shipAssertTag=function(e,r,t,o){this.externalLogger.shipAssertTag(e,r,t,o)},e}());function u(e){if(!e)throw new Error("The 'logger' argument is missing");c.setLogger(e)}!function(e){e[e.msoulscat_ES_EWAJS=0]="msoulscat_ES_EWAJS",e[e.msoulscat_ES_EWAJSGrid=1]="msoulscat_ES_EWAJSGrid",e[e.msoulscat_ES_EWAJSChart=6]="msoulscat_ES_EWAJSChart",e[e.msoulscat_MSOSP_FileMenuCommands=202]="msoulscat_MSOSP_FileMenuCommands",e[e.msoulscat_MSOSP_AddInCommands=220]="msoulscat_MSOSP_AddInCommands",e[e.msoulscat_MSOSP_OTelJS=225]="msoulscat_MSOSP_OTelJS",e[e.msoulscat_MSOSP_OTelJSInWebWoker=227]="msoulscat_MSOSP_OTelJSInWebWoker",e[e.msoulscat_MSOSP_OTelJSWebWorkerPrototype=228]="msoulscat_MSOSP_OTelJSWebWorkerPrototype",e[e.msoulscat_Wac_WordViewer=301]="msoulscat_Wac_WordViewer",e[e.msoulscat_Wac_BrowserGeneral=306]="msoulscat_Wac_BrowserGeneral",e[e.msoulscat_Wac_TaskPane=320]="msoulscat_Wac_TaskPane",e[e.msoulscat_Wac_OneNoteGeneral=339]="msoulscat_Wac_OneNoteGeneral",e[e.msoulscat_Wac_Ribbon=340]="msoulscat_Wac_Ribbon",e[e.msoulscat_Wac_WacFeedback=356]="msoulscat_Wac_WacFeedback",e[e.msoulscat_Wac_WopiPendingApplication=379]="msoulscat_Wac_WopiPendingApplication",e[e.msoulscat_Wac_Telemetry=383]="msoulscat_Wac_Telemetry",e[e.msoulscat_Wac_WacCatchUpActivities=391]="msoulscat_Wac_WacCatchUpActivities",e[e.msoulscat_Wac_Dictation=394]="msoulscat_Wac_Dictation",e[e.msoulscat_Wac_OneNoteSync=395]="msoulscat_Wac_OneNoteSync",e[e.msoulscat_Wac_VisioApp=700]="msoulscat_Wac_VisioApp",e[e.msoulscat_OneNoteOnline_EditableCache=1601]="msoulscat_OneNoteOnline_EditableCache",e[e.msoulscat_Wac_PptAnimation=800]="msoulscat_Wac_PptAnimation",e[e.msoulscat_Wac_PptLive=833]="msoulscat_Wac_PptLive",e[e.msoulscat_Wac_PptMWeb=834]="msoulscat_Wac_PptMWeb",e[e.msoulscat_Wac_PptGc2General=835]="msoulscat_Wac_PptGc2General",e[e.msoulscat_Wac_PptGc2GraphicHost=836]="msoulscat_Wac_PptGc2GraphicHost",e[e.msoulscat_Wac_PptGc2Operation=837]="msoulscat_Wac_PptGc2Operation",e[e.msoulscat_Wac_PptDataSync=844]="msoulscat_Wac_PptDataSync",e[e.msoulscat_Wac_PptFluidRuntime=848]="msoulscat_Wac_PptFluidRuntime",e[e.msoulscat_Wac_PptShape=815]="msoulscat_Wac_PptShape",e[e.msoulscat_Wac_PptSession=817]="msoulscat_Wac_PptSession",e[e.msoulscat_Wac_PptSlideshow=830]="msoulscat_Wac_PptSlideshow",e[e.msoulscat_Wac_PptView=822]="msoulscat_Wac_PptView",e[e.msoulscat_Wac_PptVideos=846]="msoulscat_Wac_PptVideos",e[e.msoulscat_Uci_Insights=1303]="msoulscat_Uci_Insights",e[e.msoulscat_Wac_VersionHistory=2300]="msoulscat_Wac_VersionHistory",e[e.msoulscat_Wac_WordPresence=302]="msoulscat_Wac_WordPresence",e[e.msoulscat_Wac_OAuth=3e3]="msoulscat_Wac_OAuth",e[e.msoulscat_Wac_WordVersionHistory=3005]="msoulscat_Wac_WordVersionHistory",e[e.msoulscat_Wac_LivePersonaCard=3006]="msoulscat_Wac_LivePersonaCard",e[e.msoulscat_Wac_CatchUpFlyout=3012]="msoulscat_Wac_CatchUpFlyout",e[e.msoulscat_Wac_WordDesigner=3016]="msoulscat_Wac_WordDesigner",e[e.msoulscat_Wac_ModernFontPicker=3021]="msoulscat_Wac_ModernFontPicker",e[e.msoulscat_Wac_UnifiedUiHost=3027]="msoulscat_Wac_UnifiedUiHost",e[e.msoulscat_Wac_EquationTools=3033]="msoulscat_Wac_EquationTools",e[e.msoulscat_Osf_Latency=1401]="msoulscat_Osf_Latency",e[e.msoulscat_Osf_Notification=1402]="msoulscat_Osf_Notification",e[e.msoulscat_Osf_Runtime=1403]="msoulscat_Osf_Runtime",e[e.msoulscat_Wac_AiMaker=3041]="msoulscat_Wac_AiMaker",e[e.msoulscat_Wac_AiRewrite=3043]="msoulscat_Wac_AiRewrite",e[e.msoulscat_Wac_AiInsert=3044]="msoulscat_Wac_AiInsert",e[e.msoulscat_Wac_AiSummarize=3047]="msoulscat_Wac_AiSummarize",e[e.msoulscat_Wac_CopilotCompose=3048]="msoulscat_Wac_CopilotCompose",e[e.msoulscat_Wac_Skittles=3049]="msoulscat_Wac_Skittles",e[e.msoulscat_Wac_CopilotChat=3050]="msoulscat_Wac_CopilotChat",e[e.msoulscat_Wac_Syntex=3051]="msoulscat_Wac_Syntex",e[e.msoulscat_Wac_WireGraph=3052]="msoulscat_Wac_WireGraph",e[e.msoulscat_Wac_CshCopilot=3053]="msoulscat_Wac_CshCopilot",e[e.msoulscat_Wac_CopilotComposeLaunchpad=3054]="msoulscat_Wac_CopilotComposeLaunchpad",e[e.msoulscat_Wac_CopilotProactiveSummary=3055]="msoulscat_Wac_CopilotProactiveSummary",e[e.msoulscat_Wac_CopilotProactiveShared=3056]="msoulscat_Wac_CopilotProactiveShared",e[e.msoulscat_Wac_CopilotCursor=3057]="msoulscat_Wac_CopilotCursor"}(t||(t={})),function(e){e[e.Error=10]="Error",e[e.Warning=15]="Warning",e[e.Important=20]="Important",e[e.Info=50]="Info",e[e.Verbose=100]="Verbose",e[e.Spam=200]="Spam"}(o||(o={}));var d,g=function(){function e(){}return e.prototype.logPerformanceMissingInJSEnvironment=function(){c.sendTraceTag(579110677,t.msoulscat_Wac_Telemetry,o.Error,"Unable to find performance in the JS environment")},e.prototype.logPerformanceNowMissingInJSEnvironment=function(){c.sendTraceTag(579110678,t.msoulscat_Wac_Telemetry,o.Error,"Unable to find performance.now in the JS environment")},e.prototype.logStopWatchStartingInUnsupportedEnvironment=function(){c.sendTraceTag(579110679,t.msoulscat_Wac_Telemetry,o.Error,"Starting the stopwatch in an unsupported environment. Incorrect data will be stored")},e.prototype.logStopWatchStoppingInUnsupportedEnvironment=function(){c.sendTraceTag(579110680,t.msoulscat_Wac_Telemetry,o.Error,"Stopping the stopwatch in an unsupported environment. Incorrect data will be stored")},e.prototype.logGetElapsedTimeCalledWithoutCallingStart=function(){c.sendTraceTag(579110683,t.msoulscat_Wac_Telemetry,o.Error,"Stopwatch needs to be started before you can get elapsed time")},e.prototype.logGetElapsedTimeCalledWithoutCallingStop=function(){c.sendTraceTag(579110684,t.msoulscat_Wac_Telemetry,o.Error,"Stopwatch needs to be stopped before you can get elapsed time")},e}(),p=function(){function e(){}return e.prototype.isPerformanceAPIAvailable=function(){return null!=performance},e.prototype.isPerformanceNowDefined=function(){return"now"in performance},e}(),f=function(){function e(){}return e.createNewStopWatch=function(){var e=new g,r=new p,t=new s;return new a(r,t,e)},e}(),m=function(){function e(){this.serializedException="",this.wasSerializeExceptionCalled=!1}return e.prototype.serializeException=function(e){this.wasSerializeExceptionCalled=!0,null!=JSON&&"stringify"in JSON?this.serializedException=null!=Object&&"getOwnPropertyNames"in Object?JSON.stringify(e,Object.getOwnPropertyNames(e)):"":this.serializedException=""},e.prototype.retrieveSerializedException=function(){return this.wasSerializeExceptionCalled?(this.wasSerializeExceptionCalled=!1,this.serializedException):""},e}(),T=function(){function e(){}return e.prototype.logOperation=function(e,r,t,o,n,s,i,a){},e.prototype.logFallbackResultReturned=function(){},e}(),h=new(function(){function e(){this.elements=[]}return e.prototype.push=function(e){this.elements.unshift(e)},e.prototype.pop=function(){return this.elements.shift()},e.prototype.peek=function(){return this.elements.length>0?this.elements[0]:void 0},e}()),P=function(){function e(e,r,t,o,n,s){var i=h.peek(),a=void 0!==i?i:"";h.push(e),this.logs=[],this.propertyBag=new Map;var l=f.createNewStopWatch();l.start();var c=void 0,u=!1;try{u=(c=r(this)).didOperationFailUnexpectedly}catch(e){n.serializeException(e),this.exception=n.retrieveSerializedException(),u=!0}this.operationResult=void 0!==c?c:t,l.stop(),!u&&o||s.logOperation(e,a,this.operationResult.didOperationSucceed,l.getElapsedTime(),u,this.logs,this.propertyBag,this.exception),h.pop()}return e.prototype.addLog=function(e){this.logs.push(e)},e.prototype.addProperty=function(e,r){this.propertyBag.set(e,r)},e.prototype.getResult=function(){return this.operationResult.result},e.startNew=function(r,t,o,n,s,i){return new e(r,t,o,null!=s&&s,null==i?new m:i,null==n?new T:n)},e}(),v=function(){function e(e,r,t){this.didOperationSucceed=e,this.didOperationFailUnexpectedly=r,this.result=t}return e.generateOperationResult=function(r){return new e(r.didOperationSucceed,null!=r.didOperationFailUnexpectedly&&r.didOperationFailUnexpectedly,r.result)},e}(),S=(function(){function e(e,r){var t=this;this.windowPropertyChecker=e,this.logger=r,this.callbacks=[],this.windowPropertyChecker.hasProperty("addEventListener")?window.addEventListener("beforeunload",(function(){var e=v.generateOperationResult({didOperationSucceed:!1,result:void 0});P.startNew("BeforeUnloadEventCallback",(function(){return t.callbacks.forEach((function(r){P.startNew("BeforeUnloadEventIndividualCallback",(function(){return r(),v.generateOperationResult({didOperationSucceed:!0,result:void 0})}),e)})),v.generateOperationResult({didOperationSucceed:!0,result:void 0})}),e)})):this.logger.logWindowAddEventListenerNotFound()}e.prototype.subscribeForBeforeWindowUnloadEvent=function(e){this.callbacks.push(e)}}(),function(){function e(){}return e.prototype.logWindowMissingInJSEnvironment=function(){c.sendTraceTag(578834847,t.msoulscat_Wac_Telemetry,o.Warning,"Unable to find window in the JS environment")},e.prototype.logEmptyUserAgentString=function(){c.sendTraceTag(578834850,t.msoulscat_Wac_Telemetry,o.Error,"Empty user agent string")},e.prototype.logChromiumOnIOS=function(){c.sendTraceTag(578834851,t.msoulscat_Wac_Telemetry,o.Info,"iOS version of Chromium based browser detected")},e.prototype.logBrowserUserAgentNotChromiumBased=function(){c.sendTraceTag(578834880,t.msoulscat_Wac_Telemetry,o.Info,"Browser not chromium based")},e.prototype.logUserAgentSpoofedToBeChromium=function(){c.sendTraceTag(578834881,t.msoulscat_Wac_Telemetry,o.Info,"Browser user agent spoofed to be chromium based")},e.prototype.logUserAgentToParseChromiumMajorVersionNumber=function(e){c.sendTraceTag(578834882,t.msoulscat_Wac_Telemetry,o.Info,e)},e.prototype.logChromeNotPresentInUserAgent=function(){c.sendTraceTag(578834883,t.msoulscat_Wac_Telemetry,o.Error,"Chrome was not found in the user agent")},e.prototype.logUnableToIsolateChromeInformationFromUserAgent=function(){c.sendTraceTag(578834884,t.msoulscat_Wac_Telemetry,o.Error,"Unable to isolate chrome information from the user agent")},e.prototype.logUnableToExtractChromeVersionInformation=function(){c.sendTraceTag(578834885,t.msoulscat_Wac_Telemetry,o.Error,"Unable to extract chrome version information from the user agent")},e.prototype.logUnableToParseChromeMajorVersionString=function(){c.sendTraceTag(578834886,t.msoulscat_Wac_Telemetry,o.Error,"Unable to parse the chromium major version number")},e.prototype.logRequestIdleCallbackMissing=function(){c.sendTraceTag(576582740,t.msoulscat_Wac_Telemetry,o.Warning,"Unable to find window.requestIdleCallback in the JS environment")},e.prototype.logCallbackBeingInvokedImmediately=function(){c.sendTraceTag(576582743,t.msoulscat_Wac_Telemetry,o.Error,"Callback is being invoked immediately as there is no platform support for deferring work")},e.prototype.logCancelIdleCallbackMissing=function(){c.sendTraceTag(576582744,t.msoulscat_Wac_Telemetry,o.Warning,"Unable to find window.cancelIdleCallback in the JS environment")},e.prototype.logUnknownMechanism=function(){c.sendTraceTag(576582747,t.msoulscat_Wac_Telemetry,o.Error,"Unable to find a way to cancel the idle time job")},e.prototype.logWindowSetTimeOutMissingInJSEnvironment=function(){c.sendTraceTag(576239755,t.msoulscat_Wac_Telemetry,o.Error,"window.setTimeout is missing in JS environment")},e.prototype.logWindowPerformanceMissingInJSEnvironment=function(){c.sendTraceTag(576218121,t.msoulscat_Wac_Telemetry,o.Error,"Unable to find window.performance in the JS environment")},e.prototype.logWindowPerformanceNowMissingInJSEnvironment=function(){c.sendTraceTag(576218122,t.msoulscat_Wac_Telemetry,o.Error,"Unable to find window.performance.now in the JS environment")},e.prototype.logNavigatorMissingInJSEnvironment=function(){c.sendTraceTag(574657350,t.msoulscat_Wac_Telemetry,o.Error,"Navigator is missing in the JS environment")},e.prototype.logSendBeaconNotSupported=function(){c.sendTraceTag(573970625,t.msoulscat_Wac_Telemetry,o.Info,"SendBeacon not supported in current environment")},e.prototype.logBeaconURLIsEmpty=function(){c.sendTraceTag(573919702,t.msoulscat_Wac_Telemetry,o.Error,"We were passed an empty URL for sendBeacon")},e.prototype.logBeaconDataIsEmpty=function(){c.sendTraceTag(573907718,t.msoulscat_Wac_Telemetry,o.Error,"We were passed an empty data for sendBeacon")},e.prototype.logDocumentMissingInJsEnvironment=function(){c.sendTraceTag(573572181,t.msoulscat_Wac_Telemetry,o.Error,"Document is not present in JS Environment")},e.prototype.logDocumentVisibilityStateMissingInJsEnvironment=function(){c.sendTraceTag(573572182,t.msoulscat_Wac_Telemetry,o.Error,"Document VisibilityState is not present in JS Environment")},e.prototype.logDocumentAddEventListenerMissingInJsEnvironment=function(){c.sendTraceTag(573572183,t.msoulscat_Wac_Telemetry,o.Error,"Document AddEventListener is not present in JS Environment")},e.prototype.logWindowAddEventListenerNotFound=function(){c.sendTraceTag(538710337,t.msoulscat_Wac_Telemetry,o.Error,"Window AddEventListener is not present in JS Environment")},e.prototype.logPerformanceEventCountsNotSupported=function(){c.sendTraceTag(537522270,t.msoulscat_Wac_Telemetry,o.Warning,"Performance.EventCounts is not present in JS Environment")},e.prototype.logRemoveQueryParamsNotCalled=function(){c.sendTraceTag(527439250,t.msoulscat_Wac_Telemetry,o.Error,"Remove query params was not called before retrieve")},e.prototype.logWindowPerformanceEventCountsMissingInJSEnvironment=function(){c.sendTraceTag(525099864,t.msoulscat_Wac_Telemetry,o.Info,"window.performance.eventcounts was not present in the JS environment")},e}()),I=function(){function e(e){this.logger=e}return e.prototype.hasProperty=function(e){var r=this,t=v.generateOperationResult({didOperationSucceed:!1,result:!1});return P.startNew("CheckWindowProperty",(function(t){if(null==window)return r.logger.logWindowMissingInJSEnvironment(),v.generateOperationResult({didOperationSucceed:!1,result:!1,didOperationFailUnexpectedly:!0});t.addProperty("PropertyNameChecked",e);var o=e in window;return t.addProperty("DoesPropertyExistOnWindow",o),v.generateOperationResult({didOperationSucceed:!0,result:o})}),t).getResult()},e}(),C=(function(){function e(e,r){this.windowPropertyChecker=e,this.logger=r,this.isEventCountsAPIAvailable=!0,this.windowPropertyChecker.hasProperty("performance")||(this.logger.logWindowPerformanceMissingInJSEnvironment(),this.isEventCountsAPIAvailable=!1),null==window.performance.eventCounts&&(this.logger.logWindowPerformanceEventCountsMissingInJSEnvironment(),this.isEventCountsAPIAvailable=!1)}e.prototype.getEventCounts=function(){return this.isEventCountsAPIAvailable,new Map}}(),function(){function e(e){this.logger=e,this.wasRemoveQueryParamsCalled=!1,this.queryParamsRemovedURL=""}return e.prototype.removeQueryParams=function(e){this.wasRemoveQueryParamsCalled=!0,this.queryParamsRemovedURL=e.split("?")[0]},e.prototype.retrieveQueryParamsRemovedURL=function(){return this.wasRemoveQueryParamsCalled?(this.wasRemoveQueryParamsCalled=!1,this.queryParamsRemovedURL):(this.logger.logRemoveQueryParamsNotCalled(),"")},e}()),y=function(){function e(){}return e.prototype.getURLQueryParamsRemover=function(){return new C(new S)},e}(),O=(function(){function e(){}e.prototype.addEventListener=function(e,r){},e.prototype.onError=function(e){},e.prototype.postMessage=function(e){},e.prototype.terminate=function(){}}(),function(){function e(){this.xmlHTTPRequest=new XMLHttpRequest}return e.prototype.open=function(e,r,t){this.xmlHTTPRequest.open(e,r,t)},e.prototype.send=function(e){this.xmlHTTPRequest.send(e)},e}()),b=function(){function e(){}return e.prototype.generateXMLHTTPRequestWrapper=function(){return new O},e}(),k="InvalidUnderlyingMechanism",M="requestIdleCallback",N="hidden",x=function(){function e(e){this.logger=e}return e.prototype.isBrowserChromiumBased=function(e){return function(e,r){var t=v.generateOperationResult({didOperationSucceed:!1,result:!1});return P.startNew("CheckChromiumBrowser",(function(t){if(t.addProperty("UserAgent",e),0===e.localeCompare(""))return r.logEmptyUserAgentString(),v.generateOperationResult({didOperationSucceed:!1,result:!1,didOperationFailUnexpectedly:!0});var o=e.match(/(Chrome\/|CriOS\/)/g);return null!=e.match(/(CriOS\/)/g)&&r.logChromiumOnIOS(),null===o?(r.logBrowserUserAgentNotChromiumBased(),v.generateOperationResult({didOperationSucceed:!0,result:!1})):v.generateOperationResult({didOperationSucceed:!0,result:!0})}),t).getResult()}(e,this.logger)},e.prototype.parseChromeMajorVersionNumber=function(e){return function(e,r){var t=v.generateOperationResult({didOperationSucceed:!1,result:-1});return P.startNew("ParseChromiumMajorVersionNumber",(function(t){t.addProperty("UserAgent",e);var o=e.match(/((Chrome\/|CriOS\/)(\d|\.)+)/g);if(null==o)return r.logChromeNotPresentInUserAgent(),v.generateOperationResult({didOperationSucceed:!1,result:-1});var n=o[0].split("/");if(n.length<2)return r.logUnableToIsolateChromeInformationFromUserAgent(),v.generateOperationResult({didOperationSucceed:!1,result:-1});var s=n[1].split(".");if(s.length<4)return r.logUnableToExtractChromeVersionInformation(),v.generateOperationResult({didOperationSucceed:!1,result:-1});var i=s[0],a=parseInt(i,10);return isNaN(a)?(r.logUnableToParseChromeMajorVersionString(),v.generateOperationResult({didOperationSucceed:!1,result:-1})):(t.addProperty("MajorVersionNumber",a),v.generateOperationResult({didOperationSucceed:!0,result:a}))}),t).getResult()}(e,this.logger)},e}(),R=function(){function e(){}return e.getBrowserUtils=function(){var e=new S;return new x(e)},e}(),F=function(){function e(e,r){this.windowPropertyChecker=e,this.logger=r}return e.prototype.scheduleJobForIdleTime=function(e){var r,t,o,n;r=function(){e()},t=this.windowPropertyChecker,o=this.logger,n=v.generateOperationResult({didOperationSucceed:!1,result:{id:-1,underlyingMechanism:k}}),P.startNew("RequestIdleCallbackShim",(function(){if(t.hasProperty(M)){var e=window.requestIdleCallback(r,undefined);return v.generateOperationResult({didOperationSucceed:!0,result:{id:e,underlyingMechanism:M}})}o.logRequestIdleCallbackMissing();Date.now();return o.logCallbackBeingInvokedImmediately(),r(),v.generateOperationResult({didOperationSucceed:!0,result:{id:-1,underlyingMechanism:k}})}),n).getResult()},e}(),E=function(){function e(){}return e.getIdleTimeJobScheduler=function(){var e=new S,r=new I(e);return new F(r,e)},e}(),W=(function(){function e(){}e.prototype.getBooleanPropertyValue=function(e){var r=v.generateOperationResult({didOperationSucceed:!1,result:!1});return P.startNew("CheckSelfProperty",(function(r){r.addProperty("PropertyChecked",e);var t=!!self.hasOwnProperty(e)&&self[e];return v.generateOperationResult({didOperationSucceed:!0,result:t})}),r).getResult()}}(),function(){function e(e){this.selfPropertyChecker=e}e.prototype.isSiteCrossOriginIsolated=function(){var e=this,r=v.generateOperationResult({didOperationSucceed:!1,result:!1});return P.startNew("CheckCrossOriginSiteIsolation",(function(){var r=e.selfPropertyChecker.getBooleanPropertyValue("crossOriginIsolated");return v.generateOperationResult({didOperationSucceed:!0,result:r})}),r).getResult()}}(),function(){function e(e){this.logger=e}return e.prototype.setTimerJob=function(e,r){var t=this,o=v.generateOperationResult({didOperationSucceed:!1,result:void 0});P.startNew("SetTimerJob",(function(){return null==window?(t.logger.logWindowMissingInJSEnvironment(),v.generateOperationResult({didOperationSucceed:!1,result:void 0,didOperationFailUnexpectedly:!0})):null==window.setTimeout?(t.logger.logWindowSetTimeOutMissingInJSEnvironment(),v.generateOperationResult({didOperationSucceed:!1,result:void 0,didOperationFailUnexpectedly:!0})):(window.setTimeout(e,r),v.generateOperationResult({didOperationSucceed:!0,result:void 0}))}),o)},e}()),_=function(){function e(){}return e.getTimerJobScheduler=function(){var e=new S;return new W(e)},e}(),w=function(){function e(e){var r=this;this.logger=e,this.onVisibilityChange=function(){r.updateIsHidden()},this.isDocumentPresentInJsEnvironment()||this.logger.logDocumentMissingInJsEnvironment(),this.isDocumentVisibilityStatePresentInJsEnvironment()||this.logger.logDocumentVisibilityStateMissingInJsEnvironment(),this.isDocumentAddEventListenerPresentInJsEnvironment()||this.logger.logDocumentAddEventListenerMissingInJsEnvironment(),this.lastUnHiddenDate=void 0,this.isDocumentHidden=!1,this.updateIsHidden(),document.addEventListener("visibilitychange",this.onVisibilityChange)}return e.prototype.isDocumentVisibleNow=function(){var e=this,r=v.generateOperationResult({didOperationSucceed:!1,result:!1});return P.startNew("CheckDocumentVisibility",(function(){if(!e.isDocumentPresentInJsEnvironment())return e.logger.logDocumentMissingInJsEnvironment(),v.generateOperationResult({didOperationSucceed:!1,result:!1,didOperationFailUnexpectedly:!0});if(!e.isDocumentVisibilityStatePresentInJsEnvironment())return e.logger.logDocumentVisibilityStateMissingInJsEnvironment(),v.generateOperationResult({didOperationSucceed:!1,result:!1,didOperationFailUnexpectedly:!0});var r=document.visibilityState!==N;return v.generateOperationResult({didOperationSucceed:!0,result:r})}),r).getResult()},e.prototype.wasDocumentHiddenDuringTimeRange=function(e){var r=this,t=v.generateOperationResult({didOperationSucceed:!1,result:!1});return P.startNew("WasDocumentHiddenDuringTimeRange",(function(){if(r.isDocumentHidden)return v.generateOperationResult({didOperationSucceed:!0,result:!0});if(void 0===r.lastUnHiddenDate)return v.generateOperationResult({didOperationSucceed:!0,result:!1});var t=Date.now()-r.lastUnHiddenDate<e;return v.generateOperationResult({didOperationSucceed:!0,result:t})}),t).getResult()},e.prototype.isDocumentPresentInJsEnvironment=function(){return null!=document},e.prototype.isDocumentVisibilityStatePresentInJsEnvironment=function(){return"visibilityState"in document},e.prototype.isDocumentAddEventListenerPresentInJsEnvironment=function(){return"addEventListener"in document},e.prototype.updateIsHidden=function(){this.isDocumentHidden=document.visibilityState===N,this.isDocumentHidden||(this.lastUnHiddenDate=Date.now())},e}(),U=function(){function e(){}return e.getDocumentVisibilityChecker=function(){var e=new S;return new w(e)},e}();!function(e){e.SendBeacon="sendBeacon"}(d||(d={}));var L=function(){function e(e,r,t,o){this.navigatorPropertyChecker=e,this.navigatorAPI=r,this.xmlHTTPRequestWrapperFactory=t,this.logger=o}return e.prototype.sendBeacon=function(e){return r=this.navigatorPropertyChecker,t=this.navigatorAPI,o=this.xmlHTTPRequestWrapperFactory,n=this.logger,s=e.url,i=e.data,a=v.generateOperationResult({didOperationSucceed:!1,result:!1}),P.startNew("SendBeaconCall",(function(e){if(0===s.length)return n.logBeaconURLIsEmpty(),v.generateOperationResult({didOperationSucceed:!1,result:!1});if(0===i.length)return n.logBeaconDataIsEmpty(),v.generateOperationResult({didOperationSucceed:!1,result:!1});if(!r.hasProperty(d.SendBeacon)){n.logSendBeaconNotSupported();var a=o.generateXMLHTTPRequestWrapper();return a.open("POST",s,!0),a.send(i),e.addProperty("POSTRequestSent",!0),v.generateOperationResult({didOperationSucceed:!0,result:!0})}var l=t.sendBeacon(s,i);return e.addProperty("BeaconRequestSuccessfullyQueued",l),v.generateOperationResult({didOperationSucceed:!0,result:l})}),a).getResult();var r,t,o,n,s,i,a},e}(),B=function(){function e(e){this.logger=e}return e.prototype.hasProperty=function(e){var r=this,t=v.generateOperationResult({didOperationSucceed:!1,result:!1});return P.startNew("CheckNavigatorProperty",(function(t){if(null==navigator)return r.logger.logNavigatorMissingInJSEnvironment(),v.generateOperationResult({didOperationSucceed:!1,result:!1,didOperationFailUnexpectedly:!0});t.addProperty("NavigatorPropertyChecked",e);var o=e in navigator;return t.addProperty("IsPropertyPresentInNavigatorResult",o),v.generateOperationResult({didOperationSucceed:!0,result:o})}),t).getResult()},e}(),A=function(){function e(e){this.logger=e}return e.prototype.sendBeacon=function(e,r){return null==navigator?(this.logger.logNavigatorMissingInJSEnvironment(),!1):navigator.sendBeacon(e,r)},e}(),J=function(){function e(){}return e.getSendBeaconScheduler=function(){var e=new S,r=new B(e),t=new A(e),o=new b;return new L(r,t,o,e)},e}(),D=function(){function e(e){this.logger=e}return e.prototype.getCurrentTimestamp=function(){if(null!=window)if(null!=window.performance){if(null!=window.performance.now)return window.performance.now();this.logger.logWindowPerformanceNowMissingInJSEnvironment()}else this.logger.logWindowPerformanceMissingInJSEnvironment();else this.logger.logWindowMissingInJSEnvironment()},e}(),V=function(){function e(){}return e.getTimestampRetriever=function(){var e=new S;return new D(e)},e}(),z=function(){function e(){this.elements=new Map,this.queueIndex=0,this.dequeueIndex=0}return e.prototype.peek=function(){return this.elements.size>0?this.elements.get(this.dequeueIndex):void 0},e.prototype.queue=function(e){this.elements.set(this.queueIndex,e),this.queueIndex+=1},e.prototype.dequeue=function(){0!==this.elements.size&&(this.elements.delete(this.dequeueIndex),this.dequeueIndex+=1)},e.prototype.length=function(){return this.elements.size},e}(),G=function(){function e(){}return e.createQueue=function(){return new z},e}(),q=function(){function e(e){this.logger=e,this.logger=e}return e.prototype.retrieveUserAgent=function(){var e=this,r=v.generateOperationResult({didOperationSucceed:!1,result:""});return P.startNew("RetrieveUserAgent",(function(){var r=e.getUserAgentFromNavigatorAPI();return v.generateOperationResult({didOperationSucceed:!0,result:r})}),r).getResult()},e.prototype.getUserAgentFromNavigatorAPI=function(){return"undefined"==typeof navigator?(this.logger.logNavigatorMissingInJSEnvironment(),""):navigator.userAgent},e}(),j=function(){function e(){}return e.getUserAgentRetriever=function(){return new q(new S)},e}(),H=function(){function e(){this.elements=[]}return e.prototype.peek=function(){var e=this.count();if(0!==e)return this.elements[e-1]},e.prototype.push=function(e){this.elements.push(e)},e.prototype.pop=function(){this.elements.pop()},e.prototype.count=function(){return this.elements.length},e}(),Q=function(){function e(){}return e.createStack=function(){return new H},e}(),K=function(){function e(){}return e.getWindowPropertyChecker=function(){var e=new S;return new I(e)},e}(),Z=(function(){function e(e){this.windowPropertyChecker=e}e.prototype.isWebWorkerAPIAvailable=function(){return!!this.windowPropertyChecker.hasProperty("Worker")},e.prototype.isSharedWebWorkerAPIAvailable=function(){return!!this.windowPropertyChecker.hasProperty("SharedWorker")}}(),function(){function e(){}return e.prototype.generateGuid=function(){return""},e}()),X=function(){function e(){}return e.getGuidGenerator=function(){return new Z},e}();function Y(){var e=new S;if(window)if(window.performance){var r=window.performance.eventCounts;if(r){var t=0;return r.forEach((function(e){return t+=e})),t}e.logPerformanceEventCountsNotSupported()}else e.logWindowPerformanceMissingInJSEnvironment();else e.logWindowMissingInJSEnvironment()}var $=function(e,r){return $=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},$(e,r)};function ee(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=e}$(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}Object.create,Object.create;var re,te,oe="JSSelfProfilingAPI-Profile",ne="StartManualProfiler",se="StopManualProfiler",ie="StartTimedProfiler",ae="StopTimedProfiler",le="StartManualProfilerInternal",ce="StopManualProfilerInternal",ue="StartContinuousProfiler",de="StopContinuousProfiler",ge="TransformProfilerTrace",pe="StartFullSessionProfiler",fe="StopFullSessionProfiler",me="SendCallTrees",Te="SerializeCallTreesArray",he="OnMessageReceivedFromWorker",Pe="useWebWorkForProfilerTraceProcessing",ve=[oe,ge,me,Te,he,Pe,"ProfilerWorkerOnMessage",ce,pe,ne,ie,ue,de,fe,se,ae,le];!function(e){e[e.Manual=0]="Manual",e[e.Timed=1]="Timed",e[e.Continuous=2]="Continuous",e[e.FullSession=3]="FullSession"}(re||(re={})),function(e){e[e.ProfilerStopped=0]="ProfilerStopped",e[e.PreProfilerStart=1]="PreProfilerStart"}(te||(te={}));var Se,Ie=function(){function e(e,r,t,o,n){this.customProperties=e,this.profilerTrace=r,this.profilerTraceStartTimestamp=t,this.profilerProperties=o,this.elapsedProfilingTime=n}return e.prototype.getCustomProperties=function(){return this.customProperties},e.prototype.getResources=function(){return this.profilerTrace.resources},e.prototype.getFrames=function(){return this.profilerTrace.frames},e.prototype.getStacks=function(){return this.profilerTrace.stacks},e.prototype.getSamples=function(){return this.profilerTrace.samples},e.prototype.getSamplesTrimmed=function(){return this.getSamples().reduce((function(e,r){var t=e.length>0&&void 0!==e[e.length-1].stackId;return(void 0!==r.stackId||t)&&e.push(r),e}),[])},e.prototype.getProfilerTraceStartTimestamp=function(){return this.profilerTraceStartTimestamp},e.prototype.getProfilerProperties=function(){return this.profilerProperties},e.prototype.getElapsedProfilingTimeInMs=function(){return this.elapsedProfilingTime},e}();!function(e){e.Chrome="chrome"}(Se||(Se={}));var Ce={samplingIntervalInMs:-1},ye={name:"InvalidFrameName",resourceId:-1,line:-1,column:-1},Oe={name:"EndOfSiblingChainFrame",resourceId:-1,line:-1,column:-1},be="InvalidResourceName",ke=!1,Me=!1,Ne=!1,xe={obfuscatedName:"InvalidObfuscatedName",startTimeInMs:-1,frameOnlyRunTimeInMs:-1,subTreeRunTimeInMs:-1,totalExecutionTimeInMs:-1,hasChildrenNodes:!1,resourceInfo:{resourceName:be,lineNo:-1,columnNo:-1}},Re=!1,Fe=!1,Ee=!1,We=!1,_e="00000000-0000-0000-0000-000000000000",we=!1,Ue=!0,Le=!1,Be=!1;function Ae(e,r,t){var o=v.generateOperationResult({didOperationSucceed:!1,result:void 0});P.startNew("SendProfilerEventToProfilerObservers",(function(n){return n.addProperty("ProfilerEventIdToSendToObservers",r.eventId),e.forEach((function(e,n){-1!==e.indexOf(r.eventId)&&P.startNew("InvokeOnProfilerEventOnProfilerObserver",(function(){return n.onProfilerEvent(r),v.generateOperationResult({didOperationSucceed:!0,result:void 0})}),o,t)})),v.generateOperationResult({didOperationSucceed:!0,result:void 0})}),o,t)}var Je=function(e,r){this.subscriber=e,this.subscriptionList=r,this.subscriberString="callTreeCustomFilterer"},De=function(e,r){this.subscriber=e,this.subscriptionList=r,this.subscriberString="customPropertiesRetriever"},Ve=function(){function e(e,r,t,o,n,s,i){this.preProfilerStartChecker=e,this.jsSelfProfilingAPI=r,this.profilerInitOptions=t,this.customPropertiesRetriever=o,this.timestampRetriever=n,this.customPropertiesExtractor=s,this.logger=i,this.profiler=void 0,this.profilerTrace=void 0,this.profilerStartTimestamp=void 0,this.profilerStopTimestamp=void 0,this.didPreProfilerStartChecksFail=!1,this.profilerObserversToProfilerEventIds=new Map,this.callTreeCustomPropertiesRetrievers=[],this.documentEventsCountBeforeProfiling=void 0,this.callTreeCustomFilterers=[]}return e.prototype.start=function(){var e=this,r=v.generateOperationResult({didOperationSucceed:!1,result:void 0});P.startNew(ne,(function(){var r=e.startProfilerImplementation();return v.generateOperationResult({didOperationSucceed:r,result:void 0})}),r,this.logger)},e.prototype.startProfilerImplementation=function(e){var r=this,t=v.generateOperationResult({didOperationSucceed:!1,result:!1});return P.startNew(le,(function(t){return void 0!==r.profiler?(r.logger.logProfilerAlreadyStarted(),v.generateOperationResult({didOperationSucceed:!1,result:!1})):r.preProfilerStartChecker.shouldProfilingStart()?null==r.profilerInitOptions.maximumNumberOfSamplesToTake?(r.logger.logMaxBufferSizeNotFixed(),v.generateOperationResult({didOperationSucceed:!1,result:!1})):(t.addProperty("SamplingInterval",r.profilerInitOptions.samplingIntervalInMs),t.addProperty("MaxBufferSize",r.profilerInitOptions.maximumNumberOfSamplesToTake),Ae(r.profilerObserversToProfilerEventIds,{eventId:te.PreProfilerStart,eventData:void 0},r.logger),r.profiler=r.jsSelfProfilingAPI.createProfiler({sampleInterval:r.profilerInitOptions.samplingIntervalInMs,maxBufferSize:r.profilerInitOptions.maximumNumberOfSamplesToTake}),null==r.profiler?(r.logger.logBailingOutOnNullProfiler(),v.generateOperationResult({didOperationSucceed:!1,result:!1})):(r.preProfilerStartChecker.getShouldProcessProfileCapturedWhileUserIsIdle()||(r.documentEventsCountBeforeProfiling=Y()),r.profilerStartTimestamp=r.timestampRetriever.getCurrentTimestamp(),null!=e&&e(!0),v.generateOperationResult({didOperationSucceed:!0,result:!0}))):(r.logger.logPreProfilerStartCheckFailed(),r.didPreProfilerStartChecksFail=!0,e&&e(!1),v.generateOperationResult({didOperationSucceed:!0,result:!0}))}),t,this.logger).getResult()},e.prototype.stop=function(){var e=this,r=v.generateOperationResult({didOperationSucceed:!1,result:void 0});P.startNew(se,(function(){var r=e.stopProfilerImplementation();return v.generateOperationResult({didOperationSucceed:r,result:void 0})}),r,this.logger)},e.prototype.stopProfilerImplementation=function(e){var r=this,t=v.generateOperationResult({didOperationSucceed:!1,result:!1});return P.startNew(ce,(function(t){if(null==r.profiler){var o=!!r.didPreProfilerStartChecksFail;return r.didPreProfilerStartChecksFail=!1,r.logger.logProfilerInstanceIsUndefined(),v.generateOperationResult({didOperationSucceed:o,result:!1})}return r.profiler.stop().then((function(o){r.profilerStopTimestamp=r.timestampRetriever.getCurrentTimestamp(),r.profilerTrace=o;var n=r.customPropertiesExtractor.extractCustomProperties(r.customPropertiesRetriever),s=-1;void 0!==r.profilerStartTimestamp&&void 0!==r.profilerStopTimestamp&&(s=r.profilerStopTimestamp-r.profilerStartTimestamp),t.addProperty("ElapsedProfilingTime",s);var i={profilerTrace:new Ie(n,r.profilerTrace,void 0!==r.profilerStartTimestamp?r.profilerStartTimestamp:-1,r.profilerInitOptions,s),callTreeCustomPropertiesRetrievers:r.callTreeCustomPropertiesRetrievers,documentEventsCountBeforeProfiling:r.documentEventsCountBeforeProfiling,callTreeCustomFilterers:r.callTreeCustomFilterers};r.profilerStartTimestamp=void 0,r.profilerStopTimestamp=void 0;var a={eventId:te.ProfilerStopped,eventData:i};Ae(r.profilerObserversToProfilerEventIds,a,r.logger),r.profiler=void 0,r.documentEventsCountBeforeProfiling=void 0,null!=e&&e()}),(function(e){r.logger.logProfilerStopPromiseRejected(e),r.profiler=void 0,r.profilerTrace=void 0})),v.generateOperationResult({didOperationSucceed:!0,result:!0})}),t,this.logger).getResult()},e.prototype.subscribeProfilerObserver=function(e,r){var t=this,o=v.generateOperationResult({didOperationSucceed:!1,result:void 0});P.startNew("SubscribeProfilerObserver",(function(o){if(null==e)return t.logger.logNullOrUndefinedProfilerObserverPassedInForSubscribe(),v.generateOperationResult({didOperationSucceed:!1,result:void 0});if(null==r)return t.logger.logNullOrUndefinedProfilerEventIds(),v.generateOperationResult({didOperationSucceed:!1,result:void 0});if(o.addProperty("ProfilerEventIds",Array.from(r)),t.profilerObserversToProfilerEventIds.has(e)){var n=t.profilerObserversToProfilerEventIds.get(e);null==n?t.logger.logUnexpectedUndefinedProfilerEventIds():(r.forEach((function(e){n.push(e)})),t.profilerObserversToProfilerEventIds.set(e,Array.from(new Set(n))))}else t.profilerObserversToProfilerEventIds.set(e,Array.from(r));return v.generateOperationResult({didOperationSucceed:!0,result:void 0})}),o,this.logger)},e.prototype.unsubscribeProfilerObserver=function(e,r){var t=this,o=v.generateOperationResult({didOperationSucceed:!1,result:void 0});P.startNew("UnsubscribeProfilerObserver",(function(o){if(null==e)return t.logger.logNullOrUndefinedProfilerObserverPassedInForUnsubscribe(),v.generateOperationResult({didOperationSucceed:!1,result:void 0});if(null==r)return t.logger.logNullOrUndefinedProfilerEventToUnsubscribe(),v.generateOperationResult({didOperationSucceed:!1,result:void 0});if(o.addProperty("ProfilerEventToUnsubscribe",r),!t.profilerObserversToProfilerEventIds.has(e))return t.logger.logProfilerObserverWasNeverSubscribed(),v.generateOperationResult({didOperationSucceed:!1,result:void 0});var n=t.profilerObserversToProfilerEventIds.get(e);return null==n?(t.logger.logUnexpectedNullOrUndefinedSubscribedProfilerEventIds(),v.generateOperationResult({didOperationSucceed:!1,result:void 0})):-1===n.indexOf(r)?(t.logger.logProfilerObserverNeverSubscribedForProfilerEventId(r),v.generateOperationResult({didOperationSucceed:!1,result:void 0})):(t.profilerObserversToProfilerEventIds.set(e,n.filter((function(e){return e!==r}))),v.generateOperationResult({didOperationSucceed:!0,result:void 0}))}),o,this.logger)},e.prototype.subscribeCallTreeCustomPropertiesRetriever=function(e){var r=this,t=v.generateOperationResult({didOperationSucceed:!1,result:void 0});P.startNew("SubscibeCallTreeCustomPropertiesRetriever",(function(){return r.subscribeToProfiler(new De(e,r.callTreeCustomPropertiesRetrievers))}),t,this.logger)},e.prototype.unsubscribeCallTreeCustomPropertiesRetriever=function(e){var r=this,t=v.generateOperationResult({didOperationSucceed:!1,result:void 0});P.startNew("UnsubscribeCallTreeCustomPropertiesRetriever",(function(){return r.unsubscribeFromProfiler(new De(e,r.callTreeCustomPropertiesRetrievers))}),t,this.logger)},e.prototype.subscribeCallTreeCustomFilterer=function(e){var r=this,t=v.generateOperationResult({didOperationSucceed:!1,result:void 0});P.startNew("subscribeCallTreeCustomFilterer",(function(){return r.subscribeToProfiler(new Je(e,r.callTreeCustomFilterers))}),t,this.logger)},e.prototype.unsubscribeCallTreeCustomFilterer=function(e){var r=this,t=v.generateOperationResult({didOperationSucceed:!1,result:void 0});P.startNew("unsubscribeCallTreeCustomFilterer",(function(){return r.unsubscribeFromProfiler(new Je(e,r.callTreeCustomFilterers))}),t,this.logger)},e.prototype.subscribeToProfiler=function(e){return null==e.subscriber?(this.logger.logNullOrUndefinedItemToSubscribe(e.subscriberString),v.generateOperationResult({didOperationSucceed:!1,result:void 0})):(e.subscriptionList.push(e.subscriber),v.generateOperationResult({didOperationSucceed:!0,result:void 0}))},e.prototype.unsubscribeFromProfiler=function(e){if(null==e.subscriber)return this.logger.logNullOrUndefinedItemForUnsubscribe(e.subscriberString),v.generateOperationResult({didOperationSucceed:!1,result:void 0});var r=e.subscriptionList.indexOf(e.subscriber);return-1===r?(this.logger.logItemWasNeverSubscribed(e.subscriberString),v.generateOperationResult({didOperationSucceed:!1,result:void 0})):(e.subscriptionList.splice(r,1),v.generateOperationResult({didOperationSucceed:!0,result:void 0}))},e}(),ze=function(e){function r(r,t,o,n,s,i,a,l){var c=e.call(this,r,t,o,s,i,a,l)||this;return c.timerJobScheduler=n,c.postProfilerStartCallback=function(e){c.logger.logPostTimedStartProfilerStartCallbackInvoked(),null!=c.profilerInitOptions.profilingIntervalInMs?e&&(c.timerJobScheduler.setTimerJob(c.postTimerStopCallBack,c.profilerInitOptions.profilingIntervalInMs),c.logger.logTimerJobToStopProfilerSet()):c.logger.logProfilingIntervalIsUndefined()},c.postTimerStopCallBack=function(){c.logger.logTimedProfilerStopCallbackInvoked(),c.stop(!0)},c}return ee(r,e),r.prototype.start=function(){var r=this,t=v.generateOperationResult({didOperationSucceed:!1,result:void 0});P.startNew(ie,(function(){return e.prototype.startProfilerImplementation.call(r,r.postProfilerStartCallback),v.generateOperationResult({didOperationSucceed:!0,result:void 0})}),t,this.logger)},r.prototype.stop=function(r){var t=this,o=v.generateOperationResult({didOperationSucceed:!1,result:void 0});P.startNew(ae,(function(){return null==r||r||t.logger.logTimedProfilerIsBeingStoppedManually(),e.prototype.stopProfilerImplementation.call(t),v.generateOperationResult({didOperationSucceed:!0,result:void 0})}),o,this.logger)},r}(Ve),Ge=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.postProfilerStartCallback=function(e){r.logger.logPostTimedStartProfilerStartCallbackInvoked(),r.profilerInitOptions.profilingIntervalInMs?e?(r.timerJobScheduler.setTimerJob(r.postTimerStopCallBack,r.profilerInitOptions.profilingIntervalInMs),r.logger.logTimerJobToStopProfilerSet()):(r.logger.logPostProfilerStopCallbackInvoked(),r.postProfilerStopCallback()):r.logger.logProfilingIntervalIsUndefined()},r.postProfilerStopCallback=function(){null!=r.profilerInitOptions.idleIntervalInMs?r.timerJobScheduler.setTimerJob(r.profilerStopCallback,r.profilerInitOptions.idleIntervalInMs):r.logger.logNullOrUndefinedIdleInterval()},r.profilerStopCallback=function(){r.start()},r}return ee(r,e),r.prototype.start=function(){var r=this,t=v.generateOperationResult({didOperationSucceed:!1,result:void 0});P.startNew(ue,(function(){return e.prototype.start.call(r),v.generateOperationResult({didOperationSucceed:!0,result:void 0})}),t,this.logger)},r.prototype.stop=function(){var r=this,t=v.generateOperationResult({didOperationSucceed:!1,result:void 0});P.startNew(de,(function(){return e.prototype.stopProfilerImplementation.call(r,r.postProfilerStopCallback),v.generateOperationResult({didOperationSucceed:!0,result:void 0})}),t,this.logger)},r}(ze),qe=function(e){function r(r,t,o,n,s,i,a,l){var c=e.call(this,r,t,o,s,i,a,l)||this;return c.timerJobScheduler=n,c.postProfilerStartCallback=function(e){c.timerJobScheduler.setTimerJob((function(){e?c.stop(!0):c.start()}),e?1e4:0)},c.postProfilerStopCallback=function(){c.start()},c}return ee(r,e),r.prototype.start=function(){var e=this,r=v.generateOperationResult({didOperationSucceed:!1,result:void 0});return P.startNew(pe,(function(){return e.startProfilerImplementation(e.postProfilerStartCallback),v.generateOperationResult({didOperationSucceed:!0,result:void 0})}),r,this.logger).getResult()},r.prototype.stop=function(e){var r=this,t=v.generateOperationResult({didOperationSucceed:!1,result:void 0});return P.startNew(fe,(function(){var t=void 0;return void 0!==e&&e&&(t=r.postProfilerStopCallback),r.stopProfilerImplementation(t),v.generateOperationResult({didOperationSucceed:!0,result:void 0})}),t,this.logger).getResult()},r}(Ve),je=function(){function e(e){this.logger=e}return e.prototype.createProfiler=function(e){var r=v.generateOperationResult({didOperationSucceed:!1,result:null});return P.startNew(oe,(function(){var r=new Profiler(e);return v.generateOperationResult({didOperationSucceed:!0,result:r})}),r,this.logger).getResult()},e}(),He=function(){function e(e,r,t){this.documentVisibilityChecker=e,this.shouldProfilerStartInAHiddenDocument=r,this.shouldProcessProfileCapturedWhileUserIsIdle=t}return e.prototype.shouldProfilingStart=function(){return!!this.isDocumentVisibleNow()||this.shouldProfilerStartInAHiddenDocument},e.prototype.getShouldProcessProfileCapturedWhileUserIsIdle=function(){return this.shouldProcessProfileCapturedWhileUserIsIdle},e.prototype.isDocumentVisibleNow=function(){return this.documentVisibilityChecker.isDocumentVisibleNow()},e}(),Qe=function(){function e(e){this.logger=e}return e.prototype.extractCustomProperties=function(e){var r=this,t=v.generateOperationResult({didOperationSucceed:!1,result:{}});return P.startNew("ExtractCustomProperties",(function(){var t={};if(null!=e&&"getCustomProperties"in e&&"function"===_type_of(e.getCustomProperties)){var o=e.getCustomProperties(void 0);null!=o?o.forEach((function(e,o){null==o?r.logger.logCustomPropertyKeyIsNull():null==e?r.logger.logCustomPropertyValueIsNull():t[o]=e})):r.logger.logNullOrUndefinedCustomProperties()}else r.logger.logNullOrUndefinedCustomPropertiesRetriever();return v.generateOperationResult({didOperationSucceed:!0,result:t})}),t,this.logger).getResult()},e.prototype.extractCustomPropertiesV2=function(e,r){var t=this,o=v.generateOperationResult({didOperationSucceed:!1,result:{}});return P.startNew("ExtractCustomPropertiesV2",(function(){var o={};if(null!=e&&"getCustomProperties"in e&&"function"===_type_of(e.getCustomProperties)){var n=e.getCustomProperties(r);null!=n?n.forEach((function(e,r){null==r?t.logger.logCustomPropertyKeyIsNull():null==e?t.logger.logCustomPropertyValueIsNull():o[r]=e})):t.logger.logNullOrUndefinedCustomProperties()}else t.logger.logNullOrUndefinedCustomPropertiesRetriever();return v.generateOperationResult({didOperationSucceed:!0,result:o})}),o,this.logger).getResult()},e}(),Ke=function(){function e(){}return e.buildProfiler=function(e,r,t,o,s,i){var a=v.generateOperationResult({didOperationSucceed:!1,result:new n(i)});return P.startNew("BuildProfilerInstance",(function(a){a.addProperty("ProfilerName",function(e,r){var t="";switch(e){case re.Manual:t="ManualProfiler";break;case re.Timed:t="TimedProfiler";break;case re.Continuous:t="ContinuousProfiler";break;case re.FullSession:t="FullSessionProfiler";break;default:r.logMissingProfilerNameForProfilerType(e),t="MissingProfilerName"}return t}(e,i)),a.addProperty("ProfilerInitOptions",{samplingIntervalInMs:r.samplingIntervalInMs,maximumNumberOfSamplesToTake:r.maximumNumberOfSamplesToTake,profilingIntervalInMs:r.profilingIntervalInMs,idleIntervalInMs:r.idleIntervalInMs});var l=U.getDocumentVisibilityChecker(),c=new He(l,null==s.shouldProfilingStartInAHiddenDocument?ke:s.shouldProfilingStartInAHiddenDocument,null==s.shouldProcessProfileCapturedWhileUserIsIdle?Ue:s.shouldProcessProfileCapturedWhileUserIsIdle),u=new je(i),d=_.getTimerJobScheduler(),g=V.getTimestampRetriever(),p=new Qe(i),f=void 0,m=!1,T=!1,h=!1,P=new Set;switch(P.add(te.ProfilerStopped),e){case re.Manual:var S=new Ve(c,u,r,t,g,p,i);S.subscribeProfilerObserver(o,P),h=!0,f=S,m=!0;break;case re.Timed:var I=new ze(c,u,r,d,t,g,p,i);I.subscribeProfilerObserver(o,P),h=!0,f=I,m=!0;break;case re.Continuous:var C=new Ge(c,u,r,d,t,g,p,i);C.subscribeProfilerObserver(o,P),h=!0,f=C,m=!0;break;case re.FullSession:var y=new qe(c,u,r,d,t,g,p,i);y.subscribeProfilerObserver(o,P),h=!0,f=y,m=!0;break;default:i.logMissingProfilerImplementation(e),f=new n(i),m=!1,T=!0}void 0===f&&i.logNoProfilerInstanceBuilt(),void 0===f||h||i.logCreateProfilerDidNotSubscribeProfilerObserver();var O=void 0===f?new n(i):f;return v.generateOperationResult({didOperationSucceed:m,result:O,didOperationFailUnexpectedly:T})}),a,i).getResult()},e}(),Ze=function(){function e(e,r,t,o,n,s){this.validator=e,this.logger=r,this.optionsValidatorFactory=t,this.profilerInitOptionsFixerFactory=o,this.profilerObserver=n,this.packageInitOptions=s,this.numberOfProfilersCreated=0}return e.prototype.createProfiler=function(e,r,t){var o=this,s=v.generateOperationResult({didOperationSucceed:!1,result:new n(this.logger)});return P.startNew("CreateProfiler",(function(){if(!o.validator.areValidationsSuccessful())return o.logger.logFailingValidationsInProfilerFactory(),v.generateOperationResult({didOperationSucceed:!1,result:new n(o.logger)});if(!o.optionsValidatorFactory.retrieveValidator(e).isValid(r))return o.logger.logProfilerInitOptionsValidationFailed(),v.generateOperationResult({didOperationSucceed:!1,result:new n(o.logger)});var s=o.profilerInitOptionsFixerFactory.getFixerForProfilerType(e);s.fixProfilerInitOptions(r);var i=s.retrieveFixedProfilerInitOptions();if(null==i)return o.logger.logUnableToFixUpProfilerInitOptions(),v.generateOperationResult({didOperationSucceed:!1,result:new n(o.logger)});if(o.numberOfProfilersCreated>=100)return o.logger.logMaxNumberOfProfilersAlreadyCreated(),v.generateOperationResult({didOperationSucceed:!1,result:new n(o.logger)});var a=Ke.buildProfiler(e,i,t,o.profilerObserver,o.packageInitOptions,o.logger);return o.numberOfProfilersCreated=o.numberOfProfilersCreated+1,v.generateOperationResult({didOperationSucceed:!0,result:a})}),s,this.logger).getResult()},e.prototype.createProfilerV2=function(e,r,t){var o=this,s=v.generateOperationResult({didOperationSucceed:!1,result:new n(this.logger)});return P.startNew("CreateProfilerV2",(function(){if(!o.validator.areValidationsSuccessful())return o.logger.logFailingValidationsInProfilerFactory(),v.generateOperationResult({didOperationSucceed:!1,result:new n(o.logger)});if(!o.optionsValidatorFactory.retrieveValidator(e).isValid(r))return o.logger.logProfilerInitOptionsValidationFailed(),v.generateOperationResult({didOperationSucceed:!1,result:new n(o.logger)});var s=o.profilerInitOptionsFixerFactory.getFixerForProfilerType(e);s.fixProfilerInitOptions(r);var i=s.retrieveFixedProfilerInitOptions();if(null==i)return o.logger.logUnableToFixUpProfilerInitOptions(),v.generateOperationResult({didOperationSucceed:!1,result:new n(o.logger)});if(o.numberOfProfilersCreated>=100)return o.logger.logMaxNumberOfProfilersAlreadyCreated(),v.generateOperationResult({didOperationSucceed:!1,result:new n(o.logger)});var a=Ke.buildProfiler(e,i,t,o.profilerObserver,o.packageInitOptions,o.logger);return o.numberOfProfilersCreated=o.numberOfProfilersCreated+1,v.generateOperationResult({didOperationSucceed:!0,result:a})}),s,this.logger).getResult()},e}(),Xe=function(){function e(e,r,t){this.featureChecker=e,this.supportedEnvironmentChecker=r,this.logger=t}return e.prototype.areValidationsSuccessful=function(){var e=this,r=v.generateOperationResult({didOperationSucceed:!1,result:!1});return P.startNew("CheckProfilerFactoryValidations",(function(){return e.isFeatureEnabled()?e.isSupportedEnvironmentForProfiling()?v.generateOperationResult({didOperationSucceed:!0,result:!0}):(e.logger.logProfilingIsNotSupportedEnvironment(),v.generateOperationResult({didOperationSucceed:!0,result:!1})):(e.logger.logProfilingIsNotEnabled(),v.generateOperationResult({didOperationSucceed:!0,result:!1}))}),r,this.logger).getResult()},e.prototype.isFeatureEnabled=function(){return null==this.featureChecker?(this.logger.logFeatureCheckerIsNullOrUndefined(),!1):"isProfilingEnabled"in this.featureChecker?"function"!==_type_of(this.featureChecker.isProfilingEnabled)?(this.logger.logFeatureCheckerIsProfilingEnabledNotAFunction(),!1):this.featureChecker.isProfilingEnabled():(this.logger.logMissingIsProfilingEnabledOnFeatureChecker(),!1)},e.prototype.isSupportedEnvironmentForProfiling=function(){return this.supportedEnvironmentChecker.isSupportedEnvironment()},e}(),Ye=function(){function e(e,r,t){this.userAgentRetriever=e,this.browserUtils=r,this.logger=t}return e.prototype.isProfilingSupportedInJSEnvironment=function(){var e=this,r=v.generateOperationResult({didOperationSucceed:!1,result:!1});return P.startNew("CheckSupportedBrowser",(function(r){var t=e.userAgentRetriever.retrieveUserAgent();r.addProperty("UserAgent",t);var o=e.browserUtils.isBrowserChromiumBased(t);if(r.addProperty("isChromiumBasedBrowser",o),!o)return e.logger.logBrowserUserAgentNotChromiumBased(),v.generateOperationResult({didOperationSucceed:!0,result:!1});var n=e.browserUtils.parseChromeMajorVersionNumber(t);r.addProperty("ChromiumMajorVersionNumber",n);var s=n>=94;return r.addProperty("IsSupportedVersionOfChromiumBrowser",s),s?v.generateOperationResult({didOperationSucceed:!0,result:!0}):(e.logger.logUnsupportedChromiumMajorVersionNumber(),v.generateOperationResult({didOperationSucceed:!0,result:!1}))}),r,this.logger).getResult()},e}(),$e=function(){function e(e,r,t,o){this.supportedBrowserChecker=e,this.supportedOperatingSystemChecker=r,this.jsSelfProfilingAPIAvailabilityChecker=t,this.logger=o}return e.prototype.isSupportedEnvironment=function(){var e=this,r=v.generateOperationResult({didOperationSucceed:!1,result:!1});return P.startNew("CheckSupportedEnvironment",(function(){return e.isSupportedBrowser()?e.isSupportedOperatingSystem()?e.isJSSelfProfilingAPIAvailable()?v.generateOperationResult({didOperationSucceed:!0,result:!0}):(e.logger.logJSSelfProfilingAPIUnavailable(),v.generateOperationResult({didOperationSucceed:!0,result:!1})):(e.logger.logUnsupportedOperatingSystem(),v.generateOperationResult({didOperationSucceed:!0,result:!1})):(e.logger.logUnsupportedBrowser(),v.generateOperationResult({didOperationSucceed:!0,result:!1}))}),r,this.logger).getResult()},e.prototype.isSupportedBrowser=function(){return this.supportedBrowserChecker.isProfilingSupportedInJSEnvironment()},e.prototype.isSupportedOperatingSystem=function(){return this.supportedOperatingSystemChecker.isSupportedOperatingSystem()},e.prototype.isJSSelfProfilingAPIAvailable=function(){return this.jsSelfProfilingAPIAvailabilityChecker.isJSSelfProfilingAPIAvailable()},e}(),er=function(){function e(e,r){this.userAgentRetriever=e,this.logger=r}return e.prototype.isSupportedOperatingSystem=function(){var e=this,r=v.generateOperationResult({didOperationSucceed:!1,didOperationFailUnexpectedly:!0,result:!1});return P.startNew("SupportedOperatingSystemCheck",(function(){var r=e.isOperatingSystemWindows();return v.generateOperationResult({didOperationSucceed:!0,result:r})}),r,this.logger).getResult()},e.prototype.isOperatingSystemWindows=function(){return this.userAgentRetriever.retrieveUserAgent().toLowerCase().includes("win")},e}(),rr=function(){function e(e){this.logger=e}return e.prototype.isJSSelfProfilingAPIAvailable=function(){var e=this,r=v.generateOperationResult({didOperationSucceed:!1,result:!1});return P.startNew("CheckForJSSelfProfilingAPI",(function(){return null==window?(e.logger.logWindowMissingInJSEnvironment(),v.generateOperationResult({didOperationSucceed:!0,result:!1})):"Profiler"in window?v.generateOperationResult({didOperationSucceed:!0,result:!0}):(e.logger.logProfilerNotPresentInJSEnvironment(),v.generateOperationResult({didOperationSucceed:!0,result:!1}))}),r,this.logger).getResult()},e}(),tr=function(){function e(e){this.logger=e}return e.prototype.isSupportedEnvironment=function(){return this.logger.logNullSupportedEnvironmentCheckerInvoked(),!1},e}(),or=function(){function e(){}return e.build=function(e){var r=v.generateOperationResult({didOperationSucceed:!1,result:new tr(e)});return P.startNew("BuildSupportedEnvironmentChecker",(function(){var r=j.getUserAgentRetriever(),t=R.getBrowserUtils(),o=new Ye(r,t,e),n=new er(r,e),s=new rr(e);return v.generateOperationResult({didOperationSucceed:!0,result:new $e(o,n,s,e)})}),r,e).getResult()},e}(),nr=function(){function e(e){this.logger=e}return e.prototype.isValid=function(e){var r=this,t=v.generateOperationResult({didOperationSucceed:!1,result:!1});return P.startNew("CheckSamplingInterval",(function(t){return null==e?(r.logger.logProfilerInitOptionsNullOrUndefined(),v.generateOperationResult({didOperationSucceed:!0,result:!1})):(t.addProperty("SamplingIntervalToValidate",e.samplingIntervalInMs),e.samplingIntervalInMs<=0?(r.logger.logSamplingIntervalIsLessThanOrEqualToZero(),v.generateOperationResult({didOperationSucceed:!0,result:!1})):r.convertToMicroSeconds(e.samplingIntervalInMs)>2147483647?(r.logger.logSamplingIntervalAboveMaxSamplingInterval(),v.generateOperationResult({didOperationSucceed:!0,result:!1})):(e.samplingIntervalInMs<16&&r.logger.logSamplingIntervalLessThanMinimumSupportedSamplingInterval(e.samplingIntervalInMs,16),v.generateOperationResult({didOperationSucceed:!0,result:!0})))}),t,this.logger).getResult()},e.prototype.convertToMicroSeconds=function(e){return 1e3*e},e}(),sr=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return ee(r,e),r.prototype.isValid=function(r){var t=this,o=v.generateOperationResult({didOperationSucceed:!1,result:!1});return P.startNew("CheckMaxBufferSizeIfSpecified",(function(){return null==r?(t.logger.logProfilerInitOptionsNullOrUndefined(),v.generateOperationResult({didOperationSucceed:!0,result:!1})):e.prototype.isValid.call(t,r)?t.isMaxBufferSizeValidIfSpecified(r)?v.generateOperationResult({didOperationSucceed:!0,result:!0}):(t.logger.logMaxBufferValidationFailed(),v.generateOperationResult({didOperationSucceed:!0,result:!1})):(t.logger.logSamplingIntervalValidationCheckFailed(),v.generateOperationResult({didOperationSucceed:!0,result:!1}))}),o,this.logger).getResult()},r.prototype.isMaxBufferSizeValidIfSpecified=function(e){return null==e.maximumNumberOfSamplesToTake?(this.logger.logMaxBufferSizeNotSpecified(),!0):!(e.maximumNumberOfSamplesToTake<=0&&(this.logger.logMaxBufferSizeLessThanOrEqualToZero(),1))},r}(nr),ir=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return ee(r,e),r.prototype.isValid=function(r){var t=this,o=v.generateOperationResult({didOperationSucceed:!1,result:!1});return P.startNew("CheckProfilingIntervalIfSpecified",(function(){return null==r?(t.logger.logProfilerInitOptionsNullOrUndefined(),v.generateOperationResult({didOperationSucceed:!0,result:!1})):e.prototype.isValid.call(t,r)?t.isProfilingIntervalValid(r)?t.isProfilingIntervalGreaterThanSamplingInterval(r)?v.generateOperationResult({didOperationSucceed:!0,result:!0}):v.generateOperationResult({didOperationSucceed:!0,result:!1}):(t.logger.logProfilingIntervalValidationFailed(),v.generateOperationResult({didOperationSucceed:!0,result:!1})):(t.logger.logManualProfilerValidationFailed(),v.generateOperationResult({didOperationSucceed:!0,result:!1}))}),o,this.logger).getResult()},r.prototype.isProfilingIntervalValid=function(e){return null==e.profilingIntervalInMs?(this.logger.logProfilingIntervalNullOrUndefined(),!1):!(e.profilingIntervalInMs<=0&&(this.logger.logProfilingIntervalLessThanOrEqualToZero(),1))},r.prototype.isProfilingIntervalGreaterThanSamplingInterval=function(e){return null==e.profilingIntervalInMs?(this.logger.logProfilingIntervalNullOrUndefined(),!1):!(e.profilingIntervalInMs<e.samplingIntervalInMs&&(this.logger.logProfilingIntervalLessThanSamplingInterval(),1))},r}(sr),ar=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return ee(r,e),r.prototype.isValid=function(r){var t=this,o=v.generateOperationResult({didOperationSucceed:!1,result:!1});return P.startNew("CheckIdleIntervalIfSpecified",(function(){return null==r?(t.logger.logProfilerInitOptionsNullOrUndefined(),v.generateOperationResult({didOperationSucceed:!0,result:!1})):e.prototype.isValid.call(t,r)?t.isIdleIntervalInValid(r)?v.generateOperationResult({didOperationSucceed:!0,result:!0}):(t.logger.logIdleIntervalValidationFailed(),v.generateOperationResult({didOperationSucceed:!0,result:!1})):(t.logger.logTimedProfilerValidationFailed(),v.generateOperationResult({didOperationSucceed:!0,result:!1}))}),o,this.logger).getResult()},r.prototype.isIdleIntervalInValid=function(e){return null==e.idleIntervalInMs?(this.logger.logIdleIntervalIsNullOrUndefined(),!1):!(e.idleIntervalInMs<=0&&(this.logger.logIdleIntervalIsLessThanOrEqualToZero(),1))},r}(ir),lr=function(){function e(e){this.logger=e}return e.prototype.isValid=function(e){return this.logger.logNullJSCPUProfilerInitOptionsValidatorInvoked(),!1},e}(),cr=function(){function e(e){this.logger=e}return e.prototype.retrieveValidator=function(e){var r=this,t=v.generateOperationResult({didOperationSucceed:!1,result:new lr(this.logger)});return P.startNew("RetrieveValidator",(function(t){switch(t.addProperty("ProfilerType",e),e){case re.Manual:return v.generateOperationResult({didOperationSucceed:!0,result:new sr(r.logger)});case re.Timed:return v.generateOperationResult({didOperationSucceed:!0,result:new ir(r.logger)});case re.Continuous:return v.generateOperationResult({didOperationSucceed:!0,result:new ar(r.logger)});case re.FullSession:return v.generateOperationResult({didOperationSucceed:!0,result:new nr(r.logger)});default:return t.addLog("Missing validator implementation for profiler type"),v.generateOperationResult({didOperationSucceed:!1,result:new nr(r.logger),didOperationFailUnexpectedly:!0})}}),t,this.logger).getResult()},e}(),ur=function(){function e(e){this.logger=e,this.didProfilerInitOptionsGetFixed=!1,this.fixedProfilerInitOptions=void 0}return e.prototype.fixProfilerInitOptions=function(e){var r=this,t=v.generateOperationResult({didOperationSucceed:!1,result:void 0});P.startNew("FixMaxBufferSize",(function(){return null==e?(r.logger.logNullOrUndefinedProfilerInitOptions(),v.generateOperationResult({didOperationSucceed:!1,result:void 0,didOperationFailUnexpectedly:!0})):(r.fixedProfilerInitOptions=e,null==r.fixedProfilerInitOptions.maximumNumberOfSamplesToTake&&(r.logger.logMaxBufferSizeFixedToDefaultSize(),r.fixedProfilerInitOptions.maximumNumberOfSamplesToTake=2e5),r.didProfilerInitOptionsGetFixed=!0,v.generateOperationResult({didOperationSucceed:!0,result:void 0}))}),t,this.logger)},e.prototype.retrieveFixedProfilerInitOptions=function(){return this.didProfilerInitOptionsGetFixed?this.didProfilerInitOptionsGetFixed=!1:this.logger.logMaxBufferSizeWasNotFixedBeforeRetrieval(),this.fixedProfilerInitOptions},e}(),dr=function(){function e(e){this.logger=e,this.profilerInitOptionsToLoopBack=void 0}return e.prototype.fixProfilerInitOptions=function(e){this.logger.logLoopBackFixerFixProfilerInitOptionsInvoked(),null!=e&&(this.profilerInitOptionsToLoopBack=e)},e.prototype.retrieveFixedProfilerInitOptions=function(){return this.logger.logLoopBackFixerRetrieveFixedProfilerInitOptionsInvoked(),this.profilerInitOptionsToLoopBack},e}(),gr=function(){function e(e){this.logger=e}return e.prototype.getFixerForProfilerType=function(e){var r=this,t=v.generateOperationResult({didOperationSucceed:!1,result:new dr(this.logger)});return P.startNew("GetFixerForProfileType",(function(){r.logger.logFixerForProfilerType(e);var t=new dr(r.logger),o=!1;switch(e){case re.Manual:case re.Timed:case re.Continuous:case re.FullSession:o=!0,t=new ur(r.logger);break;default:r.logger.logMissingProfilerInitOptionsFixerImplementation()}return v.generateOperationResult({didOperationSucceed:o,result:t})}),t,this.logger).getResult()},e}(),pr=function(){function e(e){this.logger=e}return e.prototype.createProfiler=function(e,r,t){return this.logger.logNullJSCPUProfilerFactoryInvoked(),new n(this.logger)},e.prototype.createProfilerV2=function(e,r,t){return this.logger.logNullJSCPUProfilerFactoryInvoked(),new n(this.logger)},e}(),fr=function(){function e(){}return e.prototype.mergeCustomProperties=function(e){var r={};return e.forEach((function(e){for(var t=0,o=Object.entries(e);t<o.length;t++){var n=o[t],s=n[0],i=n[1];r[s]=i}})),r},e}(),mr=function(){function e(e){var r=this;this.params=e,this.processAndSendTrace=function(e,t,o){r.params.traceProcessor.processTrace(e.profilerTrace);var n=r.params.traceProcessor.retrieveSerializedCallTrees();n=r.extractAndMergeCallTreeCustomProperties(n,e.callTreeCustomPropertiesRetrievers),e.callTreeCustomFilterers.length>0&&(n=r.applyCallTreeCustomFiltering(n,e.callTreeCustomFilterers));var s=r.stringifyCallTrees(n);r.logSerializedCallTrees(s),r.sendCallTrees(s,t,o)},this.webWorkerOnCompleteCallback=function(e,t,o,n,s){var i=r.extractAndMergeCallTreeCustomProperties(e,n);s.length>0&&(i=r.applyCallTreeCustomFiltering(i,s));var a=r.stringifyCallTrees(i);r.logSerializedCallTrees(a),r.sendCallTrees(a,t,o)},this.webWorkerOnErrorCallback=function(e,t,o,n,s){r.useMainEventLoopForProfilerTraceProcessing({profilerTrace:e.trace,callTreeCustomPropertiesRetrievers:n,callTreeCustomFilterers:s},t,o)},this.logSerializedCallTrees=function(e){e.forEach((function(e){r.params.logger.logSerializedCallTrees(e)}))},this.sendCallTrees=function(e,t,o){0!==e.length?r.params.callTreesSender.sendCallTreesToService(e,r.params.deObfuscationInfo.deObfuscationEndpoint,o,t):r.params.logger.logNoCallTreesToSend()},this.profilerTraceIdNumber=1}return e.prototype.onProfilerEvent=function(e){var r=this,t=v.generateOperationResult({didOperationSucceed:!1,result:void 0});P.startNew("OnProfilerEvent",(function(t){return null==e?(r.params.logger.logNullOrUndefinedProfilerEvent(),v.generateOperationResult({didOperationSucceed:!1,result:void 0})):(t.addProperty("ProfilerEventId",e.eventId),e.eventId===te.ProfilerStopped?null==e.eventData?r.params.logger.logNullOrUndefinedProfilerTrace():r.onProfilerStopped(e.eventData):r.params.logger.logUnknownProfilerEventId(e.eventId),v.generateOperationResult({didOperationSucceed:!0,result:void 0}))}),t,this.params.logger)},e.prototype.onProfilerStopped=function(e){var r=this,t=v.generateOperationResult({didOperationSucceed:!1,result:void 0});P.startNew("OnProfilerStopped",(function(){var t=e.profilerTrace.getProfilerProperties().profilingIntervalInMs;if(null!=t&&r.params.documentVisibilityChecker.wasDocumentHiddenDuringTimeRange(t)&&!r.params.shouldProcessProfileCapturedInAHiddenDocument)return r.params.logger.logNotProcessingCapturedTraceDueToDocumentBeingHiddenDuringProfiling(),v.generateOperationResult({didOperationSucceed:!0,result:void 0});if(!r.params.shouldProcessProfileCapturedWhileUserIsIdle&&e.documentEventsCountBeforeProfiling&&Y()===e.documentEventsCountBeforeProfiling)return r.params.logger.logNotProcessingCapturedTraceDueToUserBeingIdle(),v.generateOperationResult({didOperationSucceed:!0,result:void 0});r.params.shouldKeepQueryParamsInResourceURLs||(r.params.profileResourceURLsQueryParamsRemover.removeQueryParamsFromResourceURLs(e.profilerTrace),e.profilerTrace=r.params.profileResourceURLsQueryParamsRemover.retrieveQueryParamsRemovedProfile()),r.params.shouldLogRawProfilerTrace&&r.params.logger.logProfilerTrace(e.profilerTrace,r.params.profilerTraceLoggingChunkSize);var o=r.params.customPropertiesExtractor.extractCustomProperties(r.params.deObfuscationRequestBodyPropertiesRetriever),n=r.params.customPropertiesExtractor.extractCustomProperties(r.params.deObfuscationRequestQueryParamsRetriever);return r.params.shouldProcessProfileInMainEventLoop?r.useMainEventLoopForProfilerTraceProcessing(e,o,n):r.useWebWorkForProfilerTraceProcessing(e,o,n),v.generateOperationResult({didOperationSucceed:!0,result:void 0})}),t,this.params.logger)},e.prototype.useMainEventLoopForProfilerTraceProcessing=function(e,r,t){var o=this;this.params.shouldSendProfilesForDeobfuscationImmediately?this.processAndSendTrace(e,r,t):this.params.idleTimeJobScheduler.scheduleJobForIdleTime((function(){o.processAndSendTrace(e,r,t)}))},e.prototype.extractAndMergeCallTreeCustomProperties=function(e,r){var t=this,o=v.generateOperationResult({didOperationSucceed:!1,result:[]});return P.startNew("ExtractAndMergeCallTreeCustomProperties",(function(){var o=new Qe(t.params.logger),n=new fr;return e.forEach((function(e){var t=[];r.forEach((function(r){t.push(o.extractCustomPropertiesV2(r,e.serializedFrames[0]))})),t.push(e.propertyBag);var s=n.mergeCustomProperties(t);e.propertyBag=s})),v.generateOperationResult({didOperationSucceed:!0,result:e})}),o,this.params.logger).getResult()},e.prototype.applyCallTreeCustomFiltering=function(e,r){var t=this,o=v.generateOperationResult({didOperationSucceed:!1,result:[]});return P.startNew("ApplyCallTreeCustomFilterers",(function(){var o=e;r.forEach((function(e){o=o.filter((function(r){return e.filter(r)}))}));var n=e.length-o.length;return t.params.logger.logNumberOfCallTreesFiltererByCustomFilterers(n,e.length),v.generateOperationResult({didOperationSucceed:!0,result:o})}),o,this.params.logger).getResult()},e.prototype.useWebWorkForProfilerTraceProcessing=function(e,r,t){var o=this,n=v.generateOperationResult({didOperationSucceed:!1,result:void 0});P.startNew(Pe,(function(){if(!o.params.webWorkerAPIAvailabilityChecker.isWebWorkerAPIAvailable())return o.params.logger.logWebWorkerAPINotAvailable(),o.useMainEventLoopForProfilerTraceProcessing(e,r,t),v.generateOperationResult({didOperationSucceed:!1,result:void 0});if(o.profilerTraceProcessingWorker||(o.profilerTraceProcessingWorker=o.params.profilerTraceProcessingWorkerFactory.getProfilerTraceProcessingWorker(o.params.webWorkerSourceURL)),!o.profilerTraceProcessingWorker.startWorker(o.params.webWorkerSourceURL))return o.useMainEventLoopForProfilerTraceProcessing(e,r,t),v.generateOperationResult({didOperationSucceed:!1,result:void 0});var n={traceProcessingInfo:{trace:e.profilerTrace,shouldKeepSamplesOutsideOfProfilingInterval:o.params.shouldKeepSamplesOutsideOfProfilingInterval,shouldRecordExpandedTimeStamps:o.params.shouldRecordExpandedTimeStamps,callTreeFilteringThresholdInMs:o.params.callTreeFilteringThresholdInMs,frameTotalExecutionTimeFilteringThresholdInMs:o.params.frameTotalExecutionTimeFilteringThresholdInMs,operationLogMessageFilteringCriteria:o.params.operationLogMessageFilteringCriteria,traceId:o.profilerTraceIdNumber,shouldMakeSerializedCallTreesFullyReconstructible:o.params.shouldMakeSerializedCallTreesFullyReconstructible,shouldRecordFrameCounts:o.params.shouldRecordFrameCounts},traceProcessingCompletionCallback:o.webWorkerOnCompleteCallback,traceProcessingErrorCallback:o.webWorkerOnErrorCallback,callTreeCustomPropertiesRetrievers:e.callTreeCustomPropertiesRetrievers,callTreeCustomFilterers:e.callTreeCustomFilterers};return o.profilerTraceIdNumber+=1,o.profilerTraceProcessingWorker.processTrace(n),v.generateOperationResult({didOperationSucceed:!0,result:void 0})}),n,this.params.logger)},e.prototype.stringifyCallTrees=function(e){return e.map((function(e){return JSON.stringify(e)}))},e}(),Tr=function(){function e(){}return e.prototype.filterFrames=function(){},e.prototype.retrieveFrameFilteredCallTree=function(){return new Pr},e}(),hr=function(){function e(){}return e.prototype.getNext=function(){},e.prototype.hasMore=function(){return!1},e}(),Pr=function(){function e(){}return e.prototype.getReconstructibleTreeIterator=function(){return new hr},e.prototype.getDepthFirstIterator=function(){return new hr},e.prototype.getNodesToMergeIterator=function(){return new hr},e.prototype.getRightMostNodesIterator=function(){return new hr},e.prototype.getTotalExecutionTimeInMs=function(){return-1},e.prototype.getCustomProperties=function(){return{}},e.prototype.getTreeId=function(){return _e},e.prototype.getFramesFilterer=function(e){return new Tr},e}(),vr=function(){function e(e,r,t,o,n,s,i){this.traceToCallTreesConverter=e,this.callTreesMerger=r,this.callTreesFilterer=t,this.callTreeFilteringThresholdInMs=o,this.callTreesFramesFilterer=n,this.frameTotalExecutionTimeFilteringThresholdInMs=s,this.logger=i,this.transformCalledBeforeRetrieveCallTrees=!1,this.profilerTrace=void 0,this.callTreesToReturn=[]}return e.prototype.transform=function(e){var r=this,t=v.generateOperationResult({didOperationSucceed:!1,result:void 0});P.startNew(ge,(function(t){r.profilerTrace=e,r.traceToCallTreesConverter.buildCallTrees(r.profilerTrace);var o=r.traceToCallTreesConverter.retrieveBuiltCallTrees();t.addProperty("BuiltCallTreesCount",o.length);var n=o.filter((function(e){return!_instanceof(e,Pr)})).length;t.addProperty("NonEmptyCallTreesCount",n),r.callTreesMerger.mergeCallTrees(o);var s=r.callTreesMerger.retrieveMergedCallTrees();t.addProperty("MergedCallTreesCount",s.length),r.callTreesFilterer.filterCallTrees(s,r.callTreeFilteringThresholdInMs);var i=r.callTreesFilterer.retrieveFilteredCallTrees();return t.addProperty("FilteredCallTreesCount",i.length),r.callTreesToReturn=i,r.callTreesFramesFilterer.filterCallTrees(i,r.frameTotalExecutionTimeFilteringThresholdInMs),t.addProperty("FrameFilteredCallTreesCount",r.callTreesToReturn.length),r.transformCalledBeforeRetrieveCallTrees=!0,v.generateOperationResult({didOperationSucceed:!0,result:void 0})}),t,this.logger)},e.prototype.retrieveCallTrees=function(){var e=this,r=v.generateOperationResult({didOperationSucceed:!1,result:[]});return P.startNew("RetrieveCallTrees",(function(){return e.transformCalledBeforeRetrieveCallTrees?(e.transformCalledBeforeRetrieveCallTrees=!1,v.generateOperationResult({didOperationSucceed:!0,result:e.callTreesToReturn})):(e.logger.logRetrieveCallTreesCalledBeforeTransform(),v.generateOperationResult({didOperationSucceed:!1,result:[]}))}),r,this.logger).getResult()},e}(),Sr=function(){function e(e,r,t){this.stacksBuilder=e,this.stacksToCallTreesConverter=r,this.logger=t,this.didBuildCallTreesGetCalledBeforeRetrieve=!1,this.callTrees=[]}return e.prototype.buildCallTrees=function(e){var r=this,t=v.generateOperationResult({didOperationSucceed:!1,result:void 0});P.startNew("BuildCallTrees",(function(){r.didBuildCallTreesGetCalledBeforeRetrieve=!0,r.stacksBuilder.buildStacks(e);var t=r.stacksBuilder.retrieveStacks(),o=e.getCustomProperties();return r.stacksToCallTreesConverter.convertStacksToCallTrees(o,t),r.callTrees=r.stacksToCallTreesConverter.retrieveConvertedCallTrees(),v.generateOperationResult({didOperationSucceed:!0,result:void 0})}),t,this.logger)},e.prototype.retrieveBuiltCallTrees=function(){var e=this,r=v.generateOperationResult({didOperationSucceed:!1,result:[]});return P.startNew("RetrieveBuiltCallTrees",(function(){return e.didBuildCallTreesGetCalledBeforeRetrieve?(e.didBuildCallTreesGetCalledBeforeRetrieve=!1,v.generateOperationResult({didOperationSucceed:!0,result:e.callTrees})):(e.logger.logRetrieveBuiltCallTreesBeforeBuildCallTrees(),v.generateOperationResult({didOperationSucceed:!1,result:[]}))}),r,this.logger).getResult()},e}(),Ir=function(){function e(){}return e.prototype.peek=function(){},e.prototype.pop=function(){},e}(),Cr=function(){function e(){this.profilerFrames=[]}return e.prototype.peek=function(){var e=this.profilerFrames.length;if(0!==e)return this.profilerFrames[e-1]},e.prototype.pop=function(){this.profilerFrames.pop()},e.prototype.push=function(e){this.profilerFrames.push(e)},e}(),yr=function(){function e(e,r,t,o,n,s,i,a,l){this.profilerFrame=e,this.startTime=r,this.totalExecutionTime=t,this.lastObservedTimestamp=o,this.resourceName=n,this.shouldRecordExpandedTimeStamps=s,this.parentNode=i,this.logger=a,this.recordFrameCount=l,this.childrenNodes=[],r<0&&this.logger.logInvalidFrameNodeStartTime(),t<0&&this.logger.logInvalidFrameNodeExecutionTime(),this.recordFrameCount&&(this.count=1)}return e.prototype.addChildNode=function(e){this.childrenNodes.push(e),e.setParentNode(this)},e.prototype.getFrameOnlyExecutionTimeInMs=function(){var e=this.getSubTreeExecutionTimeInMs();return this.shouldRecordExpandedTimeStamps?this.totalExecutionTime-e:this.trimTimeStamp(this.totalExecutionTime-e)},e.prototype.getSubTreeExecutionTimeInMs=function(){var e=0;return this.childrenNodes.forEach((function(r){e+=r.getTotalExecutionTimeInMs()})),e<0&&this.logger.logNegativeSubTreeExecutionTime(),e},e.prototype.getTotalExecutionTimeInMs=function(){return this.shouldRecordExpandedTimeStamps?this.totalExecutionTime:this.trimTimeStamp(this.totalExecutionTime)},e.prototype.getFrame=function(){return this.profilerFrame},e.prototype.getChildrenNodes=function(){return this.childrenNodes},e.prototype.removeChildNode=function(e){e.setParentNode(void 0),this.childrenNodes=this.childrenNodes.filter((function(r){return r!==e}))},e.prototype.getStartTimeInMs=function(){return this.shouldRecordExpandedTimeStamps?this.startTime:this.trimTimeStamp(this.startTime)},e.prototype.getLastObservedTimestamp=function(){return this.shouldRecordExpandedTimeStamps?this.lastObservedTimestamp:this.trimTimeStamp(this.lastObservedTimestamp)},e.prototype.getResourceName=function(){return this.resourceName},e.prototype.getParentNode=function(){return this.parentNode},e.prototype.setParentNode=function(e){this.parentNode=e},e.prototype.setTotalExecutionTime=function(e){e<0&&this.logger.logInvalidNewFrameNodeExecutionTime(),this.totalExecutionTime=e},e.prototype.setLastObservedTimestamp=function(e){this.lastObservedTimestamp=e},e.prototype.trimTimeStamp=function(e){return Number.parseFloat(e.toFixed(2))},e.prototype.getCount=function(){return this.count},e.prototype.getFrameOnlyCount=function(){if(void 0!==this.count){var e=this.childrenNodes.reduce((function(e,r){return e+r.getCount()}),0);return this.count-e}},e.prototype.addCount=function(e){this.recordFrameCount&&void 0!==e&&(this.count+=e)},e}(),Or=function(){function e(e){this.logger=e}return e.prototype.peek=function(){this.logger.logPeekOnNullExecutionStackInvoked()},e.prototype.pop=function(){this.logger.logPopOnNullExecutionStackInvoked()},e}(),br=function(){function e(e,r,t,o){this.profilerTrace=e,this.logger=r,this.shouldRecordExpandedTimeStamps=t,this.shouldRecordFrameCounts=o,this.buildStackCalled=!1,this.builtStack=void 0}return e.prototype.buildStack=function(e){var r=this,t=v.generateOperationResult({didOperationSucceed:!1,result:void 0});P.startNew("BuildStack",(function(t){if(r.buildStackCalled=!0,null==e.stackId)return r.builtStack=new Ir,t.addProperty("EmptyStackBuilt",!0),v.generateOperationResult({didOperationSucceed:!0,result:void 0});var o=r.profilerTrace.getStacks();if(0===o.length)return r.logger.logEmptyStacks(),v.generateOperationResult({didOperationSucceed:!1,result:void 0});var n=r.profilerTrace.getFrames();if(0===n.length)return r.logger.logEmptyFrames(),v.generateOperationResult({didOperationSucceed:!1,result:void 0});for(var s=new Cr,i=e.stackId,a=0,l=!1,c=[];;){if(a>o.length){r.logger.logForciblyExitingLoopWhileBuildingStack(),l=!0;break}a+=1;var u=o[i],d=n[u.frameId];if(c.unshift(d),null==u.parentId)break;i=u.parentId}var g=e.timestamp,p=g,f=r.profilerTrace.getResources();return c.forEach((function(e){var t=new yr(e,g,0,p,f[e.resourceId],r.shouldRecordExpandedTimeStamps,void 0,r.logger,r.shouldRecordFrameCounts);s.push(t)})),l?v.generateOperationResult({didOperationSucceed:!1,didOperationFailUnexpectedly:!0,result:void 0}):(r.builtStack=s,v.generateOperationResult({didOperationSucceed:!0,result:void 0}))}),t,this.logger,!0)},e.prototype.retrieveStack=function(){var e=this,r=v.generateOperationResult({didOperationSucceed:!1,result:new Or(this.logger)});return P.startNew("RetrieveStack",(function(){return e.buildStackCalled?void 0===e.builtStack?(e.logger.logExecutionStackNeverBuilt(),v.generateOperationResult({didOperationSucceed:!1,didOperationFailUnexpectedly:!0,result:new Or(e.logger)})):(e.buildStackCalled=!1,v.generateOperationResult({didOperationSucceed:!0,result:e.builtStack})):(e.logger.logRetrieveStackCalledBeforeBuildStack(),v.generateOperationResult({didOperationSucceed:!1,result:new Or(e.logger)}))}),r,this.logger,!0).getResult()},e}(),kr=function(){function e(e,r,t,o,n,s){this.sampleSorter=e,this.sampleFilterer=r,this.shouldKeepSamplesOutsideOfProfilingInterval=t,this.shouldRecordExpandedTimeStamps=o,this.logger=n,this.shouldRecordFrameCounts=s,this.buildStacksCalled=!1,this.builtExecutionStacks=void 0}return e.prototype.buildStacks=function(e){var r=this,t=v.generateOperationResult({didOperationSucceed:!1,result:void 0});P.startNew("BuildStacks",(function(){r.buildStacksCalled=!0;var t=e.getSamples(),o=r.sampleSorter.sortSamples(t),n=e.getProfilerProperties().profilingIntervalInMs;return null==n||r.shouldKeepSamplesOutsideOfProfilingInterval||(r.sampleFilterer.filterSamples(o,n),o=r.sampleFilterer.retrieveFilteredSamples()),r.builtExecutionStacks=r.samplesToStacks(o,e),v.generateOperationResult({didOperationSucceed:!0,result:void 0})}),t,this.logger)},e.prototype.retrieveStacks=function(){var e=this,r=v.generateOperationResult({didOperationSucceed:!1,result:[]});return P.startNew("RetrieveStacks",(function(){return e.buildStacksCalled?void 0===e.builtExecutionStacks?v.generateOperationResult({didOperationSucceed:!1,didOperationFailUnexpectedly:!0,result:[]}):(e.buildStacksCalled=!1,v.generateOperationResult({didOperationSucceed:!0,result:e.builtExecutionStacks})):(e.logger.logRetrieveStacksCalledBeforeBuildStacks(),v.generateOperationResult({didOperationSucceed:!1,result:[]}))}),r,this.logger).getResult()},e.prototype.samplesToStacks=function(e,r){var t=this,o=v.generateOperationResult({didOperationSucceed:!1,result:[]});return P.startNew("ConvertSamplesToStacks",(function(){var o=[],n=new br(r,t.logger,t.shouldRecordExpandedTimeStamps,t.shouldRecordFrameCounts);return e.forEach((function(e){n.buildStack(e),o.push(n.retrieveStack())})),v.generateOperationResult({didOperationSucceed:!0,result:o})}),o,this.logger).getResult()},e}(),Mr=function(){function e(e){var r=this;this.logger=e,this.sortSampleByTimestamp=function(e,t){var o=v.generateOperationResult({didOperationSucceed:!1,result:0});return P.startNew("CustomSampleSort",(function(){return e.timestamp>t.timestamp?v.generateOperationResult({didOperationSucceed:!0,result:1}):t.timestamp>e.timestamp?v.generateOperationResult({didOperationSucceed:!0,result:-1}):v.generateOperationResult({didOperationSucceed:!0,result:0})}),o,r.logger,!0).getResult()}}return e.prototype.sortSamples=function(e){var r=this,t=v.generateOperationResult({didOperationSucceed:!1,result:[]});return P.startNew("SortSamples",(function(){var t=e.sort(r.sortSampleByTimestamp);return v.generateOperationResult({didOperationSucceed:!0,result:t})}),t,this.logger).getResult()},e}(),Nr=function(){function e(e){this.logger=e,this.logger.logNullFrameNodeCreated()}return e.prototype.removeChildNode=function(e){},e.prototype.addChildNode=function(e){},e.prototype.getFrameOnlyExecutionTimeInMs=function(){return-1},e.prototype.getSubTreeExecutionTimeInMs=function(){return-1},e.prototype.getTotalExecutionTimeInMs=function(){return-1},e.prototype.getFrame=function(){return ye},e.prototype.getChildrenNodes=function(){return[]},e.prototype.getStartTimeInMs=function(){return-1},e.prototype.getLastObservedTimestamp=function(){return-1},e.prototype.getResourceName=function(){return be},e.prototype.getParentNode=function(){},e.prototype.setParentNode=function(e){},e.prototype.setTotalExecutionTime=function(e){},e.prototype.setLastObservedTimestamp=function(e){},e.prototype.getCount=function(){return 0},e.prototype.getFrameOnlyCount=function(){return 0},e.prototype.addCount=function(e){},e}(),xr=function(){function e(e){this.logger=e}return e.prototype.getNext=function(){return this.logger.logNullCallTreeIteratorImplGetNextInvoked(),new Nr(this.logger)},e.prototype.hasMore=function(){return this.logger.logNullCallTreeIteratorImplHasMoreInvoked(),!1},e}(),Rr=function(){function e(e){this.logger=e}return e.prototype.filterFrames=function(){this.logger.logNullCallTreeFramesFiltererFilterFramesInvoked()},e.prototype.retrieveFrameFilteredCallTree=function(){return this.logger.logNullCallTreeFramesFiltererRetrieveFilteredCallTreeInvoked(),new Fr(this.logger)},e}(),Fr=function(){function e(e){this.logger=e}return e.prototype.getReconstructibleTreeIterator=function(){return this.logger.logNullCallTreeGetReconstructableTreeIteratorInvoked(),new xr(this.logger)},e.prototype.getDepthFirstIterator=function(){return this.logger.logNullCallTreeDepthFirstIteratorInvoked(),new xr(this.logger)},e.prototype.getNodesToMergeIterator=function(){return this.logger.logNullCallTreeLeftMostNodesIteratorInvoked(),new xr(this.logger)},e.prototype.getRightMostNodesIterator=function(){return this.logger.logNullCallTreeRightMostNodesIteratorInvoked(),new xr(this.logger)},e.prototype.getTotalExecutionTimeInMs=function(){return this.logger.logNullCallTreeGetTotalExecutionTimeInvoked(),-1},e.prototype.getCustomProperties=function(){return this.logger.logNullCallTreeGetCustomPropertiesInvoked(),{}},e.prototype.getTreeId=function(){return _e},e.prototype.getFramesFilterer=function(){return this.logger.logNullCallTreeGetFramesFiltererInvoked(),new Rr(this.logger)},e}();function Er(e,r){return e.name===r.name&&e.resourceId===r.resourceId&&e.line===r.line&&e.column===r.column}var Wr=function(){function e(){}return e.prototype.removeChildNode=function(e){},e.prototype.addChildNode=function(e){},e.prototype.getFrameOnlyExecutionTimeInMs=function(){return-1},e.prototype.getSubTreeExecutionTimeInMs=function(){return-1},e.prototype.getTotalExecutionTimeInMs=function(){return 0},e.prototype.getFrame=function(){return ye},e.prototype.getChildrenNodes=function(){return[]},e.prototype.getStartTimeInMs=function(){return-1},e.prototype.getLastObservedTimestamp=function(){return-1},e.prototype.getResourceName=function(){return be},e.prototype.getParentNode=function(){return this.parentNode},e.prototype.setParentNode=function(e){this.parentNode=e},e.prototype.setTotalExecutionTime=function(e){},e.prototype.setLastObservedTimestamp=function(e){},e.prototype.getCount=function(){return 0},e.prototype.getFrameOnlyCount=function(){return 0},e.prototype.addCount=function(e){},e}(),_r=function(){function e(e){this.nodesToIterate=Q.createStack(),_instanceof(e,Wr)||this.nodesToIterate.push(e)}return e.prototype.getNext=function(){var e=this.nodesToIterate.peek();if(void 0!==e){this.nodesToIterate.pop();for(var r=e.getChildrenNodes(),t=r.length-1;t>=0;t-=1)Er(r[t].getFrame(),ye)||this.nodesToIterate.push(r[t]);return e}},e.prototype.hasMore=function(){return 0!==this.nodesToIterate.count()},e}(),wr=function(){function e(e,r){this.logger=r,this.nodesToIterate=G.createQueue(),this.nodesToIterate.queue(e)}return e.prototype.getNext=function(){var e=this.nodesToIterate.peek();if(void 0!==e){var r=e.getChildrenNodes();return r.length>1&&this.logger.logExpectedOnlyOneNodePerLevelInCallTree(),this.nodesToIterate.queue(r[0]),this.nodesToIterate.dequeue(),e}},e.prototype.hasMore=function(){return void 0!==this.nodesToIterate.peek()},e}(),Ur=function(){function e(e){this.nodesToIterate=G.createQueue(),this.nodesToIterate.queue(e)}return e.prototype.getNext=function(){var e=this.nodesToIterate.peek();if(void 0!==e){var r=e.getChildrenNodes();return r.length>0&&this.nodesToIterate.queue(r[r.length-1]),this.nodesToIterate.dequeue(),e}},e.prototype.hasMore=function(){return void 0!==this.nodesToIterate.peek()},e}(),Lr=function(){function e(e,r){this.callTree=e,this.logger=r}return e.prototype.filterFrames=function(e){var r=this,t=v.generateOperationResult({didOperationSucceed:!1,result:void 0});return P.startNew("FilterCallTreeFrames",(function(){for(var t=r.callTree.getDepthFirstIterator(),o=void 0;t.hasMore();)void 0!==(o=t.getNext())&&r.filterFrame(o,e);return v.generateOperationResult({didOperationSucceed:!0,result:void 0})}),t,this.logger).getResult()},e.prototype.filterFrame=function(e,r){if(e.getTotalExecutionTimeInMs()<=r){var t=e.getParentNode();if(!t)return void this.logger.logFilterFrameWithNoParent();t.removeChildNode(e)}},e}(),Br=function(){function e(){}return e.prototype.addChildNode=function(e){},e.prototype.getFrame=function(){return Oe},e.prototype.getChildrenNodes=function(){return[]},e.prototype.removeChildNode=function(e){},e.prototype.getResourceName=function(){return be},e.prototype.getParentNode=function(){},e.prototype.setParentNode=function(e){},e.prototype.setTotalExecutionTime=function(e){},e.prototype.setLastObservedTimestamp=function(e){},e.prototype.getFrameOnlyExecutionTimeInMs=function(){return-1},e.prototype.getSubTreeExecutionTimeInMs=function(){return-1},e.prototype.getTotalExecutionTimeInMs=function(){return-1},e.prototype.getStartTimeInMs=function(){return-1},e.prototype.getLastObservedTimestamp=function(){return-1},e.prototype.getCount=function(){return 0},e.prototype.getFrameOnlyCount=function(){return 0},e.prototype.addCount=function(e){},e}(),Ar=function(){function e(e){this.nodesToIterate=Q.createStack(),_instanceof(e,Wr)||this.nodesToIterate.push(e)}return e.prototype.getNext=function(){var e=this.nodesToIterate.peek();if(void 0!==e){this.nodesToIterate.pop();var r=e.getChildrenNodes();r.length>0&&this.nodesToIterate.push(new Br);for(var t=r.length-1;t>=0;t-=1)Er(r[t].getFrame(),ye)||this.nodesToIterate.push(r[t]);return e}},e.prototype.hasMore=function(){return 0!==this.nodesToIterate.count()},e}(),Jr=function(){function e(e,r,t,o){this.rootNode=e,this.customProperties=r,this.callTreeId=t,this.logger=o,this.fallbackResult=v.generateOperationResult({didOperationSucceed:!1,result:new xr(this.logger)})}return e.prototype.getReconstructibleTreeIterator=function(){var e=this;return P.startNew("GetReconstructibleTreeIterator",(function(){return v.generateOperationResult({didOperationSucceed:!0,result:new Ar(e.rootNode)})}),this.fallbackResult,this.logger).getResult()},e.prototype.getDepthFirstIterator=function(){var e=this;return P.startNew("GetDepthFirstIterator",(function(){return v.generateOperationResult({didOperationSucceed:!0,result:new _r(e.rootNode)})}),this.fallbackResult,this.logger).getResult()},e.prototype.getNodesToMergeIterator=function(){var e=this;return P.startNew("GetCallTreeLeftMostNodesIterator",(function(){return v.generateOperationResult({didOperationSucceed:!0,result:new wr(e.rootNode,e.logger)})}),this.fallbackResult,this.logger,!0).getResult()},e.prototype.getRightMostNodesIterator=function(){var e=this;return P.startNew("GetCallTreeRightMostNodesIterator",(function(){return v.generateOperationResult({didOperationSucceed:!0,result:new Ur(e.rootNode)})}),this.fallbackResult,this.logger,!0).getResult()},e.prototype.getTotalExecutionTimeInMs=function(){return this.rootNode.getTotalExecutionTimeInMs()},e.prototype.getCustomProperties=function(){return this.customProperties},e.prototype.getTreeId=function(){return this.callTreeId},e.prototype.getFramesFilterer=function(){return new Lr(this,this.logger)},e}(),Dr=function(){function e(e,r){this.customProperties=e,this.logger=r,this.isConvertCalled=!1,this.convertedCallTree=new Fr(this.logger)}return e.prototype.convertStackToCallTree=function(e){var r=this,t=v.generateOperationResult({didOperationSucceed:!1,result:void 0});P.startNew("ConvertStackToCallTree",(function(){return r.convertedCallTree=r.buildCallTree(e),r.isConvertCalled=!0,v.generateOperationResult({didOperationSucceed:!0,result:void 0})}),t,this.logger,!0)},e.prototype.retrieveCallTree=function(){var e=this,r=v.generateOperationResult({didOperationSucceed:!1,result:new Fr(this.logger)});return P.startNew("RetrieveCallTree",(function(){return e.isConvertCalled?(e.isConvertCalled=!1,v.generateOperationResult({didOperationSucceed:!0,result:e.convertedCallTree})):(e.logger.logConvertStackToCallTreeNeverCalled(),v.generateOperationResult({didOperationSucceed:!1,result:new Fr(e.logger)}))}),r,this.logger,!0).getResult()},e.prototype.buildCallTree=function(e){var r=this,t=v.generateOperationResult({didOperationSucceed:!1,result:new Fr(this.logger)});return P.startNew("BuildCallTree",(function(t){for(var o=[];;){var n=e.peek();if(void 0===n)break;o.unshift(n),e.pop()}if(0===o.length)return t.addLog("No profiler frames were extracted. Returning null call tree"),v.generateOperationResult({didOperationSucceed:!0,result:new Pr});var s=0;o.forEach((function(e,r){if((s=r+1)!==o.length){var t=o[s];e.addChildNode(t)}}));var i=o[0],a=X.getGuidGenerator().generateGuid();return v.generateOperationResult({didOperationSucceed:!0,result:new Jr(i,r.customProperties,a,r.logger)})}),t,this.logger,!0).getResult()},e}(),Vr=function(){function e(e){this.logger=e,this.convertStacksCalled=!1,this.callTrees=[],this.customProperties={}}return e.prototype.convertStacksToCallTrees=function(e,r){var t=this,o=v.generateOperationResult({didOperationSucceed:!1,result:void 0});P.startNew("ConvertStacksToCallTrees",(function(){return t.convertStacksCalled=!0,t.customProperties=e,t.callTrees=t.convertToCallTrees(r),v.generateOperationResult({didOperationSucceed:!0,result:void 0})}),o,this.logger)},e.prototype.retrieveConvertedCallTrees=function(){var e=this,r=v.generateOperationResult({didOperationSucceed:!1,result:[]});return P.startNew("RetrieveConvertedCallTrees",(function(){return e.convertStacksCalled?(e.convertStacksCalled=!1,v.generateOperationResult({didOperationSucceed:!0,result:e.callTrees})):(e.logger.logConvertStacksToCallTreesNeverCalled(),v.generateOperationResult({didOperationSucceed:!1,result:[]}))}),r,this.logger).getResult()},e.prototype.convertToCallTrees=function(e){var r=this,t=v.generateOperationResult({didOperationSucceed:!1,result:[]});return P.startNew("ConvertToCallTrees",(function(){var t=[],o=new Dr(r.customProperties,r.logger);return e.forEach((function(e){o.convertStackToCallTree(e),t.push(o.retrieveCallTree())})),v.generateOperationResult({didOperationSucceed:!0,result:t})}),t,this.logger).getResult()},e}();function zr(e,r,t){var o=v.generateOperationResult({didOperationSucceed:!1,result:{wasMergeSuccessful:!1,mergedCallTree:e}});return P.startNew("MergeTwoTrees",(function(t){var o=e.getRightMostNodesIterator(),n=r.getNodesToMergeIterator();if(!o.hasMore()||!n.hasMore())return t.addProperty("CurrentCallTreeIteratorEmptyProperty",!o.hasMore()),t.addProperty("CallTreeToMergeIteratorEmptyProperty",!n.hasMore()),v.generateOperationResult({didOperationSucceed:!0,result:{mergedCallTree:e,wasMergeSuccessful:!1}});for(var s=0,i=void 0,a=void 0,l=void 0,c=!0;o.hasMore()&&n.hasMore();){if(i=o.getNext(),a=n.getNext(),void 0===i||void 0===a||!Er(i.getFrame(),a.getFrame())){c=!1;break}var u=i.getTotalExecutionTimeInMs()+(a.getLastObservedTimestamp()-i.getLastObservedTimestamp());i.setTotalExecutionTime(u),i.setLastObservedTimestamp(a.getLastObservedTimestamp()),i.addCount(a.getCount()),l=i,s+=1}if(t.addProperty("MergeLength",s),0===s)return t.addProperty("UnableToMerge",!0),v.generateOperationResult({didOperationSucceed:!0,result:{wasMergeSuccessful:!1,mergedCallTree:e}});if(void 0===i&&void 0===a)return t.addProperty("FullMerge",!0),v.generateOperationResult({didOperationSucceed:!0,result:{wasMergeSuccessful:!0,mergedCallTree:e}});if(o.hasMore()&&!n.hasMore()&&void 0!==l)return t.addProperty("TallerLeftCallTree",!0),l.addChildNode(new Wr),v.generateOperationResult({didOperationSucceed:!0,result:{wasMergeSuccessful:!0,mergedCallTree:e}});var d=void 0!==i&&void 0!==a&&!Er(i.getFrame(),a.getFrame())&&void 0!==l,g=!o.hasMore()&&n.hasMore()&&void 0!==l;return(d||g)&&(d&&t.addProperty("PartialMergeOfHeightBalancedCallTrees",!0),g&&(t.addProperty("TallerRightCallTreeMerge",!0),c&&(a=n.getNext())),void 0!==l&&void 0!==a&&l.addChildNode(a)),v.generateOperationResult({didOperationSucceed:!0,result:{wasMergeSuccessful:s>0,mergedCallTree:e}})}),o,t,!0).getResult()}var Gr,qr=function(){function e(e){this.logger=e,this.mergedCallTrees=[],this.didMergeCallTreesGetCalled=!1}return e.prototype.mergeCallTrees=function(e){var r=this,t=v.generateOperationResult({didOperationSucceed:!1,result:void 0});P.startNew("MergeCallTrees",(function(){if(e.length<2)return r.mergedCallTrees=e,v.generateOperationResult({didOperationSucceed:!0,result:void 0});r.didMergeCallTreesGetCalled=!0,r.mergedCallTrees=[];for(var t=0,o=1,n=!1;o<e.length;){var s=e[t];(n=zr(s,e[o],r.logger).wasMergeSuccessful)||(r.mergedCallTrees.push(s),t=o),o+=1}return n?r.mergedCallTrees.push(e[t]):r.mergedCallTrees.push(e[o-1]),v.generateOperationResult({didOperationSucceed:!0,result:void 0})}),t,this.logger)},e.prototype.retrieveMergedCallTrees=function(){return this.didMergeCallTreesGetCalled?(this.didMergeCallTreesGetCalled=!1,this.mergedCallTrees):[]},e}(),jr=function(){function e(e){this.logger=e,this.filteredCallTreesToReturn=[],this.filterCallTreesCalled=!1}return e.prototype.filterCallTrees=function(e,r){var t=this,o=v.generateOperationResult({didOperationSucceed:!1,result:void 0});return P.startNew("FilterCallTrees",(function(o){return t.filterCallTreesCalled=!0,t.filteredCallTreesToReturn=[],o.addProperty("FilteringThresholdInMs",r),o.addProperty("NumberOfCallTreesPresent",e.length),e.forEach((function(e){e.getTotalExecutionTimeInMs()>r&&t.filteredCallTreesToReturn.push(e)})),o.addProperty("NumberOfCallTreesFiltered",t.filteredCallTreesToReturn.length),v.generateOperationResult({didOperationSucceed:!0,result:void 0})}),o,this.logger).getResult()},e.prototype.retrieveFilteredCallTrees=function(){var e=this,r=v.generateOperationResult({didOperationSucceed:!1,result:[]});return P.startNew("RetrieveFilteredCallTrees",(function(){return e.filterCallTreesCalled?(e.filterCallTreesCalled=!1,v.generateOperationResult({didOperationSucceed:!0,result:e.filteredCallTreesToReturn})):v.generateOperationResult({didOperationSucceed:!1,result:[]})}),r,this.logger).getResult()},e}(),Hr=function(){function e(e){this.logger=e,this.didFilterSamplesGetCalled=!1,this.filteredSamples=[]}return e.prototype.filterSamples=function(e,r){var t=this,o=v.generateOperationResult({didOperationSucceed:!1,result:void 0});P.startNew("FilterSamples",(function(){if(t.didFilterSamplesGetCalled=!0,t.filteredSamples=[],0===e.length)return t.logger.logEmptySamplesArrayPassedToFilter(),v.generateOperationResult({didOperationSucceed:!1,result:void 0});for(var o=e[0],n=0,s=e;n<s.length;n++){var i=s[n];if(i.timestamp-o.timestamp>r)break;t.filteredSamples.push(i)}return v.generateOperationResult({didOperationSucceed:!0,result:void 0})}),o,this.logger)},e.prototype.retrieveFilteredSamples=function(){return this.didFilterSamplesGetCalled?(this.didFilterSamplesGetCalled=!1,this.filteredSamples):[]},e}(),Qr=function(){function e(e,r){this.shouldMakeSerializedCallTreesFullyReconstructible=e,this.logger=r,this.serializedCallTree={}}return e.prototype.serializeCallTree=function(e){var r=this,t=v.generateOperationResult({didOperationSucceed:!1,result:void 0});P.startNew("SeriallizeCallTree",(function(){r.serializedCallTree={serializedFrames:[],totalExecutionTimeForTreeInMs:0,propertyBag:{}};for(var t=r.shouldMakeSerializedCallTreesFullyReconstructible?e.getReconstructibleTreeIterator():e.getDepthFirstIterator(),o=void 0;t.hasMore();)void 0!==(o=t.getNext())&&r.serializedCallTree.serializedFrames.push(r.onVisit(o));return r.serializedCallTree.totalExecutionTimeForTreeInMs=e.getTotalExecutionTimeInMs(),r.serializedCallTree.propertyBag=e.getCustomProperties(),v.generateOperationResult({didOperationSucceed:!0,result:void 0})}),t,this.logger)},e.prototype.onVisit=function(e){var r=v.generateOperationResult({didOperationSucceed:!1,result:xe});return P.startNew("VisitNodeInCallTree",(function(){var r,t={obfuscatedName:null!==(r=e.getFrame().name)&&void 0!==r?r:"",startTimeInMs:e.getStartTimeInMs(),frameOnlyRunTimeInMs:e.getFrameOnlyExecutionTimeInMs(),subTreeRunTimeInMs:e.getSubTreeExecutionTimeInMs(),totalExecutionTimeInMs:e.getTotalExecutionTimeInMs(),hasChildrenNodes:e.getChildrenNodes().length>0,resourceInfo:{resourceName:e.getResourceName(),lineNo:e.getFrame().line,columnNo:e.getFrame().column},frameOnlyCount:e.getFrameOnlyCount(),totalCount:e.getCount()};return v.generateOperationResult({didOperationSucceed:!0,result:t})}),r,this.logger,!1).getResult()},e.prototype.retrieveSerializedTree=function(){return this.serializedCallTree},e}(),Kr=function(){function e(e,r){this.shouldMakeSerializedCallTreesFullyReconstructible=e,this.logger=r,this.serializedCallTrees=[]}return e.prototype.serializeCallTrees=function(e){var r=this,t=v.generateOperationResult({didOperationSucceed:!1,result:void 0});P.startNew(Te,(function(){var t=new Qr(r.shouldMakeSerializedCallTreesFullyReconstructible,r.logger);return r.serializedCallTrees=e.map((function(e){return t.serializeCallTree(e),t.retrieveSerializedTree()})),v.generateOperationResult({didOperationSucceed:!0,result:void 0})}),t,this.logger)},e.prototype.retrieveSerializedTrees=function(){return this.serializedCallTrees},e}(),Zr=function(){function e(e,r){this.profilerTraceTransformer=e,this.serializer=r,this.serializedCallTrees=[]}return e.prototype.processTrace=function(e){this.profilerTraceTransformer.transform(e);var r=this.profilerTraceTransformer.retrieveCallTrees();this.serializer.serializeCallTrees(r),this.serializedCallTrees=this.serializer.retrieveSerializedTrees()},e.prototype.retrieveSerializedCallTrees=function(){return this.serializedCallTrees},e}(),Xr=function(){function e(e){this.windowPropertyChecker=e}return e.prototype.isWebWorkerAPIAvailable=function(){return!!this.windowPropertyChecker.hasProperty("Worker")},e}();!function(e){e[e.ProcessTrace=0]="ProcessTrace",e[e.TraceProcessingComplete=1]="TraceProcessingComplete",e[e.ErrorEncounteredInWorker=2]="ErrorEncounteredInWorker"}(Gr||(Gr={}));var Yr,$r=function(){function e(e,r,t){var o=this;this.jsCPUProfilingPackageInitOptions=e,this.logMessageProcessor=r,this.logger=t,this.errorHandler=function(e){var r=v.generateOperationResult({didOperationSucceed:!1,result:void 0});P.startNew("ProfilerTraceProcessingWorkerImplErrorHandler",(function(){if(o.logger.logWebWorkerError(e.message),null==o.currentTraceBeingProcessed)return o.logger.logCurrentTraceBeingProcessedNullOrUndefined(),v.generateOperationResult({didOperationSucceed:!1,result:void 0});if(null==o.currentTraceBeingProcessed.traceProcessingErrorCallback)return o.logger.logWebWorkerErrorCallbackNotRegistered(),v.generateOperationResult({didOperationSucceed:!1,result:void 0});if(null==o.currentTraceBeingProcessed.traceProcessingInfo)return o.logger.logWebWorkerTraceProcessingInfoMissingToReturnOnError(),v.generateOperationResult({didOperationSucceed:!1,result:void 0});var r=o.getDeObfuscationRequestPropertiesAndQueryParams(),t=r[0],n=r[1];return o.currentTraceBeingProcessed.traceProcessingErrorCallback(o.currentTraceBeingProcessed.traceProcessingInfo,t,n,o.currentTraceBeingProcessed.callTreeCustomPropertiesRetrievers,o.currentTraceBeingProcessed.callTreeCustomFilterers),o.workerCurrentlyProcessingTrace=!1,o.currentTraceBeingProcessed=void 0,o.processNextStoredProfilerTraceIfAny(),v.generateOperationResult({didOperationSucceed:!0,result:void 0})}),r,o.logger)},this.onMessageReceived=function(e){var r=v.generateOperationResult({didOperationSucceed:!1,result:void 0});P.startNew(he,(function(r){var t=e.data;if(!("id"in t))return o.logger.logIdNotFoundInMessageFromWorker(),v.generateOperationResult({didOperationSucceed:!1,result:void 0});if(!("data"in t))return o.logger.logDataNotFoundInMessageFromWorker(),v.generateOperationResult({didOperationSucceed:!1,result:void 0});if(r.addProperty("MessageReceived",t.id),null==o.currentTraceBeingProcessed)return o.logger.logCurrentTraceBeingProcessedNullOrUndefined(),v.generateOperationResult({didOperationSucceed:!1,result:void 0});switch(t.id){case Gr.TraceProcessingComplete:if(!("serializedCallTrees"in(l=t.data)))return o.logger.logSerializedCallTreesMissingInProcessorResult(),v.generateOperationResult({didOperationSucceed:!1,result:void 0});if(!("logs"in l))return o.logger.logLogsMissingInProcessorResult(),v.generateOperationResult({didOperationSucceed:!1,result:void 0});var n=l;if(void 0===o.currentTraceBeingProcessed.traceProcessingCompletionCallback)return o.logger.logUndefinedWebWorkerCompletionCallback(),v.generateOperationResult({didOperationSucceed:!1,result:void 0});n.logs.forEach((function(e){o.handleLogMessageFromWorker(e)}));var s=o.getDeObfuscationRequestPropertiesAndQueryParams(),i=s[0],a=s[1];o.currentTraceBeingProcessed.traceProcessingCompletionCallback(n.serializedCallTrees,i,a,o.currentTraceBeingProcessed.callTreeCustomPropertiesRetrievers,o.currentTraceBeingProcessed.callTreeCustomFilterers);break;case Gr.ErrorEncounteredInWorker:var l;if("logs"in(l=t.data)&&l.logs.forEach((function(e){o.handleLogMessageFromWorker(e)})),"error"in l&&o.logger.logErrorFromWorker(l.error),void 0===o.currentTraceBeingProcessed.traceProcessingErrorCallback)return o.logger.logUndefinedErrorCallback(),v.generateOperationResult({didOperationSucceed:!1,result:void 0});if(void 0===o.currentTraceBeingProcessed.traceProcessingInfo)return o.logger.logUndefinedTraceProcessingInfoToReturnBack(),v.generateOperationResult({didOperationSucceed:!1,result:void 0});var c=o.getDeObfuscationRequestPropertiesAndQueryParams();i=c[0],a=c[1],o.currentTraceBeingProcessed.traceProcessingErrorCallback(o.currentTraceBeingProcessed.traceProcessingInfo,i,a,o.currentTraceBeingProcessed.callTreeCustomPropertiesRetrievers,o.currentTraceBeingProcessed.callTreeCustomFilterers),o.terminateWorker();break;default:o.logger.logUnknownMessageFromWorker(t.id)}return o.workerCurrentlyProcessingTrace=!1,o.currentTraceBeingProcessed=void 0,o.processNextStoredProfilerTraceIfAny(),v.generateOperationResult({didOperationSucceed:!0,result:void 0})}),r,o.logger)},this.worker=void 0,this.workerStarted=!1,this.pendingTracesToProcess=G.createQueue(),this.workerCurrentlyProcessingTrace=!1,this.currentTraceBeingProcessed=void 0}return e.prototype.startWorker=function(e){if(this.workerStarted)return this.logger.logWebWorkerAlreadyStarted(),!0;var r=new Blob(["try{importScripts('".concat(encodeURI(e),"');}catch(e){self.postMessage({id: ").concat(Gr.ErrorEncounteredInWorker,", data: {error: e}}); }")],{type:"application/javascript"}),t=new Worker(URL.createObjectURL(r));return t?(this.worker=t,this.workerStarted=!0,this.worker.addEventListener("message",this.onMessageReceived),this.worker.onerror=this.errorHandler,!0):(this.logger.logUnableToBootWebWorker(),!1)},e.prototype.processTrace=function(e){var r=this,t=v.generateOperationResult({didOperationSucceed:!1,result:void 0});P.startNew("ProfilerTraceProcessingWorkerImplProcessTrace",(function(){if(!r.worker)return r.logger.logWorkerInstanceNotFound(),v.generateOperationResult({didOperationSucceed:!1,result:void 0});if(r.workerCurrentlyProcessingTrace)return r.pendingTracesToProcess.queue(e),v.generateOperationResult({didOperationSucceed:!0,result:void 0});r.workerCurrentlyProcessingTrace=!0,r.currentTraceBeingProcessed=e;var t={id:Gr.ProcessTrace,data:e.traceProcessingInfo};return r.worker.postMessage(t),v.generateOperationResult({didOperationSucceed:!0,result:void 0})}),t,this.logger)},e.prototype.terminateWorker=function(){this.worker?(this.worker.terminate(),this.worker=void 0,this.workerStarted=!1,this.logger.logWebWorkerTerminated()):this.logger.logWorkerInstanceNotFound()},e.prototype.handleLogMessageFromWorker=function(e){this.logMessageProcessor.processLogMessage(e)},e.prototype.getDeObfuscationRequestPropertiesAndQueryParams=function(){var e=new Qe(this.logger);return[e.extractCustomProperties(this.jsCPUProfilingPackageInitOptions.deObfuscationRequestBodyPropertiesRetriever),e.extractCustomProperties(this.jsCPUProfilingPackageInitOptions.deObfuscationRequestQueryParamsRetriever)]},e.prototype.processNextStoredProfilerTraceIfAny=function(){if(this.pendingTracesToProcess.length()>0){var e=this.pendingTracesToProcess.peek();void 0!==e&&(this.processTrace(e),this.pendingTracesToProcess.dequeue())}},e}(),et=function(){function e(e,r,t){this.jsCPUProfilingPackageInitOptions=e,this.logMessageProcessor=r,this.logger=t}return e.prototype.getProfilerTraceProcessingWorker=function(e){return new $r(this.jsCPUProfilingPackageInitOptions,this.logMessageProcessor,this.logger)},e}(),rt=function(){function e(e,r,t,o){this.sendBeaconScheduler=e,this.xmlHTTPRequestWrapperFactory=r,this.shouldUseSendBeaconForSendingCallTrees=t,this.logger=o}return e.prototype.sendCallTreeToService=function(e,r,t){var o=this,n=v.generateOperationResult({didOperationSucceed:!1,result:void 0});P.startNew("SendIndividualCallTree",(function(){var n={serializedCallTree:e,propertyBag:t},s=JSON.stringify(n);if(o.shouldUseSendBeaconForSendingCallTrees)o.sendBeaconScheduler.sendBeacon({url:r,data:s});else{var i=o.xmlHTTPRequestWrapperFactory.generateXMLHTTPRequestWrapper();i.open("POST",r,!0),i.send(s)}return v.generateOperationResult({didOperationSucceed:!0,result:void 0})}),n,this.logger)},e}(),tt=function(){function e(e,r,t,o){this.sendBeaconScheduler=e,this.xmlHTTPRequestWrapperFactory=r,this.shouldUseSendBeaconForSendingCallTrees=t,this.logger=o}return e.prototype.sendCallTrees=function(e,r,t){var o=this,n=v.generateOperationResult({didOperationSucceed:!1,result:void 0});P.startNew("SendMultipleCallTrees",(function(){var n={serializedCallTrees:e,propertyBag:t},s=JSON.stringify(n);if(o.shouldUseSendBeaconForSendingCallTrees)o.sendBeaconScheduler.sendBeacon({url:r,data:s});else{var i=o.xmlHTTPRequestWrapperFactory.generateXMLHTTPRequestWrapper();i.open("POST",r,!0),i.send(s)}return v.generateOperationResult({didOperationSucceed:!0,result:void 0})}),n,this.logger)},e}(),ot=function(){function e(e,r,t,o,n){this.sendBeaconScheduler=e,this.shouldSendAllCallTreesFromProfileInASingleRequest=r,this.xmlHTTPRequestWrapperFactory=t,this.shouldUseSendBeaconForSendingCallTrees=o,this.logger=n}return e.prototype.sendCallTreesToService=function(e,r,t,o){var n=this,s=v.generateOperationResult({didOperationSucceed:!1,result:void 0});P.startNew(me,(function(s){s.addProperty("NumberOfCallTreesToSend",e.length);var i,a,l=(i=t,a=r,Object.entries(i).forEach((function(e,r){0===r?a.includes("?")?a+="&":a+="?":a+="&";var t=e[0],o=e[1];a+="".concat(t,"=").concat(o)})),a);return n.shouldSendAllCallTreesFromProfileInASingleRequest?n.sendAllCallTreesInASingleRequest(e,l,o):n.sendCallTreesIndividually(e,l,o),v.generateOperationResult({didOperationSucceed:!0,result:void 0})}),s,this.logger)},e.prototype.sendCallTreesIndividually=function(e,r,t){var o=new rt(this.sendBeaconScheduler,this.xmlHTTPRequestWrapperFactory,this.shouldUseSendBeaconForSendingCallTrees,this.logger);e.forEach((function(e){o.sendCallTreeToService(e,r,t)}))},e.prototype.sendAllCallTreesInASingleRequest=function(e,r,t){new tt(this.sendBeaconScheduler,this.xmlHTTPRequestWrapperFactory,this.shouldUseSendBeaconForSendingCallTrees,this.logger).sendCallTrees(e,r,t)},e}(),nt=function(){function e(e){this.logger=e}return e.prototype.filterCallTrees=function(e,r){var t=v.generateOperationResult({didOperationSucceed:!1,result:void 0});return P.startNew("FilterCallTreesFrames",(function(){return e.forEach((function(e){e.getFramesFilterer(r).filterFrames(r)})),v.generateOperationResult({didOperationSucceed:!0,result:void 0})}),t,this.logger).getResult()},e}(),st=function(){function e(e){this.logger=e}return e.prototype.getCustomProperties=function(){return this.logger.logGetCustomPropertiesCalledOnNullJSCPUProfilerTrace(),{}},e.prototype.getResources=function(){return this.logger.logGetResourcesCalledOnNullJSCPUProfilerTrace(),[]},e.prototype.getFrames=function(){return this.logger.logGetFramesCalledOnNullJSCPUProfilerTrace(),[]},e.prototype.getStacks=function(){return this.logger.logGetStacksCalledOnNullJSCPUProfilerTrace(),[]},e.prototype.getSamples=function(){return this.logger.logGetSamplesCalledOnNullJSCPUProfilerTrace(),[]},e.prototype.getSamplesTrimmed=function(){return[]},e.prototype.getProfilerTraceStartTimestamp=function(){return this.logger.logGetProfilerTraceStartTimestampCalledOnNullJSCPUProfilerTrace(),-1},e.prototype.getProfilerProperties=function(){return this.logger.logGetProfilerPropertiesCalledOnNullJSCPUProfilerTrace(),Ce},e.prototype.getElapsedProfilingTimeInMs=function(){return this.logger.logElapsedProfilingTimeMissingInTrace(),-1},e}(),it=function(){function e(e,r){this.urlQueryParamsRemover=e,this.logger=r,this.wasRemoveQueryParamsFromResourceURLsCalled=!1,this.outputProfilerTrace=new st(r)}return e.prototype.removeQueryParamsFromResourceURLs=function(e){var r=this;this.wasRemoveQueryParamsFromResourceURLsCalled=!0;var t=e.getResources(),o=[];t.forEach((function(e){r.urlQueryParamsRemover.removeQueryParams(e),o.push(r.urlQueryParamsRemover.retrieveQueryParamsRemovedURL())})),this.outputProfilerTrace=new Ie(e.getCustomProperties(),{samples:e.getSamples(),frames:e.getFrames(),resources:o,stacks:e.getStacks()},e.getProfilerTraceStartTimestamp(),e.getProfilerProperties(),e.getElapsedProfilingTimeInMs())},e.prototype.retrieveQueryParamsRemovedProfile=function(){return this.wasRemoveQueryParamsFromResourceURLsCalled?(this.wasRemoveQueryParamsFromResourceURLsCalled=!1,this.outputProfilerTrace):(this.logger.logRemoveQueryParamsFromResourceURLsNeverCalled(),new st(this.logger))},e}(),at=function(){function e(e,r,t,o){this.featureChecker=e,this.jsCPUProfilingPackageInitOptions=r,this.logMessageProcessor=t,this.logger=o}return e.prototype.retrieveProfilerFactory=function(){var e=this,r=v.generateOperationResult({didOperationSucceed:!0,result:new pr(this.logger)});return P.startNew("RetrieveProfilerFactory",(function(){var r,t,o,n,s,i,a,l,c,u,d,g,p,f,m,T,h,P,S=e.getSupportedEnvironmentChecker(),I=new Xe(e.featureChecker,S,e.logger),C=new cr(e.logger),O=new gr(e.logger),k={deObfuscationEndpoint:null!==(r=e.jsCPUProfilingPackageInitOptions.deObfuscationEndpoint)&&void 0!==r?r:""},M=new Mr(e.logger),N=new Hr(e.logger),x=null!==(t=e.jsCPUProfilingPackageInitOptions.shouldKeepSamplesOutsideOfProfilingInterval)&&void 0!==t?t:Ne,R=null!==(o=e.jsCPUProfilingPackageInitOptions.shouldRecordExpandedTimeStamps)&&void 0!==o?o:Re,F=null!==(n=e.jsCPUProfilingPackageInitOptions.shouldRecordFrameCounts)&&void 0!==n&&n,W=null!==(s=e.jsCPUProfilingPackageInitOptions.shouldLogRawProfilerTrace)&&void 0!==s&&s,_=e.jsCPUProfilingPackageInitOptions.profilerTraceLoggingChunkSize||30,w=new kr(M,N,x,R,e.logger,F),L=new Vr(e.logger),B=new Sr(w,L,e.logger),A=new qr(e.logger),D=new jr(e.logger),V=null!==(i=e.jsCPUProfilingPackageInitOptions.callTreeFilteringThresholdInMs)&&void 0!==i?i:50,z=null!==(a=e.jsCPUProfilingPackageInitOptions.frameTotalExecutionTimeFilteringThresholdInMs)&&void 0!==a?a:0,G=null!==(l=e.jsCPUProfilingPackageInitOptions.shouldMakeSerializedCallTreesFullyReconstructible)&&void 0!==l?l:Be,q=new nt(e.logger),j=new vr(B,A,D,V,q,z,e.logger),H=new Kr(G,e.logger),Q=E.getIdleTimeJobScheduler(),Z=U.getDocumentVisibilityChecker(),X=null!==(c=e.jsCPUProfilingPackageInitOptions.shouldProcessProfileCapturedInAHiddenDocument)&&void 0!==c?c:Me,Y=null!==(u=e.jsCPUProfilingPackageInitOptions.shouldSendProfilesForDeobfuscationImmediately)&&void 0!==u?u:we,$=new Zr(j,H),ee=null!==(d=e.jsCPUProfilingPackageInitOptions.useMainEventLoopForProfilerTraceProcessing)&&void 0!==d?d:Fe,re=K.getWindowPropertyChecker(),te=new Xr(re),oe=J.getSendBeaconScheduler(),ne=null!==(g=e.jsCPUProfilingPackageInitOptions.shouldSendAllCallTreesFromProfileInASingleRequest)&&void 0!==g?g:Ee,se=null===(p=e.jsCPUProfilingPackageInitOptions.shouldUseSendBeaconForSendingCallTrees)||void 0===p||p,ie=new b,ae=new ot(oe,ne,ie,se,e.logger),le=new et(e.jsCPUProfilingPackageInitOptions,e.logMessageProcessor,e.logger),ce=null!==(f=e.jsCPUProfilingPackageInitOptions.profilerTraceProcessingWebWorkerSourceURL)&&void 0!==f?f:"",ue=e.jsCPUProfilingPackageInitOptions.deObfuscationRequestBodyPropertiesRetriever,de=e.jsCPUProfilingPackageInitOptions.deObfuscationRequestQueryParamsRetriever,ge=new Qe(e.logger),pe={shouldAlwaysLogOperationsData:null!==(m=e.jsCPUProfilingPackageInitOptions.shouldAlwaysLogOperationsData)&&void 0!==m?m:We,durationThresholdInMsToLogOperationData:null!==(T=e.jsCPUProfilingPackageInitOptions.durationThresholdInMsToLogOperationData)&&void 0!==T?T:50,listOfOperationNamesToAlwaysLog:ve},fe=null!==(h=e.jsCPUProfilingPackageInitOptions.shouldProcessProfileCapturedWhileUserIsIdle)&&void 0!==h?h:Ue,me=null!==(P=e.jsCPUProfilingPackageInitOptions.shouldKeepQueryParamsInResourceURLs)&&void 0!==P?P:Le,Te=(new y).getURLQueryParamsRemover(),he=new it(Te,e.logger),Pe=new mr({idleTimeJobScheduler:Q,documentVisibilityChecker:Z,shouldProcessProfileCapturedInAHiddenDocument:X,traceProcessor:$,shouldProcessProfileInMainEventLoop:ee,webWorkerAPIAvailabilityChecker:te,deObfuscationInfo:k,callTreesSender:ae,webWorkerSourceURL:ce,profilerTraceProcessingWorkerFactory:le,shouldKeepSamplesOutsideOfProfilingInterval:x,shouldRecordExpandedTimeStamps:R,callTreeFilteringThresholdInMs:V,frameTotalExecutionTimeFilteringThresholdInMs:z,deObfuscationRequestBodyPropertiesRetriever:ue,deObfuscationRequestQueryParamsRetriever:de,customPropertiesExtractor:ge,logger:e.logger,operationLogMessageFilteringCriteria:pe,shouldSendProfilesForDeobfuscationImmediately:Y,shouldProcessProfileCapturedWhileUserIsIdle:fe,shouldKeepQueryParamsInResourceURLs:me,profileResourceURLsQueryParamsRemover:he,shouldMakeSerializedCallTreesFullyReconstructible:G,shouldRecordFrameCounts:F,shouldLogRawProfilerTrace:W,profilerTraceLoggingChunkSize:_}),Se=new Ze(I,e.logger,C,O,Pe,e.jsCPUProfilingPackageInitOptions);return v.generateOperationResult({didOperationSucceed:!0,result:Se})}),r,this.logger).getResult()},e.prototype.getSupportedEnvironmentChecker=function(){return or.build(this.logger)},e}(),lt=function(){function e(e){this.logger=e}return e.prototype.retrieveProfilerFactory=function(){return this.logger.logNullJSCPUProfilerFactoryInvoked(),new pr(this.logger)},e}();!function(e){e[e.IdMissing=0]="IdMissing",e[e.DataMissing=1]="DataMissing",e[e.MissingProfilerImplementation=2]="MissingProfilerImplementation",e[e.FailingValidationsInProfilerFactory=3]="FailingValidationsInProfilerFactory",e[e.WindowMissingInJSEnvironment=4]="WindowMissingInJSEnvironment",e[e.WindowPropertyNameChecked=5]="WindowPropertyNameChecked",e[e.UserAgentToParseChromiumMajorVersionNumber=6]="UserAgentToParseChromiumMajorVersionNumber",e[e.ChromeNotPresentInUserAgent=7]="ChromeNotPresentInUserAgent",e[e.UnableToIsolateChromeInformationFromUserAgent=8]="UnableToIsolateChromeInformationFromUserAgent",e[e.UnableToExtractChromeVersionInformation=9]="UnableToExtractChromeVersionInformation",e[e.UnableToParseChromeMajorVersionString=10]="UnableToParseChromeMajorVersionString",e[e.ParsedChromiumMajorVersionNumber=11]="ParsedChromiumMajorVersionNumber",e[e.UserAgentToCheckForChromiumBrowser=12]="UserAgentToCheckForChromiumBrowser",e[e.EmptyUserAgentString=13]="EmptyUserAgentString",e[e.BrowserUserAgentNotChromiumBased=14]="BrowserUserAgentNotChromiumBased",e[e.UserAgentSpoofedToBeChromium=15]="UserAgentSpoofedToBeChromium",e[e.BrowserNotChromiumBasedBrowser=16]="BrowserNotChromiumBasedBrowser",e[e.UnsupportedChromiumMajorVersionNumber=17]="UnsupportedChromiumMajorVersionNumber",e[e.ProfilerInitOptionsNullOrUndefined=18]="ProfilerInitOptionsNullOrUndefined",e[e.SamplingIntervalIsLessThanOrEqualToZero=19]="SamplingIntervalIsLessThanOrEqualToZero",e[e.SamplingIntervalLessThanMinimumSupportedSamplingInterval=20]="SamplingIntervalLessThanMinimumSupportedSamplingInterval",e[e.UnsupportedBrowser=21]="UnsupportedBrowser",e[e.UnsupportedOperatingSystem=22]="UnsupportedOperatingSystem",e[e.JSSelfProfilingAPIUnavailable=23]="JSSelfProfilingAPIUnavailable",e[e.RetrievedUserAgent=24]="RetrievedUserAgent",e[e.NullJSCPUProfilerStartCalled=25]="NullJSCPUProfilerStartCalled",e[e.NullJSCPUProfilerStopCalled=26]="NullJSCPUProfilerStopCalled",e[e.NullOrUndefinedProfilerInitOptions=27]="NullOrUndefinedProfilerInitOptions",e[e.MaxBufferSizeFixedToDefaultSize=28]="MaxBufferSizeFixedToDefaultSize",e[e.MaxBufferSizeWasNotFixedBeforeRetrieval=29]="MaxBufferSizeWasNotFixedBeforeRetrieval",e[e.ProfilerNotPresentInJSEnvironment=30]="ProfilerNotPresentInJSEnvironment",e[e.SamplingIntervalValidationCheckFailed=31]="SamplingIntervalValidationCheckFailed",e[e.MaxBufferValidationFailed=32]="MaxBufferValidationFailed",e[e.MaxBufferSizeNotSpecified=33]="MaxBufferSizeNotSpecified",e[e.MaxBufferSizeLessThanOrEqualToZero=34]="MaxBufferSizeLessThanOrEqualToZero",e[e.ManualProfilerValidationFailed=35]="ManualProfilerValidationFailed",e[e.ProfilingIntervalValidationFailed=36]="ProfilingIntervalValidationFailed",e[e.ProfilingIntervalNullOrUndefined=37]="ProfilingIntervalNullOrUndefined",e[e.ProfilingIntervalLessThanOrEqualToZero=38]="ProfilingIntervalLessThanOrEqualToZero",e[e.ProfilingIntervalLessThanSamplingInterval=39]="ProfilingIntervalLessThanSamplingInterval",e[e.TimedProfilerValidationFailed=40]="TimedProfilerValidationFailed",e[e.IdleIntervalValidationFailed=41]="IdleIntervalValidationFailed",e[e.IdleIntervalIsNullOrUndefined=42]="IdleIntervalIsNullOrUndefined",e[e.IdleIntervalIsLessThanOrEqualToZero=43]="IdleIntervalIsLessThanOrEqualToZero",e[e.PostProfilerStartCallbackSpecified=44]="PostProfilerStartCallbackSpecified",e[e.PreProfilerStartCheckFailed=45]="PreProfilerStartCheckFailed",e[e.MaxBufferSizeNotFixed=46]="MaxBufferSizeNotFixed",e[e.ProfilerAlreadyStarted=47]="ProfilerAlreadyStarted",e[e.ProfilerStartSucceeded=48]="ProfilerStartSucceeded",e[e.InvokingPostProfilerStartCallback=49]="InvokingPostProfilerStartCallback",e[e.PostProfilerStopCallbackSpecified=50]="PostProfilerStopCallbackSpecified",e[e.ProfilerInstanceIsUndefined=51]="ProfilerInstanceIsUndefined",e[e.ProfilerStopPromiseResolved=52]="ProfilerStopPromiseResolved",e[e.ProfilerStopPromiseRejected=53]="ProfilerStopPromiseRejected",e[e.PostProfilerStopCallbackInvoked=54]="PostProfilerStopCallbackInvoked",e[e.PostTimedStartProfilerStartCallbackInvoked=55]="PostTimedStartProfilerStartCallbackInvoked",e[e.ProfilingIntervalIsUndefined=56]="ProfilingIntervalIsUndefined",e[e.TimerJobToStopProfilerSet=57]="TimerJobToStopProfilerSet",e[e.TimedProfilerStopCallbackInvoked=58]="TimedProfilerStopCallbackInvoked",e[e.TimedProfilerIsBeingStoppedManually=59]="TimedProfilerIsBeingStoppedManually",e[e.ProfilerStartPromiseCreated=60]="ProfilerStartPromiseCreated",e[e.ProfilerStopGoingToBeInvoked=61]="ProfilerStopGoingToBeInvoked",e[e.SamplingIntervalUsedForStartingProfiler=62]="SamplingIntervalUsedForStartingProfiler",e[e.MaxBufferSize=63]="MaxBufferSize",e[e.NoProfilerInstanceBuilt=64]="NoProfilerInstanceBuilt",e[e.ProfilerInitOptionsValidationFailed=65]="ProfilerInitOptionsValidationFailed",e[e.UnableToFixUpProfilerInitOptions=66]="UnableToFixUpProfilerInitOptions",e[e.ProfilingIsNotEnabled=67]="ProfilingIsNotEnabled",e[e.ProfilingIsNotSupportedEnvironment=68]="ProfilingIsNotSupportedEnvironment",e[e.FeatureCheckerIsNullOrUndefined=69]="FeatureCheckerIsNullOrUndefined",e[e.NullSupportedEnvironmentCheckerInvoked=70]="NullSupportedEnvironmentCheckerInvoked",e[e.NullJSCPUProfilerInitOptionsValidatorInvoked=71]="NullJSCPUProfilerInitOptionsValidatorInvoked",e[e.NullJSCPUProfilerFactoryInvoked=72]="NullJSCPUProfilerFactoryInvoked",e[e.NullOrUndefinedIdleInterval=73]="NullOrUndefinedIdleInterval",e[e.CreateProfilerDidNotSubscribeProfilerObserver=74]="CreateProfilerDidNotSubscribeProfilerObserver",e[e.NullOrUndefinedCustomPropertiesRetriever=75]="NullOrUndefinedCustomPropertiesRetriever",e[e.NullOrUndefinedCustomProperties=76]="NullOrUndefinedCustomProperties",e[e.CustomPropertyKeyIsNull=77]="CustomPropertyKeyIsNull",e[e.CustomPropertyValueIsNull=78]="CustomPropertyValueIsNull",e[e.RetrieveCallTreesCalledBeforeTransform=79]="RetrieveCallTreesCalledBeforeTransform",e[e.RetrieveBuiltCallTreesBeforeBuildCallTrees=80]="RetrieveBuiltCallTreesBeforeBuildCallTrees",e[e.RetrieveStacksCalledBeforeBuildStacks=81]="RetrieveStacksCalledBeforeBuildStacks",e[e.ExecutionStacksNeverBuilt=82]="ExecutionStacksNeverBuilt",e[e.PeekOnNullExecutionStackInvoked=83]="PeekOnNullExecutionStackInvoked",e[e.PopOnNullExecutionStackInvoked=84]="PopOnNullExecutionStackInvoked",e[e.EmptyStacks=85]="EmptyStacks",e[e.EmptyFrames=86]="EmptyFrames",e[e.ForciblyExitingLoopWhileBuildingStack=87]="ForciblyExitingLoopWhileBuildingStack",e[e.RetrieveStackCalledBeforeBuildStack=88]="RetrieveStackCalledBeforeBuildStack",e[e.ExecutionStackNeverBuilt=89]="ExecutionStackNeverBuilt",e[e.ConvertStacksToCallTreesNeverCalled=90]="ConvertStacksToCallTreesNeverCalled",e[e.ConvertStackToCallTreeNeverCalled=91]="ConvertStackToCallTreeNeverCalled",e[e.NullFrameNodeCreated=92]="NullFrameNodeCreated",e[e.InvalidSampleIndex=93]="InvalidSampleIndex",e[e.InvalidFrameNodeStartTime=94]="InvalidFrameNodeStartTime",e[e.InvalidFrameNodeExecutionTime=95]="InvalidFrameNodeExecutionTime",e[e.InvalidNewFrameNodeExecutionTime=96]="InvalidNewFrameNodeExecutionTime",e[e.NegativeSubTreeExecutionTime=97]="NegativeSubTreeExecutionTime",e[e.FixerForProfilerType=98]="FixerForProfilerType",e[e.MissingProfilerInitOptionsFixerImplementation=99]="MissingProfilerInitOptionsFixerImplementation",e[e.LoopBackFixerFixProfilerInitOptionsInvoked=100]="LoopBackFixerFixProfilerInitOptionsInvoked",e[e.LoopBackFixerRetrieveFixedProfilerInitOptionsInvoked=101]="LoopBackFixerRetrieveFixedProfilerInitOptionsInvoked",e[e.MissingDeObfuscationEndpoint=102]="MissingDeObfuscationEndpoint",e[e.NotProcessingCapturedTraceDueToDocumentBeingHiddenDuringProfiling=103]="NotProcessingCapturedTraceDueToDocumentBeingHiddenDuringProfiling",e[e.NullCallTreeDepthFirstIteratorInvoked=104]="NullCallTreeDepthFirstIteratorInvoked",e[e.EmptySamplesArrayPassedToFilter=105]="EmptySamplesArrayPassedToFilter",e[e.NullCallTreeLeftMostNodesIteratorInvoked=106]="NullCallTreeLeftMostNodesIteratorInvoked",e[e.NullCallTreeRightMostNodesIteratorInvoked=107]="NullCallTreeRightMostNodesIteratorInvoked",e[e.MissingIsProfilingEnabledOnFeatureChecker=108]="MissingIsProfilingEnabledOnFeatureChecker",e[e.FeatureCheckerIsProfilingEnabledNotAFunction=109]="FeatureCheckerIsProfilingEnabledNotAFunction",e[e.NullCallTreeGetTotalExecutionTimeInvoked=110]="NullCallTreeGetTotalExecutionTimeInvoked",e[e.NullCallTreeGetCustomPropertiesInvoked=111]="NullCallTreeGetCustomPropertiesInvoked",e[e.SerializedCallTrees=112]="SerializedCallTrees",e[e.NullCallTreeIteratorImplGetNextInvoked=113]="NullCallTreeIteratorImplGetNextInvoked",e[e.NullCallTreeIteratorImplHasMoreInvoked=114]="NullCallTreeIteratorImplHasMoreInvoked",e[e.MissingProfilerNameForProfilerType=115]="MissingProfilerNameForProfilerType",e[e.ExpectedOnlyOneNodePerLevelInCallTree=116]="ExpectedOnlyOneNodePerLevelInCallTree",e[e.MissingWebWorkerSourceURL=117]="MissingWebWorkerSourceURL",e[e.MaxNumberOfProfilersAlreadyCreated=118]="MaxNumberOfProfilersAlreadyCreated",e[e.WebWorkerAPINotAvailable=119]="WebWorkerAPINotAvailable",e[e.SamplingIntervalAboveMaxSamplingInterval=120]="SamplingIntervalAboveMaxSamplingInterval",e[e.UnableToBootWebWorker=121]="UnableToBootWebWorker",e[e.WorkerInstanceNotFound=122]="WorkerInstanceNotFound",e[e.IdNotFoundInMessageToWorker=123]="IdNotFoundInMessageToWorker",e[e.DataNotFoundInMessageToWorker=124]="DataNotFoundInMessageToWorker",e[e.IdNotFoundInMessageFromWorker=125]="IdNotFoundInMessageFromWorker",e[e.DataNotFoundInMessageFromWorker=126]="DataNotFoundInMessageFromWorker",e[e.IdNotFoundInWorkerLogMessage=127]="IdNotFoundInWorkerLogMessage",e[e.MessageNotFoundInWorkerLogMessage=128]="MessageNotFoundInWorkerLogMessage",e[e.UnknownMessageFromWorker=129]="UnknownMessageFromWorker",e[e.UnknownLogMessageFromWorker=130]="UnknownLogMessageFromWorker",e[e.Operation=131]="Operation",e[e.FallbackResultReturned=132]="FallbackResultReturned",e[e.UnknownMessageToWorker=133]="UnknownMessageToWorker",e[e.ExceptionEncounteredInWorker=134]="ExceptionEncounteredInWorker",e[e.MissingDeObfuscationInfoInTraceProcessingInfo=135]="MissingDeObfuscationInfoInTraceProcessingInfo",e[e.MissingShouldKeepSamplesOutsideOfProfilingIntervalInTraceProcessingInfo=136]="MissingShouldKeepSamplesOutsideOfProfilingIntervalInTraceProcessingInfo",e[e.MissingShouldRecordExpandedTimeStampsInTraceProcessingInfo=137]="MissingShouldRecordExpandedTimeStampsInTraceProcessingInfo",e[e.MissingCallTreeFilteringThresholdInMs=138]="MissingCallTreeFilteringThresholdInMs",e[e.InvalidMessageReceivedByWorker=139]="InvalidMessageReceivedByWorker",e[e.InvalidProcessTraceMessageReceivedByWorker=140]="InvalidProcessTraceMessageReceivedByWorker",e[e.MissingTraceInTraceProcessingInfo=141]="MissingTraceInTraceProcessingInfo",e[e.SerializedCallTreesMissingInProcessorResult=142]="SerializedCallTreesMissingInProcessorResult",e[e.LogsMissingInProcessorResult=143]="LogsMissingInProcessorResult",e[e.UndefinedWebWorkerCompletionCallback=144]="UndefinedWebWorkerCompletionCallback",e[e.LogsMissingInErrorsFromWebWorker=145]="LogsMissingInErrorsFromWebWorker",e[e.UndefinedErrorCallback=146]="UndefinedErrorCallback",e[e.UndefinedTraceProcessingInfoToReturnBack=147]="UndefinedTraceProcessingInfoToReturnBack",e[e.WebWorkerAlreadyStarted=148]="WebWorkerAlreadyStarted",e[e.WebWorkerErrorFallingBackToMainEventLoop=149]="WebWorkerErrorFallingBackToMainEventLoop",e[e.CustomPropertiesMissingInTrace=150]="CustomPropertiesMissingInTrace",e[e.ProfilerTraceMissingInTrace=151]="ProfilerTraceMissingInTrace",e[e.ProfilerTraceStartTimestampMissingInTrace=152]="ProfilerTraceStartTimestampMissingInTrace",e[e.ProfilerPropertiesMissingInTrace=153]="ProfilerPropertiesMissingInTrace",e[e.ElapsedProfilingTimeMissingInTrace=154]="ElapsedProfilingTimeMissingInTrace",e[e.InvalidProfilerTraceToProcess=155]="InvalidProfilerTraceToProcess",e[e.WebWorkerError=156]="WebWorkerError",e[e.WebWorkerTraceProcessingInfoMissingToReturnOnError=157]="WebWorkerTraceProcessingInfoMissingToReturnOnError",e[e.WebWorkerErrorCallbackNotRegistered=158]="WebWorkerErrorCallbackNotRegistered",e[e.ProfilerTrace=159]="ProfilerTrace",e[e.MissingCallToFilterCallTrees=160]="MissingCallToFilterCallTrees",e[e.MissingCallToFilterFrames=161]="MissingCallToFilterFrames",e[e.NullCallTreeFramesFiltererFilterFramesInvoked=162]="NullCallTreeFramesFiltererFilterFramesInvoked",e[e.NullCallTreeFramesFiltererRetrieveFilteredCallTreeInvoked=163]="NullCallTreeFramesFiltererRetrieveFilteredCallTreeInvoked",e[e.NullCallTreeGetFramesFiltererInvoked=164]="NullCallTreeGetFramesFiltererInvoked",e[e.FilterFrameWithNoParent=165]="FilterFrameWithNoParent",e[e.MissingCallTreeFilteringThresholdInMsInTraceProcessingInfo=166]="MissingCallTreeFilteringThresholdInMsInTraceProcessingInfo",e[e.NoCallTreesToSend=167]="NoCallTreesToSend",e[e.OperationLogMessageFiltererInitOptions=168]="OperationLogMessageFiltererInitOptions",e[e.ErrorFromWorker=169]="ErrorFromWorker",e[e.WebWorkerTerminated=170]="WebWorkerTerminated",e[e.NullOrUndefinedProfilerEvent=171]="NullOrUndefinedProfilerEvent",e[e.UnknownProfilerEventId=172]="UnknownProfilerEventId",e[e.NullOrUndefinedProfilerTrace=173]="NullOrUndefinedProfilerTrace",e[e.OperationLogMessageFilteringCriteriaMissingInTrace=174]="OperationLogMessageFilteringCriteriaMissingInTrace",e[e.NullOrUndefinedProfilerObserverPassedInForSubscribe=175]="NullOrUndefinedProfilerObserverPassedInForSubscribe",e[e.NullOrUndefinedProfilerEventIds=176]="NullOrUndefinedProfilerEventIds",e[e.UnexpectedUndefinedProfilerEventIds=177]="UnexpectedUndefinedProfilerEventIds",e[e.NullOrUndefinedProfilerObserverPassedInForUnsubscribe=178]="NullOrUndefinedProfilerObserverPassedInForUnsubscribe",e[e.NullOrUndefinedProfilerEventToUnsubscribe=179]="NullOrUndefinedProfilerEventToUnsubscribe",e[e.ProfilerObserverWasNeverSubscribed=180]="ProfilerObserverWasNeverSubscribed",e[e.UnexpectedNullOrUndefinedSubscribedProfilerEventIds=181]="UnexpectedNullOrUndefinedSubscribedProfilerEventIds",e[e.ProfilerObserverNeverSubscribedForProfilerEventId=182]="ProfilerObserverNeverSubscribedForProfilerEventId",e[e.CallTreeCustomPropertiesRetrieversMissingInTrace=183]="CallTreeCustomPropertiesRetrieversMissingInTrace",e[e.NullOrUndefinedItemToSubscribe=184]="NullOrUndefinedItemToSubscribe",e[e.NullOrUndefinedItemForUnsubscribe=185]="NullOrUndefinedItemForUnsubscribe",e[e.ItemWasNeverSubscribed=186]="ItemWasNeverSubscribed",e[e.NumberOfCallTreesFiltererByCustomFilterers=187]="NumberOfCallTreesFiltererByCustomFilterers",e[e.ProcessTraceParamsIsNullOrUndefined=188]="ProcessTraceParamsIsNullOrUndefined",e[e.CurrentTraceBeingProcessedNullOrUndefined=189]="CurrentTraceBeingProcessedNullOrUndefined",e[e.TraceIdMissingInTrace=190]="TraceIdMissingInTrace",e[e.UndefinedStoredProfilerTraceProcessingWorker=191]="UndefinedStoredProfilerTraceProcessingWorker",e[e.BailingOutOnNullProfiler=192]="BailingOutOnNullProfiler",e[e.NotProcessingCapturedTraceDueToUserBeingIdle=193]="NotProcessingCapturedTraceDueToUserBeingIdle",e[e.NullCallTreeGetReconstructableTreeIteratorInvoked=194]="NullCallTreeGetReconstructableTreeIteratorInvoked",e[e.GetCustomPropertiesCalledOnNullJSCPUProfilerTrace=195]="GetCustomPropertiesCalledOnNullJSCPUProfilerTrace",e[e.GetResourcesCalledOnNullJSCPUProfilerTrace=196]="GetResourcesCalledOnNullJSCPUProfilerTrace",e[e.GetFramesCalledOnNullJSCPUProfilerTrace=197]="GetFramesCalledOnNullJSCPUProfilerTrace",e[e.GetStacksCalledOnNullJSCPUProfilerTrace=198]="GetStacksCalledOnNullJSCPUProfilerTrace",e[e.GetSamplesCalledOnNullJSCPUProfilerTrace=199]="GetSamplesCalledOnNullJSCPUProfilerTrace",e[e.GetProfilerTraceStartTimestampCalledOnNullJSCPUProfilerTrace=200]="GetProfilerTraceStartTimestampCalledOnNullJSCPUProfilerTrace",e[e.GetProfilerPropertiesCalledOnNullJSCPUProfilerTrace=201]="GetProfilerPropertiesCalledOnNullJSCPUProfilerTrace",e[e.GetElapsedProfilingTimeInMsCalledOnNullJSCPUProfilerTrace=202]="GetElapsedProfilingTimeInMsCalledOnNullJSCPUProfilerTrace",e[e.RemoveQueryParamsFromResourceURLsNeverCalled=203]="RemoveQueryParamsFromResourceURLsNeverCalled"}(Yr||(Yr={}));var ct,ut=function(){function e(e){this.logContext=e,this.logMessageProcessors=[]}return e.prototype.logMissingProfilerImplementation=function(){this.sendLogMessageToProcessors({id:Yr.MissingProfilerImplementation,message:void 0,context:this.logContext})},e.prototype.logFailingValidationsInProfilerFactory=function(){this.sendLogMessageToProcessors({id:Yr.FailingValidationsInProfilerFactory,message:void 0,context:this.logContext})},e.prototype.logWindowMissingInJSEnvironment=function(){this.sendLogMessageToProcessors({id:Yr.WindowMissingInJSEnvironment,message:void 0,context:this.logContext})},e.prototype.logWindowPropertyNameChecked=function(e){this.sendLogMessageToProcessors({id:Yr.WindowPropertyNameChecked,message:e,context:this.logContext})},e.prototype.logUserAgentToParseChromiumMajorVersionNumber=function(){this.sendLogMessageToProcessors({id:Yr.UserAgentToParseChromiumMajorVersionNumber,message:void 0,context:this.logContext})},e.prototype.logChromeNotPresentInUserAgent=function(){this.sendLogMessageToProcessors({id:Yr.ChromeNotPresentInUserAgent,message:void 0,context:this.logContext})},e.prototype.logUnableToIsolateChromeInformationFromUserAgent=function(){this.sendLogMessageToProcessors({id:Yr.UnableToIsolateChromeInformationFromUserAgent,message:void 0,context:this.logContext})},e.prototype.logUnableToExtractChromeVersionInformation=function(){this.sendLogMessageToProcessors({id:Yr.UnableToExtractChromeVersionInformation,message:void 0,context:this.logContext})},e.prototype.logUnableToParseChromeMajorVersionString=function(){this.sendLogMessageToProcessors({id:Yr.UnableToParseChromeMajorVersionString,message:void 0,context:this.logContext})},e.prototype.logParsedChromiumMajorVersionNumber=function(e){this.sendLogMessageToProcessors({id:Yr.ParsedChromiumMajorVersionNumber,message:e,context:this.logContext})},e.prototype.logUserAgentToCheckForChromiumBrowser=function(e){this.sendLogMessageToProcessors({id:Yr.UserAgentToCheckForChromiumBrowser,message:e,context:this.logContext})},e.prototype.logEmptyUserAgentString=function(){this.sendLogMessageToProcessors({id:Yr.EmptyUserAgentString,message:void 0,context:this.logContext})},e.prototype.logBrowserUserAgentNotChromiumBased=function(){this.sendLogMessageToProcessors({id:Yr.BrowserUserAgentNotChromiumBased,message:void 0,context:this.logContext})},e.prototype.logUserAgentSpoofedToBeChromium=function(){this.sendLogMessageToProcessors({id:Yr.UserAgentSpoofedToBeChromium,message:void 0,context:this.logContext})},e.prototype.logBrowserNotChromiumBasedBrowser=function(){this.sendLogMessageToProcessors({id:Yr.BrowserNotChromiumBasedBrowser,message:void 0,context:this.logContext})},e.prototype.logUnsupportedChromiumMajorVersionNumber=function(){this.sendLogMessageToProcessors({id:Yr.UnsupportedChromiumMajorVersionNumber,message:void 0,context:this.logContext})},e.prototype.logProfilerInitOptionsNullOrUndefined=function(){this.sendLogMessageToProcessors({id:Yr.ProfilerInitOptionsNullOrUndefined,message:void 0,context:this.logContext})},e.prototype.logSamplingIntervalIsLessThanOrEqualToZero=function(){this.sendLogMessageToProcessors({id:Yr.SamplingIntervalIsLessThanOrEqualToZero,message:void 0,context:this.logContext})},e.prototype.logSamplingIntervalLessThanMinimumSupportedSamplingInterval=function(e,r){this.sendLogMessageToProcessors({id:Yr.SamplingIntervalLessThanMinimumSupportedSamplingInterval,message:{samplingInterval:e,minimumSupportedSamplingInterval:r},context:this.logContext})},e.prototype.logUnsupportedBrowser=function(){this.sendLogMessageToProcessors({id:Yr.UnsupportedBrowser,message:void 0,context:this.logContext})},e.prototype.logUnsupportedOperatingSystem=function(){this.sendLogMessageToProcessors({id:Yr.UnsupportedOperatingSystem,message:void 0,context:this.logContext})},e.prototype.logJSSelfProfilingAPIUnavailable=function(){this.sendLogMessageToProcessors({id:Yr.JSSelfProfilingAPIUnavailable,message:void 0,context:this.logContext})},e.prototype.logRetrievedUserAgent=function(e){this.sendLogMessageToProcessors({id:Yr.RetrievedUserAgent,message:e,context:this.logContext})},e.prototype.logNullJSCPUProfilerStartCalled=function(){this.sendLogMessageToProcessors({id:Yr.NullJSCPUProfilerStartCalled,message:void 0,context:this.logContext})},e.prototype.logNullJSCPUProfilerStopCalled=function(){this.sendLogMessageToProcessors({id:Yr.NullJSCPUProfilerStopCalled,message:void 0,context:this.logContext})},e.prototype.logNullOrUndefinedProfilerInitOptions=function(){this.sendLogMessageToProcessors({id:Yr.NullOrUndefinedProfilerInitOptions,message:void 0,context:this.logContext})},e.prototype.logMaxBufferSizeFixedToDefaultSize=function(){this.sendLogMessageToProcessors({id:Yr.MaxBufferSizeFixedToDefaultSize,message:void 0,context:this.logContext})},e.prototype.logMaxBufferSizeWasNotFixedBeforeRetrieval=function(){this.sendLogMessageToProcessors({id:Yr.MaxBufferSizeWasNotFixedBeforeRetrieval,message:void 0,context:this.logContext})},e.prototype.logProfilerNotPresentInJSEnvironment=function(){this.sendLogMessageToProcessors({id:Yr.ProfilerNotPresentInJSEnvironment,message:void 0,context:this.logContext})},e.prototype.logSamplingIntervalValidationCheckFailed=function(){this.sendLogMessageToProcessors({id:Yr.SamplingIntervalValidationCheckFailed,message:void 0,context:this.logContext})},e.prototype.logMaxBufferValidationFailed=function(){this.sendLogMessageToProcessors({id:Yr.MaxBufferValidationFailed,message:void 0,context:this.logContext})},e.prototype.logMaxBufferSizeNotSpecified=function(){this.sendLogMessageToProcessors({id:Yr.MaxBufferSizeNotSpecified,message:void 0,context:this.logContext})},e.prototype.logMaxBufferSizeLessThanOrEqualToZero=function(){this.sendLogMessageToProcessors({id:Yr.MaxBufferSizeLessThanOrEqualToZero,message:void 0,context:this.logContext})},e.prototype.logManualProfilerValidationFailed=function(){this.sendLogMessageToProcessors({id:Yr.ManualProfilerValidationFailed,message:void 0,context:this.logContext})},e.prototype.logProfilingIntervalValidationFailed=function(){this.sendLogMessageToProcessors({id:Yr.ProfilingIntervalValidationFailed,message:void 0,context:this.logContext})},e.prototype.logProfilingIntervalNullOrUndefined=function(){this.sendLogMessageToProcessors({id:Yr.ProfilingIntervalNullOrUndefined,message:void 0,context:this.logContext})},e.prototype.logProfilingIntervalLessThanOrEqualToZero=function(){this.sendLogMessageToProcessors({id:Yr.ProfilingIntervalLessThanOrEqualToZero,message:void 0,context:this.logContext})},e.prototype.logProfilingIntervalLessThanSamplingInterval=function(){this.sendLogMessageToProcessors({id:Yr.ProfilingIntervalLessThanSamplingInterval,message:void 0,context:this.logContext})},e.prototype.logTimedProfilerValidationFailed=function(){this.sendLogMessageToProcessors({id:Yr.TimedProfilerValidationFailed,message:void 0,context:this.logContext})},e.prototype.logIdleIntervalValidationFailed=function(){this.sendLogMessageToProcessors({id:Yr.IdleIntervalValidationFailed,message:void 0,context:this.logContext})},e.prototype.logIdleIntervalIsNullOrUndefined=function(){this.sendLogMessageToProcessors({id:Yr.IdleIntervalIsNullOrUndefined,message:void 0,context:this.logContext})},e.prototype.logIdleIntervalIsLessThanOrEqualToZero=function(){this.sendLogMessageToProcessors({id:Yr.IdleIntervalIsLessThanOrEqualToZero,message:void 0,context:this.logContext})},e.prototype.logPostProfilerStartCallbackSpecified=function(){this.sendLogMessageToProcessors({id:Yr.PostProfilerStartCallbackSpecified,message:void 0,context:this.logContext})},e.prototype.logPreProfilerStartCheckFailed=function(){this.sendLogMessageToProcessors({id:Yr.PreProfilerStartCheckFailed,message:void 0,context:this.logContext})},e.prototype.logMaxBufferSizeNotFixed=function(){this.sendLogMessageToProcessors({id:Yr.MaxBufferSizeNotFixed,message:void 0,context:this.logContext})},e.prototype.logBailingOutOnNullProfiler=function(){this.sendLogMessageToProcessors({id:Yr.BailingOutOnNullProfiler,message:void 0,context:this.logContext})},e.prototype.logProfilerAlreadyStarted=function(){this.sendLogMessageToProcessors({id:Yr.ProfilerAlreadyStarted,message:void 0,context:this.logContext})},e.prototype.logProfilerStartSucceeded=function(){this.sendLogMessageToProcessors({id:Yr.ProfilerStartSucceeded,message:void 0,context:this.logContext})},e.prototype.logInvokingPostProfilerStartCallback=function(){this.sendLogMessageToProcessors({id:Yr.InvokingPostProfilerStartCallback,message:void 0,context:this.logContext})},e.prototype.logPostProfilerStopCallbackSpecified=function(){this.sendLogMessageToProcessors({id:Yr.PostProfilerStopCallbackSpecified,message:void 0,context:this.logContext})},e.prototype.logProfilerInstanceIsUndefined=function(){this.sendLogMessageToProcessors({id:Yr.ProfilerInstanceIsUndefined,message:void 0,context:this.logContext})},e.prototype.logProfilerStopPromiseResolved=function(){this.sendLogMessageToProcessors({id:Yr.ProfilerStopPromiseResolved,message:void 0,context:this.logContext})},e.prototype.logProfilerStopPromiseRejected=function(e){this.sendLogMessageToProcessors({id:Yr.ProfilerStopPromiseRejected,message:e,context:this.logContext})},e.prototype.logPostProfilerStopCallbackInvoked=function(){this.sendLogMessageToProcessors({id:Yr.PostProfilerStopCallbackInvoked,message:void 0,context:this.logContext})},e.prototype.logNotProcessingCapturedTraceDueToUserBeingIdle=function(){this.sendLogMessageToProcessors({id:Yr.NotProcessingCapturedTraceDueToUserBeingIdle,message:void 0,context:this.logContext})},e.prototype.logPostTimedStartProfilerStartCallbackInvoked=function(){this.sendLogMessageToProcessors({id:Yr.PostTimedStartProfilerStartCallbackInvoked,message:void 0,context:this.logContext})},e.prototype.logProfilingIntervalIsUndefined=function(){this.sendLogMessageToProcessors({id:Yr.ProfilingIntervalIsUndefined,message:void 0,context:this.logContext})},e.prototype.logTimerJobToStopProfilerSet=function(){this.sendLogMessageToProcessors({id:Yr.TimerJobToStopProfilerSet,message:void 0,context:this.logContext})},e.prototype.logTimedProfilerStopCallbackInvoked=function(){this.sendLogMessageToProcessors({id:Yr.TimedProfilerStopCallbackInvoked,message:void 0,context:this.logContext})},e.prototype.logTimedProfilerIsBeingStoppedManually=function(){this.sendLogMessageToProcessors({id:Yr.TimedProfilerIsBeingStoppedManually,message:void 0,context:this.logContext})},e.prototype.logProfilerStartPromiseCreated=function(){this.sendLogMessageToProcessors({id:Yr.ProfilerStartPromiseCreated,message:void 0,context:this.logContext})},e.prototype.logProfilerStopGoingToBeInvoked=function(){this.sendLogMessageToProcessors({id:Yr.ProfilerStopGoingToBeInvoked,message:void 0,context:this.logContext})},e.prototype.logSamplingIntervalUsedForStartingProfiler=function(){this.sendLogMessageToProcessors({id:Yr.SamplingIntervalUsedForStartingProfiler,message:void 0,context:this.logContext})},e.prototype.logMaxBufferSize=function(e){this.sendLogMessageToProcessors({id:Yr.MaxBufferSize,message:e,context:this.logContext})},e.prototype.logNoProfilerInstanceBuilt=function(){this.sendLogMessageToProcessors({id:Yr.NoProfilerInstanceBuilt,message:void 0,context:this.logContext})},e.prototype.logProfilerInitOptionsValidationFailed=function(){this.sendLogMessageToProcessors({id:Yr.ProfilerInitOptionsValidationFailed,message:void 0,context:this.logContext})},e.prototype.logUnableToFixUpProfilerInitOptions=function(){this.sendLogMessageToProcessors({id:Yr.UnableToFixUpProfilerInitOptions,message:void 0,context:this.logContext})},e.prototype.logProfilingIsNotEnabled=function(){this.sendLogMessageToProcessors({id:Yr.ProfilingIsNotEnabled,message:void 0,context:this.logContext})},e.prototype.logProfilingIsNotSupportedEnvironment=function(){this.sendLogMessageToProcessors({id:Yr.ProfilingIsNotSupportedEnvironment,message:void 0,context:this.logContext})},e.prototype.logFeatureCheckerIsNullOrUndefined=function(){this.sendLogMessageToProcessors({id:Yr.FeatureCheckerIsNullOrUndefined,message:void 0,context:this.logContext})},e.prototype.logNullSupportedEnvironmentCheckerInvoked=function(){this.sendLogMessageToProcessors({id:Yr.NullSupportedEnvironmentCheckerInvoked,message:void 0,context:this.logContext})},e.prototype.logNullJSCPUProfilerInitOptionsValidatorInvoked=function(){this.sendLogMessageToProcessors({id:Yr.NullJSCPUProfilerInitOptionsValidatorInvoked,message:void 0,context:this.logContext})},e.prototype.logNullJSCPUProfilerFactoryInvoked=function(){this.sendLogMessageToProcessors({id:Yr.NullJSCPUProfilerFactoryInvoked,message:void 0,context:this.logContext})},e.prototype.logNullOrUndefinedIdleInterval=function(){this.sendLogMessageToProcessors({id:Yr.NullOrUndefinedIdleInterval,message:void 0,context:this.logContext})},e.prototype.logCreateProfilerDidNotSubscribeProfilerObserver=function(){this.sendLogMessageToProcessors({id:Yr.CreateProfilerDidNotSubscribeProfilerObserver,message:void 0,context:this.logContext})},e.prototype.logNullOrUndefinedCustomPropertiesRetriever=function(){this.sendLogMessageToProcessors({id:Yr.NullOrUndefinedCustomPropertiesRetriever,message:void 0,context:this.logContext})},e.prototype.logNullOrUndefinedCustomProperties=function(){this.sendLogMessageToProcessors({id:Yr.NullOrUndefinedCustomProperties,message:void 0,context:this.logContext})},e.prototype.logCustomPropertyKeyIsNull=function(){this.sendLogMessageToProcessors({id:Yr.CustomPropertyKeyIsNull,message:void 0,context:this.logContext})},e.prototype.logCustomPropertyValueIsNull=function(){this.sendLogMessageToProcessors({id:Yr.CustomPropertyValueIsNull,message:void 0,context:this.logContext})},e.prototype.logRetrieveCallTreesCalledBeforeTransform=function(){this.sendLogMessageToProcessors({id:Yr.RetrieveCallTreesCalledBeforeTransform,message:void 0,context:this.logContext})},e.prototype.logRetrieveBuiltCallTreesBeforeBuildCallTrees=function(){this.sendLogMessageToProcessors({id:Yr.RetrieveBuiltCallTreesBeforeBuildCallTrees,message:void 0,context:this.logContext})},e.prototype.logRetrieveStacksCalledBeforeBuildStacks=function(){this.sendLogMessageToProcessors({id:Yr.RetrieveStacksCalledBeforeBuildStacks,message:void 0,context:this.logContext})},e.prototype.logExecutionStacksNeverBuilt=function(){this.sendLogMessageToProcessors({id:Yr.ExecutionStacksNeverBuilt,message:void 0,context:this.logContext})},e.prototype.logPeekOnNullExecutionStackInvoked=function(){this.sendLogMessageToProcessors({id:Yr.PeekOnNullExecutionStackInvoked,message:void 0,context:this.logContext})},e.prototype.logPopOnNullExecutionStackInvoked=function(){this.sendLogMessageToProcessors({id:Yr.PopOnNullExecutionStackInvoked,message:void 0,context:this.logContext})},e.prototype.logEmptyStacks=function(){this.sendLogMessageToProcessors({id:Yr.EmptyStacks,message:void 0,context:this.logContext})},e.prototype.logEmptyFrames=function(){this.sendLogMessageToProcessors({id:Yr.EmptyFrames,message:void 0,context:this.logContext})},e.prototype.logForciblyExitingLoopWhileBuildingStack=function(){this.sendLogMessageToProcessors({id:Yr.ForciblyExitingLoopWhileBuildingStack,message:void 0,context:this.logContext})},e.prototype.logRetrieveStackCalledBeforeBuildStack=function(){this.sendLogMessageToProcessors({id:Yr.RetrieveStackCalledBeforeBuildStack,message:void 0,context:this.logContext})},e.prototype.logExecutionStackNeverBuilt=function(){this.sendLogMessageToProcessors({id:Yr.ExecutionStackNeverBuilt,message:void 0,context:this.logContext})},e.prototype.logConvertStacksToCallTreesNeverCalled=function(){this.sendLogMessageToProcessors({id:Yr.ConvertStacksToCallTreesNeverCalled,message:void 0,context:this.logContext})},e.prototype.logConvertStackToCallTreeNeverCalled=function(){this.sendLogMessageToProcessors({id:Yr.ConvertStackToCallTreeNeverCalled,message:void 0,context:this.logContext})},e.prototype.logNullFrameNodeCreated=function(){this.sendLogMessageToProcessors({id:Yr.NullFrameNodeCreated,message:void 0,context:this.logContext})},e.prototype.logInvalidSampleIndex=function(){this.sendLogMessageToProcessors({id:Yr.InvalidSampleIndex,message:void 0,context:this.logContext})},e.prototype.logInvalidFrameNodeStartTime=function(){this.sendLogMessageToProcessors({id:Yr.InvalidFrameNodeStartTime,message:void 0,context:this.logContext})},e.prototype.logInvalidFrameNodeExecutionTime=function(){this.sendLogMessageToProcessors({id:Yr.InvalidFrameNodeExecutionTime,message:void 0,context:this.logContext})},e.prototype.logInvalidNewFrameNodeExecutionTime=function(){this.sendLogMessageToProcessors({id:Yr.InvalidNewFrameNodeExecutionTime,message:void 0,context:this.logContext})},e.prototype.logNegativeSubTreeExecutionTime=function(){this.sendLogMessageToProcessors({id:Yr.NegativeSubTreeExecutionTime,message:void 0,context:this.logContext})},e.prototype.logFixerForProfilerType=function(e){this.sendLogMessageToProcessors({id:Yr.FixerForProfilerType,message:e,context:this.logContext})},e.prototype.logMissingProfilerInitOptionsFixerImplementation=function(){this.sendLogMessageToProcessors({id:Yr.MissingProfilerInitOptionsFixerImplementation,message:void 0,context:this.logContext})},e.prototype.logLoopBackFixerFixProfilerInitOptionsInvoked=function(){this.sendLogMessageToProcessors({id:Yr.LoopBackFixerFixProfilerInitOptionsInvoked,message:void 0,context:this.logContext})},e.prototype.logLoopBackFixerRetrieveFixedProfilerInitOptionsInvoked=function(){this.sendLogMessageToProcessors({id:Yr.LoopBackFixerRetrieveFixedProfilerInitOptionsInvoked,message:void 0,context:this.logContext})},e.prototype.logMissingDeObfuscationEndpoint=function(){this.sendLogMessageToProcessors({id:Yr.MissingDeObfuscationEndpoint,message:void 0,context:this.logContext})},e.prototype.logNotProcessingCapturedTraceDueToDocumentBeingHiddenDuringProfiling=function(){this.sendLogMessageToProcessors({id:Yr.NotProcessingCapturedTraceDueToDocumentBeingHiddenDuringProfiling,message:void 0,context:this.logContext})},e.prototype.logNullCallTreeDepthFirstIteratorInvoked=function(){this.sendLogMessageToProcessors({id:Yr.NullCallTreeDepthFirstIteratorInvoked,message:void 0,context:this.logContext})},e.prototype.logEmptySamplesArrayPassedToFilter=function(){this.sendLogMessageToProcessors({id:Yr.EmptySamplesArrayPassedToFilter,message:void 0,context:this.logContext})},e.prototype.logNullCallTreeLeftMostNodesIteratorInvoked=function(){this.sendLogMessageToProcessors({id:Yr.NullCallTreeLeftMostNodesIteratorInvoked,message:void 0,context:this.logContext})},e.prototype.logNullCallTreeRightMostNodesIteratorInvoked=function(){this.sendLogMessageToProcessors({id:Yr.NullCallTreeRightMostNodesIteratorInvoked,message:void 0,context:this.logContext})},e.prototype.logMissingIsProfilingEnabledOnFeatureChecker=function(){this.sendLogMessageToProcessors({id:Yr.MissingIsProfilingEnabledOnFeatureChecker,message:void 0,context:this.logContext})},e.prototype.logFeatureCheckerIsProfilingEnabledNotAFunction=function(){this.sendLogMessageToProcessors({id:Yr.FeatureCheckerIsProfilingEnabledNotAFunction,message:void 0,context:this.logContext})},e.prototype.logNullCallTreeGetTotalExecutionTimeInvoked=function(){this.sendLogMessageToProcessors({id:Yr.NullCallTreeGetTotalExecutionTimeInvoked,message:void 0,context:this.logContext})},e.prototype.logNullCallTreeGetCustomPropertiesInvoked=function(){this.sendLogMessageToProcessors({id:Yr.NullCallTreeGetCustomPropertiesInvoked,message:void 0,context:this.logContext})},e.prototype.logNoCallTreesToSend=function(){this.sendLogMessageToProcessors({id:Yr.NoCallTreesToSend,message:void 0,context:this.logContext})},e.prototype.logSerializedCallTrees=function(e){this.sendLogMessageToProcessors({id:Yr.SerializedCallTrees,message:e,context:this.logContext})},e.prototype.logNullCallTreeIteratorImplGetNextInvoked=function(){this.sendLogMessageToProcessors({id:Yr.NullCallTreeIteratorImplGetNextInvoked,message:void 0,context:this.logContext})},e.prototype.logNullCallTreeIteratorImplHasMoreInvoked=function(){this.sendLogMessageToProcessors({id:Yr.NullCallTreeIteratorImplHasMoreInvoked,message:void 0,context:this.logContext})},e.prototype.logMissingProfilerNameForProfilerType=function(e){this.sendLogMessageToProcessors({id:Yr.MissingProfilerNameForProfilerType,message:e,context:this.logContext})},e.prototype.logExpectedOnlyOneNodePerLevelInCallTree=function(){this.sendLogMessageToProcessors({id:Yr.ExpectedOnlyOneNodePerLevelInCallTree,message:void 0,context:this.logContext})},e.prototype.logMissingWebWorkerSourceURL=function(){this.sendLogMessageToProcessors({id:Yr.MissingWebWorkerSourceURL,message:void 0,context:this.logContext})},e.prototype.logMaxNumberOfProfilersAlreadyCreated=function(){this.sendLogMessageToProcessors({id:Yr.MaxNumberOfProfilersAlreadyCreated,message:void 0,context:this.logContext})},e.prototype.logWebWorkerAPINotAvailable=function(){this.sendLogMessageToProcessors({id:Yr.WebWorkerAPINotAvailable,message:void 0,context:this.logContext})},e.prototype.logSamplingIntervalAboveMaxSamplingInterval=function(){this.sendLogMessageToProcessors({id:Yr.SamplingIntervalAboveMaxSamplingInterval,message:void 0,context:this.logContext})},e.prototype.logUnableToBootWebWorker=function(){this.sendLogMessageToProcessors({id:Yr.UnableToBootWebWorker,message:void 0,context:this.logContext})},e.prototype.logWorkerInstanceNotFound=function(){this.sendLogMessageToProcessors({id:Yr.WorkerInstanceNotFound,message:void 0,context:this.logContext})},e.prototype.logIdNotFoundInMessageToWorker=function(){this.sendLogMessageToProcessors({id:Yr.IdNotFoundInMessageToWorker,message:void 0,context:this.logContext})},e.prototype.logDataNotFoundInMessageToWorker=function(){this.sendLogMessageToProcessors({id:Yr.DataNotFoundInMessageToWorker,message:void 0,context:this.logContext})},e.prototype.logIdNotFoundInMessageFromWorker=function(){this.sendLogMessageToProcessors({id:Yr.IdNotFoundInMessageFromWorker,message:void 0,context:this.logContext})},e.prototype.logDataNotFoundInMessageFromWorker=function(){this.sendLogMessageToProcessors({id:Yr.DataNotFoundInMessageFromWorker,message:void 0,context:this.logContext})},e.prototype.logIdNotFoundInWorkerLogMessage=function(){this.sendLogMessageToProcessors({id:Yr.IdNotFoundInWorkerLogMessage,message:void 0,context:this.logContext})},e.prototype.logMessageNotFoundInWorkerLogMessage=function(){this.sendLogMessageToProcessors({id:Yr.MessageNotFoundInWorkerLogMessage,message:void 0,context:this.logContext})},e.prototype.logUnknownMessageFromWorker=function(e){this.sendLogMessageToProcessors({id:Yr.UnknownMessageFromWorker,message:void 0,context:this.logContext})},e.prototype.logUnknownLogMessageFromWorker=function(e){this.sendLogMessageToProcessors({id:Yr.UnknownLogMessageFromWorker,message:void 0,context:this.logContext})},e.prototype.logOperation=function(e,r,t,o,n,s,i,a){var l={operationName:e,parentOperationName:r,didOperationSucceed:t,measuredRunTime:o,didOperationFailUnexpectedly:n,logs:s,propertyBag:i,exception:a};this.sendLogMessageToProcessors({id:Yr.Operation,message:l,context:this.logContext})},e.prototype.logFallbackResultReturned=function(){this.sendLogMessageToProcessors({id:Yr.FallbackResultReturned,message:void 0,context:this.logContext})},e.prototype.logUnknownMessageToWorker=function(e){this.sendLogMessageToProcessors({id:Yr.FallbackResultReturned,message:e,context:this.logContext})},e.prototype.logErrorFromWorker=function(e){this.sendLogMessageToProcessors({id:Yr.ErrorFromWorker,message:e,context:this.logContext})},e.prototype.logExceptionEncounteredInWorker=function(e){this.sendLogMessageToProcessors({id:Yr.ExceptionEncounteredInWorker,message:e,context:this.logContext})},e.prototype.logMissingDeObfuscationInfoInTraceProcessingInfo=function(){this.sendLogMessageToProcessors({id:Yr.MissingDeObfuscationInfoInTraceProcessingInfo,message:void 0,context:this.logContext})},e.prototype.logMissingShouldKeepSamplesOutsideOfProfilingIntervalInTraceProcessingInfo=function(){this.sendLogMessageToProcessors({id:Yr.MissingShouldKeepSamplesOutsideOfProfilingIntervalInTraceProcessingInfo,message:void 0,context:this.logContext})},e.prototype.logMissingShouldRecordExpandedTimeStampsInTraceProcessingInfo=function(){this.sendLogMessageToProcessors({id:Yr.MissingShouldRecordExpandedTimeStampsInTraceProcessingInfo,message:void 0,context:this.logContext})},e.prototype.logMissingCallTreeFilteringThresholdInMsInTraceProcessingInfo=function(){this.sendLogMessageToProcessors({id:Yr.MissingCallTreeFilteringThresholdInMs,message:void 0,context:this.logContext})},e.prototype.logInvalidMessageReceivedByWorker=function(){this.sendLogMessageToProcessors({id:Yr.InvalidMessageReceivedByWorker,message:void 0,context:this.logContext})},e.prototype.logInvalidProcessTraceMessageReceivedByWorker=function(){this.sendLogMessageToProcessors({id:Yr.InvalidProcessTraceMessageReceivedByWorker,message:void 0,context:this.logContext})},e.prototype.logMissingTraceInTraceProcessingInfo=function(){this.sendLogMessageToProcessors({id:Yr.InvalidProcessTraceMessageReceivedByWorker,message:void 0,context:this.logContext})},e.prototype.logSerializedCallTreesMissingInProcessorResult=function(){this.sendLogMessageToProcessors({id:Yr.SerializedCallTreesMissingInProcessorResult,message:void 0,context:this.logContext})},e.prototype.logLogsMissingInProcessorResult=function(){this.sendLogMessageToProcessors({id:Yr.LogsMissingInProcessorResult,message:void 0,context:this.logContext})},e.prototype.logUndefinedWebWorkerCompletionCallback=function(){this.sendLogMessageToProcessors({id:Yr.UndefinedWebWorkerCompletionCallback,message:void 0,context:this.logContext})},e.prototype.logLogsMissingInErrorsFromWebWorker=function(){this.sendLogMessageToProcessors({id:Yr.LogsMissingInErrorsFromWebWorker,message:void 0,context:this.logContext})},e.prototype.logUndefinedErrorCallback=function(){this.sendLogMessageToProcessors({id:Yr.UndefinedErrorCallback,message:void 0,context:this.logContext})},e.prototype.logUndefinedTraceProcessingInfoToReturnBack=function(){this.sendLogMessageToProcessors({id:Yr.UndefinedTraceProcessingInfoToReturnBack,message:void 0,context:this.logContext})},e.prototype.logWebWorkerErrorFallingBackToMainEventLoop=function(){this.sendLogMessageToProcessors({id:Yr.WebWorkerErrorFallingBackToMainEventLoop,message:void 0,context:this.logContext})},e.prototype.logWebWorkerAlreadyStarted=function(){this.sendLogMessageToProcessors({id:Yr.WebWorkerAlreadyStarted,message:void 0,context:this.logContext})},e.prototype.logWebWorkerTerminated=function(){this.sendLogMessageToProcessors({id:Yr.WebWorkerTerminated,message:void 0,context:this.logContext})},e.prototype.logCustomPropertiesMissingInTrace=function(){this.sendLogMessageToProcessors({id:Yr.CustomPropertiesMissingInTrace,message:void 0,context:this.logContext})},e.prototype.logProfilerTraceMissingInTrace=function(){this.sendLogMessageToProcessors({id:Yr.ProfilerTraceMissingInTrace,message:void 0,context:this.logContext})},e.prototype.logProfilerTraceStartTimestampMissingInTrace=function(){this.sendLogMessageToProcessors({id:Yr.ProfilerTraceStartTimestampMissingInTrace,message:void 0,context:this.logContext})},e.prototype.logProfilerPropertiesMissingInTrace=function(){this.sendLogMessageToProcessors({id:Yr.ProfilerPropertiesMissingInTrace,message:void 0,context:this.logContext})},e.prototype.logElapsedProfilingTimeMissingInTrace=function(){this.sendLogMessageToProcessors({id:Yr.ElapsedProfilingTimeMissingInTrace,message:void 0,context:this.logContext})},e.prototype.logInvalidProfilerTraceToProcess=function(){this.sendLogMessageToProcessors({id:Yr.InvalidProfilerTraceToProcess,message:void 0,context:this.logContext})},e.prototype.logWebWorkerError=function(e){this.sendLogMessageToProcessors({id:Yr.WebWorkerError,message:e,context:this.logContext})},e.prototype.logWebWorkerErrorCallbackNotRegistered=function(){this.sendLogMessageToProcessors({id:Yr.WebWorkerErrorCallbackNotRegistered,message:void 0,context:this.logContext})},e.prototype.logWebWorkerTraceProcessingInfoMissingToReturnOnError=function(){this.sendLogMessageToProcessors({id:Yr.WebWorkerTraceProcessingInfoMissingToReturnOnError,message:void 0,context:this.logContext})},e.prototype.logProfilerTrace=function(e,r){this.sendLogMessageToProcessors({id:Yr.ProfilerTrace,message:e,context:this.logContext,logOptions:{profilerTraceLoggingChunkSize:r}})},e.prototype.logMissingCallToFilterCallTrees=function(){this.sendLogMessageToProcessors({id:Yr.MissingCallToFilterCallTrees,message:void 0,context:this.logContext})},e.prototype.logMissingCallToFilterFrames=function(){this.sendLogMessageToProcessors({id:Yr.MissingCallToFilterFrames,message:void 0,context:this.logContext})},e.prototype.logNullCallTreeFramesFiltererFilterFramesInvoked=function(){this.sendLogMessageToProcessors({id:Yr.NullCallTreeFramesFiltererFilterFramesInvoked,message:void 0,context:this.logContext})},e.prototype.logNullCallTreeFramesFiltererRetrieveFilteredCallTreeInvoked=function(){this.sendLogMessageToProcessors({id:Yr.NullCallTreeFramesFiltererRetrieveFilteredCallTreeInvoked,message:void 0,context:this.logContext})},e.prototype.logNullCallTreeGetFramesFiltererInvoked=function(){this.sendLogMessageToProcessors({id:Yr.NullCallTreeGetFramesFiltererInvoked,message:void 0,context:this.logContext})},e.prototype.logFilterFrameWithNoParent=function(){this.sendLogMessageToProcessors({id:Yr.FilterFrameWithNoParent,message:void 0,context:this.logContext})},e.prototype.subscribe=function(e){this.logMessageProcessors.push(e)},e.prototype.unsubscribe=function(e){this.logMessageProcessors=this.logMessageProcessors.filter((function(r){return r!==e}))},e.prototype.sendLogMessageToProcessors=function(e){this.logMessageProcessors.forEach((function(r){r.processLogMessage(e)}))},e.prototype.logOperationLogMessageFiltererInitOptions=function(e,r,t){this.sendLogMessageToProcessors({id:Yr.OperationLogMessageFiltererInitOptions,message:{shouldAlwaysLogOperationsData:e,listOfOperationNamesToAlwaysLog:r,operationMeasuredRunTimeFilteringThresholdInMs:t},context:this.logContext})},e.prototype.logNullOrUndefinedProfilerEvent=function(){this.sendLogMessageToProcessors({id:Yr.NullOrUndefinedProfilerEvent,message:void 0,context:this.logContext})},e.prototype.logUnknownProfilerEventId=function(e){this.sendLogMessageToProcessors({id:Yr.UnknownProfilerEventId,message:e,context:this.logContext})},e.prototype.logNullOrUndefinedProfilerTrace=function(){this.sendLogMessageToProcessors({id:Yr.NullOrUndefinedProfilerTrace,message:void 0,context:this.logContext})},e.prototype.logOperationLogMessageFilteringCriteriaMissingInTrace=function(){this.sendLogMessageToProcessors({id:Yr.OperationLogMessageFilteringCriteriaMissingInTrace,message:void 0,context:this.logContext})},e.prototype.logNullOrUndefinedProfilerObserverPassedInForSubscribe=function(){this.sendLogMessageToProcessors({id:Yr.NullOrUndefinedProfilerObserverPassedInForSubscribe,message:void 0,context:this.logContext})},e.prototype.logNullOrUndefinedProfilerEventIds=function(){this.sendLogMessageToProcessors({id:Yr.NullOrUndefinedProfilerEventIds,message:void 0,context:this.logContext})},e.prototype.logUnexpectedUndefinedProfilerEventIds=function(){this.sendLogMessageToProcessors({id:Yr.UnexpectedUndefinedProfilerEventIds,message:void 0,context:this.logContext})},e.prototype.logNullOrUndefinedProfilerObserverPassedInForUnsubscribe=function(){this.sendLogMessageToProcessors({id:Yr.NullOrUndefinedProfilerObserverPassedInForUnsubscribe,message:void 0,context:this.logContext})},e.prototype.logNullOrUndefinedProfilerEventToUnsubscribe=function(){this.sendLogMessageToProcessors({id:Yr.NullOrUndefinedProfilerEventToUnsubscribe,message:void 0,context:this.logContext})},e.prototype.logProfilerObserverWasNeverSubscribed=function(){this.sendLogMessageToProcessors({id:Yr.ProfilerObserverWasNeverSubscribed,message:void 0,context:this.logContext})},e.prototype.logUnexpectedNullOrUndefinedSubscribedProfilerEventIds=function(){this.sendLogMessageToProcessors({id:Yr.UnexpectedNullOrUndefinedSubscribedProfilerEventIds,message:void 0,context:this.logContext})},e.prototype.logProfilerObserverNeverSubscribedForProfilerEventId=function(e){this.sendLogMessageToProcessors({id:Yr.ProfilerObserverNeverSubscribedForProfilerEventId,message:e,context:this.logContext})},e.prototype.logCallTreeCustomPropertiesRetrieversMissingInTrace=function(){this.sendLogMessageToProcessors({id:Yr.CallTreeCustomPropertiesRetrieversMissingInTrace,message:void 0,context:this.logContext})},e.prototype.logNullOrUndefinedItemToSubscribe=function(e){this.sendLogMessageToProcessors({id:Yr.NullOrUndefinedItemToSubscribe,message:e,context:this.logContext})},e.prototype.logNullOrUndefinedItemForUnsubscribe=function(e){this.sendLogMessageToProcessors({id:Yr.NullOrUndefinedItemForUnsubscribe,message:e,context:this.logContext})},e.prototype.logItemWasNeverSubscribed=function(e){this.sendLogMessageToProcessors({id:Yr.ItemWasNeverSubscribed,message:e,context:this.logContext})},e.prototype.logNumberOfCallTreesFiltererByCustomFilterers=function(e,r){this.sendLogMessageToProcessors({id:Yr.NumberOfCallTreesFiltererByCustomFilterers,message:{filteredCount:e,totalCount:r},context:this.logContext})},e.prototype.logProcessTraceParamsIsNullOrUndefined=function(){this.sendLogMessageToProcessors({id:Yr.ProcessTraceParamsIsNullOrUndefined,message:void 0,context:this.logContext})},e.prototype.logCurrentTraceBeingProcessedNullOrUndefined=function(){this.sendLogMessageToProcessors({id:Yr.ProcessTraceParamsIsNullOrUndefined,message:void 0,context:this.logContext})},e.prototype.logTraceIdMissingInTrace=function(){this.sendLogMessageToProcessors({id:Yr.TraceIdMissingInTrace,message:void 0,context:this.logContext})},e.prototype.logUndefinedStoredProfilerTraceProcessingWorker=function(){this.sendLogMessageToProcessors({id:Yr.UndefinedStoredProfilerTraceProcessingWorker,message:void 0,context:this.logContext})},e.prototype.logNullCallTreeGetReconstructableTreeIteratorInvoked=function(){this.sendLogMessageToProcessors({id:Yr.NullCallTreeGetReconstructableTreeIteratorInvoked,message:void 0,context:this.logContext})},e.prototype.logGetCustomPropertiesCalledOnNullJSCPUProfilerTrace=function(){this.sendLogMessageToProcessors({id:Yr.GetCustomPropertiesCalledOnNullJSCPUProfilerTrace,message:void 0,context:this.logContext})},e.prototype.logGetResourcesCalledOnNullJSCPUProfilerTrace=function(){this.sendLogMessageToProcessors({id:Yr.GetResourcesCalledOnNullJSCPUProfilerTrace,message:void 0,context:this.logContext})},e.prototype.logGetFramesCalledOnNullJSCPUProfilerTrace=function(){this.sendLogMessageToProcessors({id:Yr.GetFramesCalledOnNullJSCPUProfilerTrace,message:void 0,context:this.logContext})},e.prototype.logGetStacksCalledOnNullJSCPUProfilerTrace=function(){this.sendLogMessageToProcessors({id:Yr.GetStacksCalledOnNullJSCPUProfilerTrace,message:void 0,context:this.logContext})},e.prototype.logGetSamplesCalledOnNullJSCPUProfilerTrace=function(){this.sendLogMessageToProcessors({id:Yr.GetSamplesCalledOnNullJSCPUProfilerTrace,message:void 0,context:this.logContext})},e.prototype.logGetProfilerTraceStartTimestampCalledOnNullJSCPUProfilerTrace=function(){this.sendLogMessageToProcessors({id:Yr.GetProfilerTraceStartTimestampCalledOnNullJSCPUProfilerTrace,message:void 0,context:this.logContext})},e.prototype.logGetProfilerPropertiesCalledOnNullJSCPUProfilerTrace=function(){this.sendLogMessageToProcessors({id:Yr.GetProfilerPropertiesCalledOnNullJSCPUProfilerTrace,message:void 0,context:this.logContext})},e.prototype.logGetElapsedProfilingTimeInMsCalledOnNullJSCPUProfilerTrace=function(){this.sendLogMessageToProcessors({id:Yr.GetElapsedProfilingTimeInMsCalledOnNullJSCPUProfilerTrace,message:void 0,context:this.logContext})},e.prototype.logRemoveQueryParamsFromResourceURLsNeverCalled=function(){this.sendLogMessageToProcessors({id:Yr.RemoveQueryParamsFromResourceURLsNeverCalled,message:void 0,context:this.logContext})},e}();!function(e){e[e.MainEventLoop=0]="MainEventLoop",e[e.Worker=1]="Worker"}(ct||(ct={}));var dt=function(){function e(e,r,t,o){this.shouldAlwaysLogOperationsData=e,this.listOfOperationNamesToAlwaysLog=r,this.operationMeasuredRunTimeFilteringThresholdInMs=t,this.logger=o,this.logger.logOperationLogMessageFiltererInitOptions(e,r,t)}return e.prototype.getFiltererName=function(){return"OperationLogMessageFilterer"},e.prototype.shouldFilterLogMessage=function(e){if(e.id!==Yr.Operation)return!1;if(this.shouldAlwaysLogOperationsData)return!1;var r=e.message;return!(r.didOperationFailUnexpectedly||-1!==this.listOfOperationNamesToAlwaysLog.indexOf(r.operationName)||r.measuredRunTime>this.operationMeasuredRunTimeFilteringThresholdInMs)},e}();function gt(e,r){void 0===r&&(r=30);for(var t=[],o=0;o<e.length;o+=r)t.push(e.slice(o,o+r));return t}var pt=function(){function e(e){this.shouldTransportLogs=e}return e.prototype.getTransporterName=function(){return"ULSLogMessageTransporter"},e.prototype.transportLogMessage=function(e){var r;if(this.shouldTransportLogs){var n="";switch(e.context){case ct.MainEventLoop:n="ProfilingSessionLogger-MainEventLoop";break;case ct.Worker:n="ProfilingSessionLogger-Worker"}switch(e.id){case Yr.MissingProfilerImplementation:c.sendTraceTag(543477840,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Factory doesn't know how to create profiler of type ").concat(e.message));break;case Yr.FailingValidationsInProfilerFactory:c.sendTraceTag(543477841,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": Validations failed while creating the profiler"));break;case Yr.WindowMissingInJSEnvironment:c.sendTraceTag(543477842,t.msoulscat_Wac_Telemetry,o.Warning,"".concat(n,": Unable to find window in the JS environment"));break;case Yr.WindowPropertyNameChecked:c.sendTraceTag(543477843,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": ").concat(e.message));break;case Yr.UserAgentToParseChromiumMajorVersionNumber:c.sendTraceTag(543477844,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": ").concat(e.message));break;case Yr.ChromeNotPresentInUserAgent:c.sendTraceTag(543477845,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Chrome was not found in the user agent"));break;case Yr.UnableToIsolateChromeInformationFromUserAgent:c.sendTraceTag(543477846,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Unable to isolate chrome information from the user agent"));break;case Yr.UnableToExtractChromeVersionInformation:c.sendTraceTag(543477847,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Unable to extract chrome version information from the user agent"));break;case Yr.UnableToParseChromeMajorVersionString:c.sendTraceTag(543477848,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Unable to parse the chromium major version number"));break;case Yr.ParsedChromiumMajorVersionNumber:c.sendTraceTag(543477849,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": ").concat(e.message.toString()));break;case Yr.UserAgentToCheckForChromiumBrowser:c.sendTraceTag(543477850,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": ").concat(e.message));break;case Yr.EmptyUserAgentString:c.sendTraceTag(543477851,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Empty user agent string"));break;case Yr.BrowserUserAgentNotChromiumBased:c.sendTraceTag(543477852,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": Browser not chromium based"));break;case Yr.UserAgentSpoofedToBeChromium:c.sendTraceTag(543477853,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": Browser user agent spoofed to be chromium based"));break;case Yr.BrowserNotChromiumBasedBrowser:c.sendTraceTag(543477854,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": Browser user agent spoofed to be chromium based"));break;case Yr.UnsupportedChromiumMajorVersionNumber:c.sendTraceTag(543477855,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": Unsupported chromium major version number"));break;case Yr.ProfilerInitOptionsNullOrUndefined:c.sendTraceTag(543477856,t.msoulscat_Wac_Telemetry,o.Info,"ProfilerInitOptions cannot be null or undefined");break;case Yr.SamplingIntervalIsLessThanOrEqualToZero:c.sendTraceTag(543477857,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": Sampling interval must be greater than zero"));break;case Yr.SamplingIntervalLessThanMinimumSupportedSamplingInterval:c.sendTraceTag(543477858,t.msoulscat_Wac_Telemetry,o.Warning,"".concat(n,": Sampling interval ").concat(e.message.samplingInterval," is less than minimum supported sampling interval ").concat(e.message.minimumSupportedSamplingInterval,". API might perform scaling"));break;case Yr.UnsupportedBrowser:c.sendTraceTag(543477859,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": Profiling is not supported in this browser"));break;case Yr.UnsupportedOperatingSystem:c.sendTraceTag(543477888,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": Profiling is not supported in this operating system"));break;case Yr.JSSelfProfilingAPIUnavailable:c.sendTraceTag(543477889,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": JSSelfProfiling is not available"));break;case Yr.RetrievedUserAgent:c.sendTraceTag(543477890,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": ").concat(e.message));break;case Yr.NullJSCPUProfilerStartCalled:c.sendTraceTag(543477891,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": NullJSCPUProfiler start called"));break;case Yr.NullJSCPUProfilerStopCalled:c.sendTraceTag(543477892,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": NullJSCPUProfiler stop called"));break;case Yr.NullOrUndefinedProfilerInitOptions:c.sendTraceTag(543477893,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": ProfilerInitOptions is null or undefined"));break;case Yr.MaxBufferSizeFixedToDefaultSize:c.sendTraceTag(543477894,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": Max buffer size was fixed to the default max size"));break;case Yr.MaxBufferSizeWasNotFixedBeforeRetrieval:c.sendTraceTag(543477895,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Retrieve was called before fix max buffer size was called. The returned options can be undefined"));break;case Yr.ProfilerNotPresentInJSEnvironment:c.sendTraceTag(543477896,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": Profiler is not present in the JS environment indicating JSSelfProfiling API is not available"));break;case Yr.SamplingIntervalValidationCheckFailed:c.sendTraceTag(543477897,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": Sampling interval validation check failed"));break;case Yr.MaxBufferValidationFailed:c.sendTraceTag(543477898,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": Max buffer size validation failed"));break;case Yr.MaxBufferSizeNotSpecified:c.sendTraceTag(543477899,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": Max buffer size is not specified"));break;case Yr.MaxBufferSizeLessThanOrEqualToZero:c.sendTraceTag(543477900,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": Max buffer size is less than or equal to zero"));break;case Yr.ManualProfilerValidationFailed:c.sendTraceTag(543477901,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": Timed profiler initialization options failed to pass manual profiler initialization options"));break;case Yr.ProfilingIntervalValidationFailed:c.sendTraceTag(543477902,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": Profiling interval validation failed"));break;case Yr.ProfilingIntervalNullOrUndefined:c.sendTraceTag(543477903,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": Profiling interval is null or undefined"));break;case Yr.ProfilingIntervalLessThanOrEqualToZero:c.sendTraceTag(543477904,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": Profiling interval is less than or equal to zero"));break;case Yr.ProfilingIntervalLessThanSamplingInterval:c.sendTraceTag(543477905,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": Profiling interval is less than sampling interval"));break;case Yr.TimedProfilerValidationFailed:c.sendTraceTag(543477906,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": Continuous profiler init options failed to pass timed profiler initialization options"));break;case Yr.IdleIntervalValidationFailed:c.sendTraceTag(543477907,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": Idle interval validation failed for continuous profiler"));break;case Yr.IdleIntervalIsNullOrUndefined:c.sendTraceTag(543477908,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": Idle interval is a required argument for continuous profiler"));break;case Yr.IdleIntervalIsLessThanOrEqualToZero:c.sendTraceTag(543477909,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": Idle interval must be greater than zero"));break;case Yr.PostProfilerStartCallbackSpecified:c.sendTraceTag(543477910,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": A post profiler start callback is specified"));break;case Yr.PreProfilerStartCheckFailed:c.sendTraceTag(543477911,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": One or more pre-profiler start checks failed"));break;case Yr.MaxBufferSizeNotFixed:c.sendTraceTag(543477912,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Max buffer size must be fixed before we get to this point. Is the profiler being created outside the factory?"));break;case Yr.BailingOutOnNullProfiler:c.sendTraceTag(539109121,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Null profiler was created due to some error, bailing out from profiling loop"));break;case Yr.NotProcessingCapturedTraceDueToUserBeingIdle:c.sendTraceTag(537706779,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": No browser events were detected between profiler start and profiler end. data will not be proccessed since user was idle"));break;case Yr.ProfilerAlreadyStarted:c.sendTraceTag(543477913,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Attempting to start the profiler even though the profiler is already started. Stop the profiler first and attempt a restart"));break;case Yr.ProfilerStartSucceeded:c.sendTraceTag(543477914,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": start the profiler successfully"));break;case Yr.InvokingPostProfilerStartCallback:c.sendTraceTag(543477915,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": Invoking the post profiler start callback"));break;case Yr.PostProfilerStopCallbackSpecified:c.sendTraceTag(543477916,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": A callback for post profiler stop is specified"));break;case Yr.ProfilerInstanceIsUndefined:c.sendTraceTag(543477917,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": Profiler instance is undefined. Is the profiler is being stopped without ever starting?"));break;case Yr.ProfilerStopPromiseResolved:c.sendTraceTag(543477918,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": Profiler stop promise has been resolved successfully"));break;case Yr.ProfilerStopPromiseRejected:c.sendTraceTag(543477919,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": ").concat(JSON.stringify({promiseRejectionReason:e.message})));break;case Yr.PostProfilerStopCallbackInvoked:c.sendTraceTag(543477920,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": Post profiler stop callback is being invoked"));break;case Yr.PostTimedStartProfilerStartCallbackInvoked:c.sendTraceTag(543477921,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": Post timed profiler start callback invoked"));break;case Yr.ProfilingIntervalIsUndefined:c.sendTraceTag(543477922,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Profiling interval is expected to be defined for timed profiler"));break;case Yr.TimerJobToStopProfilerSet:c.sendTraceTag(543477923,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": A timer job to stop the profiler is created"));break;case Yr.TimedProfilerStopCallbackInvoked:c.sendTraceTag(543477952,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": Timed profiler is being stopped automatically"));break;case Yr.TimedProfilerIsBeingStoppedManually:c.sendTraceTag(543477953,t.msoulscat_Wac_Telemetry,o.Warning,"".concat(n,": Timed profiler is being stopped manually"));break;case Yr.ProfilerStartPromiseCreated:c.sendTraceTag(543477954,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": Profiler start promise has been created"));break;case Yr.ProfilerStopGoingToBeInvoked:c.sendTraceTag(543477955,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": A call to stop profiler is going to be invoked"));break;case Yr.SamplingIntervalUsedForStartingProfiler:c.sendTraceTag(543477956,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": ").concat(e.message.toString()));break;case Yr.MaxBufferSize:c.sendTraceTag(543477957,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": ").concat(e.message.toString()));break;case Yr.NoProfilerInstanceBuilt:c.sendTraceTag(543477958,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": No instance of a profiler was built. Missing implementation?"));break;case Yr.ProfilerInitOptionsValidationFailed:c.sendTraceTag(543477959,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": ProfilerInitOptions validation failed"));break;case Yr.UnableToFixUpProfilerInitOptions:c.sendTraceTag(543477960,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Unable to fixup profilerInitOptions"));break;case Yr.ProfilingIsNotEnabled:c.sendTraceTag(543477961,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": Profiling feature is not enabled"));break;case Yr.ProfilingIsNotSupportedEnvironment:c.sendTraceTag(543477962,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": Profiling is not supported in the environment"));break;case Yr.FeatureCheckerIsNullOrUndefined:c.sendTraceTag(543477963,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": Feature checker is null or undefined"));break;case Yr.NullSupportedEnvironmentCheckerInvoked:c.sendTraceTag(543477964,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": NullSupportedEnvironmentChecker was invoked"));break;case Yr.NullJSCPUProfilerInitOptionsValidatorInvoked:c.sendTraceTag(543477965,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": NullJSCPUProfilerInitOptionsValidator was invoked"));break;case Yr.NullJSCPUProfilerFactoryInvoked:c.sendTraceTag(543477966,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": NullJSCPUProfilerFactory createProfiler was invoked"));break;case Yr.NullOrUndefinedIdleInterval:c.sendTraceTag(543477967,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": idleIntervalInMs is null or undefined. So killing the timer job"));break;case Yr.CreateProfilerDidNotSubscribeProfilerObserver:c.sendTraceTag(543477969,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": A profiler observer was never subscribed to the created profiler"));break;case Yr.NullOrUndefinedCustomPropertiesRetriever:c.sendTraceTag(543477972,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Custom Properties retriever is null or undefined"));break;case Yr.NullOrUndefinedCustomProperties:c.sendTraceTag(543477973,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Custom Properties is null or undefined"));break;case Yr.CustomPropertyKeyIsNull:c.sendTraceTag(543477974,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": A custom property key is null"));break;case Yr.CustomPropertyValueIsNull:c.sendTraceTag(543477975,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": A custom property value is null"));break;case Yr.RetrieveCallTreesCalledBeforeTransform:c.sendTraceTag(543477976,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Transform should be called before retrieveCallTrees"));break;case Yr.RetrieveBuiltCallTreesBeforeBuildCallTrees:c.sendTraceTag(543477977,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": BuildCallTrees should be called before retrieveBuiltCallTrees"));break;case Yr.RetrieveStacksCalledBeforeBuildStacks:c.sendTraceTag(543477978,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": BuildStacks should be called before retrieveStacks"));break;case Yr.ExecutionStacksNeverBuilt:c.sendTraceTag(543477979,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Execution stacks were not built. Instead an empty array of stacks will be returned"));break;case Yr.PeekOnNullExecutionStackInvoked:c.sendTraceTag(543477980,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Peek was invoked on Null ExecutionStack"));break;case Yr.PopOnNullExecutionStackInvoked:c.sendTraceTag(543477981,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Pop was invoked on Null ExecutionStack"));break;case Yr.EmptyStacks:c.sendTraceTag(543477982,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Stacks array is empty. No further processing can be performed."));break;case Yr.EmptyFrames:c.sendTraceTag(543477983,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Frames array is empty. No further processing can be performed."));break;case Yr.ForciblyExitingLoopWhileBuildingStack:c.sendTraceTag(543477984,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": While loop is being forcibly exited because of a runaway while loop "));break;case Yr.RetrieveStackCalledBeforeBuildStack:c.sendTraceTag(543477985,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": BuildStack should be called before RetrieveStack"));break;case Yr.ExecutionStackNeverBuilt:c.sendTraceTag(543477986,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Built execution stack is undefined. So null execution stack will be returned"));break;case Yr.ConvertStacksToCallTreesNeverCalled:c.sendTraceTag(543477987,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Convert stacks to call trees was not called before retrieve call trees. Empty call trees will be returned"));break;case Yr.ConvertStackToCallTreeNeverCalled:c.sendTraceTag(543478016,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Convert stack to call tree was not called before retrieve call tree. Null call tree will be returned"));break;case Yr.NullFrameNodeCreated:c.sendTraceTag(543478017,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": NullFrameNode created"));break;case Yr.InvalidSampleIndex:c.sendTraceTag(543478018,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": sampleIndex needs to be greater than zero for proper indexing"));break;case Yr.InvalidFrameNodeStartTime:c.sendTraceTag(543478019,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Invalid frame node starting time"));break;case Yr.InvalidFrameNodeExecutionTime:c.sendTraceTag(543478020,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Invalid frame node execution time"));break;case Yr.InvalidNewFrameNodeExecutionTime:c.sendTraceTag(543478021,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Invalid new frame node execution time"));break;case Yr.NegativeSubTreeExecutionTime:c.sendTraceTag(543478022,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Negative sub tree execution time"));break;case Yr.FixerForProfilerType:c.sendTraceTag(543478023,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": ").concat(e.message.toString()));break;case Yr.MissingProfilerInitOptionsFixerImplementation:c.sendTraceTag(543478024,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": Missing profiler init options fixer for unknown profiler type"));break;case Yr.LoopBackFixerFixProfilerInitOptionsInvoked:c.sendTraceTag(543478025,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": LoopBackFixer fixProfilerInitOptions was invoked"));break;case Yr.LoopBackFixerRetrieveFixedProfilerInitOptionsInvoked:c.sendTraceTag(543478026,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": LoopBackFixer retrieveFixedProfilerInitOptions was invoked"));break;case Yr.MissingDeObfuscationEndpoint:c.sendTraceTag(543478027,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Null or undefined deObfuscation endpoint was provided"));break;case Yr.NotProcessingCapturedTraceDueToDocumentBeingHiddenDuringProfiling:c.sendTraceTag(543478028,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": The profile was captured in a hidden document. So, we are not processing it"));break;case Yr.NullCallTreeDepthFirstIteratorInvoked:c.sendTraceTag(543478029,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Null getDepthFirstIterator was invoked"));break;case Yr.EmptySamplesArrayPassedToFilter:c.sendTraceTag(543478030,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": In order to properly filter out samples we need at least one sample"));break;case Yr.NullCallTreeLeftMostNodesIteratorInvoked:c.sendTraceTag(543478031,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Null iterator was returned back to iterate over left most nodes"));break;case Yr.NullCallTreeRightMostNodesIteratorInvoked:c.sendTraceTag(543478032,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Null iterator was returned back to iterate over right most nodes"));break;case Yr.MissingIsProfilingEnabledOnFeatureChecker:c.sendTraceTag(543478033,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": isProfilingEnabled is missing in FeatureChecker"));break;case Yr.FeatureCheckerIsProfilingEnabledNotAFunction:c.sendTraceTag(543478034,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": isProfilingEnabled on FeatureChecker is not a function"));break;case Yr.NullCallTreeGetTotalExecutionTimeInvoked:c.sendTraceTag(543478035,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": NullCallTree getTotalExecutionTimeInMs was invoked"));break;case Yr.NullCallTreeGetCustomPropertiesInvoked:c.sendTraceTag(543478036,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": NullCallTree getCustomProperties was invoked"));break;case Yr.SerializedCallTrees:c.sendTraceTag(543478037,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": ").concat(e.message));break;case Yr.NullCallTreeIteratorImplGetNextInvoked:c.sendTraceTag(543478038,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": NullCallTreeIterator getNext was invoked"));break;case Yr.NullCallTreeIteratorImplHasMoreInvoked:c.sendTraceTag(543478039,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": NullCallTreeIterator hasMore was invoked"));break;case Yr.MissingProfilerNameForProfilerType:c.sendTraceTag(543478040,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Missing profiler name for profiler type ").concat(e.message));break;case Yr.ExpectedOnlyOneNodePerLevelInCallTree:c.sendTraceTag(543478041,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Expected to see only one node per level in the call tree"));break;case Yr.MissingWebWorkerSourceURL:c.sendTraceTag(543478042,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": In order to use the web worker to process the profile, a source URL needs to be passed into the worker. But the URL was not provided"));break;case Yr.MaxNumberOfProfilersAlreadyCreated:c.sendTraceTag(543478043,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Max number of profilers have already been created. Cannot create anymore"));break;case Yr.SamplingIntervalAboveMaxSamplingInterval:c.sendTraceTag(543478044,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": The sampling interval is above the maximum allowed sampling interval"));break;case Yr.WebWorkerAPINotAvailable:c.sendTraceTag(543478045,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Web Worker API is not available. We will fallback to processing traces on the main event loop"));break;case Yr.UnableToBootWebWorker:c.sendTraceTag(543478046,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Attempted to start the web worker. But it failed for some reason"));break;case Yr.WorkerInstanceNotFound:c.sendTraceTag(543478047,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Web worker instance was not found. Cannot perform any action"));break;case Yr.IdNotFoundInMessageToWorker:c.sendTraceTag(543478048,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Id was not found in the message sent to the worker"));break;case Yr.DataNotFoundInMessageToWorker:c.sendTraceTag(543478049,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Data was not found in the message sent to the worker"));break;case Yr.IdNotFoundInMessageFromWorker:c.sendTraceTag(543478050,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Id was not found in the message sent from the worker"));break;case Yr.DataNotFoundInMessageFromWorker:c.sendTraceTag(543478051,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Data was not found in the message sent from the worker"));break;case Yr.UnknownMessageFromWorker:c.sendTraceTag(543478080,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Unknown message with message id - ").concat(e.message," sent from the worker"));break;case Yr.ErrorFromWorker:c.sendTraceTag(540844827,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Error - ").concat(e.message," sent from the worker"));break;case Yr.IdNotFoundInWorkerLogMessage:c.sendTraceTag(543478081,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Id is not present in the log message from the worker"));break;case Yr.MessageNotFoundInWorkerLogMessage:c.sendTraceTag(543478082,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": message is not present in the log message from the worker"));break;case Yr.UnknownLogMessageFromWorker:c.sendTraceTag(543478083,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Unknown log message id - ").concat(e.message," sent as part of the worker log message"));break;case Yr.Operation:c.sendTraceTag(543478084,t.msoulscat_Wac_Telemetry,e.message.didOperationFailUnexpectedly?o.Error:o.Info,"".concat(n,": ").concat(JSON.stringify({operationName:e.message.operationName,parentOperationName:e.message.parentOperationName,didOperationSucceed:e.message.didOperationSucceed,measuredRunTime:e.message.measuredRunTime,logs:e.message.logs,properties:e.message.propertyBag?Array.from(e.message.propertyBag):e.message.propertyBag,exception:e.message.exception})));break;case Yr.FallbackResultReturned:c.sendTraceTag(543478085,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Exception encountered. So, fallback result is being returned back"));break;case Yr.UnknownMessageToWorker:c.sendTraceTag(543478086,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Unknown worker messageId ").concat(e.message," encountered"));break;case Yr.ExceptionEncounteredInWorker:c.sendTraceTag(543478087,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": ").concat(JSON.stringify(e.message)));break;case Yr.MissingDeObfuscationInfoInTraceProcessingInfo:c.sendTraceTag(543478088,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Missing deObfuscationInfo in trace processing information"));break;case Yr.MissingShouldKeepSamplesOutsideOfProfilingIntervalInTraceProcessingInfo:c.sendTraceTag(543478089,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Missing shouldKeepSamplesOutsideOfProfilingInterval in trace processing information"));break;case Yr.MissingShouldRecordExpandedTimeStampsInTraceProcessingInfo:c.sendTraceTag(543478090,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Missing shouldRecordExpandedTimeStamps in trace processing information"));break;case Yr.MissingCallTreeFilteringThresholdInMsInTraceProcessingInfo:c.sendTraceTag(543478091,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Missing callTreeFilteringThresholdInMs in trace processing information"));break;case Yr.InvalidMessageReceivedByWorker:c.sendTraceTag(543478092,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Invalid message received by the worker. Returning without any processing"));break;case Yr.InvalidProcessTraceMessageReceivedByWorker:c.sendTraceTag(543478093,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Invalid process trace message received by the worker. Returning without any processing"));break;case Yr.MissingTraceInTraceProcessingInfo:c.sendTraceTag(543478094,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Missing trace in trace processing information"));break;case Yr.SerializedCallTreesMissingInProcessorResult:c.sendTraceTag(543478095,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": serializedCallTrees is missing in the processor result"));break;case Yr.LogsMissingInProcessorResult:c.sendTraceTag(543478096,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": logs is missing in the processor result"));break;case Yr.UndefinedWebWorkerCompletionCallback:c.sendTraceTag(543478097,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Undefined completion callback for the processor result. The results will be ignored"));break;case Yr.LogsMissingInErrorsFromWebWorker:c.sendTraceTag(543478098,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Worker raised an error. But no logs can be found in the message that the worker sent over. This should not happen"));break;case Yr.UndefinedErrorCallback:c.sendTraceTag(543478099,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Worker raised an error. But the main thread has not provided a callback function to notify on error. So, ignoring the error"));break;case Yr.UndefinedTraceProcessingInfoToReturnBack:c.sendTraceTag(543478100,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": The worker ran into an error. But no trace processing info was found to return back to the caller"));break;case Yr.WebWorkerAlreadyStarted:c.sendTraceTag(543478101,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": Attempting to start a web worker that has already been started"));break;case Yr.WebWorkerTerminated:c.sendTraceTag(540844828,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": Web worker got terminated"));break;case Yr.WebWorkerErrorFallingBackToMainEventLoop:c.sendTraceTag(543478102,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Error encountered in the web worker. So falling back to processing the trace in the main event loop"));break;case Yr.CustomPropertiesMissingInTrace:c.sendTraceTag(543478103,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": CustomProperties was not found in the trace"));break;case Yr.ProfilerTraceMissingInTrace:c.sendTraceTag(543478104,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": ProfilerTrace was not found in the trace"));break;case Yr.ProfilerTraceStartTimestampMissingInTrace:c.sendTraceTag(543478105,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": ProfilerTraceStartTimestamp was not found in the trace"));break;case Yr.ProfilerPropertiesMissingInTrace:c.sendTraceTag(543478106,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": ProfilerProperties was not found in the trace"));break;case Yr.ElapsedProfilingTimeMissingInTrace:c.sendTraceTag(543478107,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": ElapsedProfilingTime was not found in the trace"));break;case Yr.InvalidProfilerTraceToProcess:c.sendTraceTag(543478108,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Invalid profiler trace to process. Returning back without processing"));break;case Yr.WebWorkerError:c.sendTraceTag(543478109,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": ").concat(e.message));break;case Yr.WebWorkerErrorCallbackNotRegistered:c.sendTraceTag(543478110,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": No error callback has been registered for the web worker. So ignoring the error message"));break;case Yr.WebWorkerTraceProcessingInfoMissingToReturnOnError:c.sendTraceTag(543478111,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": In order to reprocess the trace in the main event loop, trace processing info is required. But did not find any"));break;case Yr.ProfilerTrace:for(var s=(null===(r=e.logOptions)||void 0===r?void 0:r.profilerTraceLoggingChunkSize)||30,i=0,a=0,l=gt(e.message.getResources(),s);a<l.length;a++){var u=l[a];c.sendTraceTag(543478112,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": [chunk ").concat(i,"] ").concat(JSON.stringify({profilerTraceStartTimestamp:e.message.getProfilerTraceStartTimestamp(),resources:u}))),i++}i=0;for(var d=0,g=gt(e.message.getFrames(),s);d<g.length;d++){var p=g[d];c.sendTraceTag(539784207,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": [chunk ").concat(i,"] ").concat(JSON.stringify({profilerTraceStartTimestamp:e.message.getProfilerTraceStartTimestamp(),frames:p}))),i++}i=0;for(var f=0,m=gt(e.message.getStacks(),s);f<m.length;f++){var T=m[f];c.sendTraceTag(539784208,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": [chunk ").concat(i,"] ").concat(JSON.stringify({profilerTraceStartTimestamp:e.message.getProfilerTraceStartTimestamp(),stacks:T}))),i++}i=0;for(var h=0,P=gt(e.message.getSamplesTrimmed(),s);h<P.length;h++){var v=P[h];c.sendTraceTag(539784209,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": [chunk ").concat(i,"] ").concat(JSON.stringify({profilerTraceStartTimestamp:e.message.getProfilerTraceStartTimestamp(),samples:v}))),i++}break;case Yr.MissingCallToFilterCallTrees:c.sendTraceTag(543478113,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Missing a call to filterCallTrees. Returning an empty array back"));break;case Yr.MissingCallToFilterFrames:c.sendTraceTag(543478114,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Missing a call to filterFrames. Returning NullCallTree back"));break;case Yr.NullCallTreeFramesFiltererFilterFramesInvoked:c.sendTraceTag(543478115,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": filterFrames invoked on NullCallTreeFilterFrames"));break;case Yr.NullCallTreeFramesFiltererRetrieveFilteredCallTreeInvoked:c.sendTraceTag(543478144,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": retrieveFilteredCallTree invoked on NullCallTreeFilterFrames"));break;case Yr.NullCallTreeGetFramesFiltererInvoked:c.sendTraceTag(543478145,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": getFramesFilterer invoked on NullCallTree"));break;case Yr.FilterFrameWithNoParent:c.sendTraceTag(543478146,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": CallTreeFramesFiltererImpl tries to filter node with no parent"));break;case Yr.OperationLogMessageFiltererInitOptions:c.sendTraceTag(542389340,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": ").concat(JSON.stringify(e.message)));break;case Yr.NoCallTreesToSend:c.sendTraceTag(542229786,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": No call trees to send to server"));break;case Yr.NullOrUndefinedProfilerEvent:c.sendTraceTag(540624656,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Null or undefined profiler event sent to the profiler observer"));break;case Yr.UnknownProfilerEventId:c.sendTraceTag(540624657,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Unknown profiler event ID ").concat(e.message," sent to the profiler observer. Are you missing a case statement?"));break;case Yr.NullOrUndefinedProfilerTrace:c.sendTraceTag(540624658,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Null or undefined profiler trace sent to the observer. This message will be ignored"));break;case Yr.OperationLogMessageFilteringCriteriaMissingInTrace:c.sendTraceTag(540612253,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": OperationLogMessageFilteringCriteria is missing in trace"));break;case Yr.NullOrUndefinedProfilerObserverPassedInForSubscribe:c.sendTraceTag(540545986,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Null or undefined profiler observer passed in for subscribe"));break;case Yr.NullOrUndefinedProfilerEventIds:c.sendTraceTag(540545987,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Null or undefined profiler event ids"));break;case Yr.UnexpectedUndefinedProfilerEventIds:c.sendTraceTag(540545988,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Unexpected undefined profiler event ids"));break;case Yr.NullOrUndefinedProfilerObserverPassedInForUnsubscribe:c.sendTraceTag(540393807,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Null or undefined profiler observer passed in for unsubscribe"));break;case Yr.NullOrUndefinedProfilerEventToUnsubscribe:c.sendTraceTag(540393808,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Null or undefined profiler event id passed for unsubscribe"));break;case Yr.ProfilerObserverWasNeverSubscribed:c.sendTraceTag(540393809,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Profiler observer does not have any subscriptions"));break;case Yr.UnexpectedNullOrUndefinedSubscribedProfilerEventIds:c.sendTraceTag(540393810,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Expected to receive a set of subscribed profiler event IDs. But unexpectedly received null/undefined"));break;case Yr.ProfilerObserverNeverSubscribedForProfilerEventId:c.sendTraceTag(540393811,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Profiler observer never subscribed for the event ").concat(e.message," that it is requesting to unsubscribe from"));break;case Yr.NullOrUndefinedItemToSubscribe:c.sendTraceTag(509374879,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": null or undefined item tried to subscribe to an instance of profiler. type: ").concat(e.message));break;case Yr.NullOrUndefinedItemForUnsubscribe:c.sendTraceTag(509374878,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": null or undefined item tried to unsubscribe from an instance of profiler. type: ").concat(e.message));break;case Yr.ItemWasNeverSubscribed:c.sendTraceTag(509374877,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": trying to unsubscribe while item was never subscribed. type: ").concat(e.message));break;case Yr.NumberOfCallTreesFiltererByCustomFilterers:c.sendTraceTag(509374876,t.msoulscat_Wac_Telemetry,o.Info,"".concat(n,": applied custom filterer and removed: ").concat(e.message.filteredCount," call trees out of ").concat(e.message.totalCount,"."));break;case Yr.CallTreeCustomPropertiesRetrieversMissingInTrace:c.sendTraceTag(539797325,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Call Tree Custom Properties Retrievers missing in trace. Trace is invalid and web worker will return without processing"));break;case Yr.ProcessTraceParamsIsNullOrUndefined:c.sendTraceTag(539767647,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": ProcessTraceParams is null or undefined"));break;case Yr.CurrentTraceBeingProcessedNullOrUndefined:c.sendTraceTag(539767648,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Current trace being processed is null or undefined"));break;case Yr.TraceIdMissingInTrace:c.sendTraceTag(539767629,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Trace ID is missing in trace"));break;case Yr.GetCustomPropertiesCalledOnNullJSCPUProfilerTrace:c.sendTraceTag(527247246,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": GetCustomProperties called on NullJSCPUProfilerTrace"));break;case Yr.GetFramesCalledOnNullJSCPUProfilerTrace:c.sendTraceTag(527247247,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": GetFrames called on NullJSCPUProfilerTrace"));break;case Yr.GetStacksCalledOnNullJSCPUProfilerTrace:c.sendTraceTag(527247248,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": GetStacks called on NullJSCPUProfilerTrace"));break;case Yr.GetSamplesCalledOnNullJSCPUProfilerTrace:c.sendTraceTag(527247249,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": GetSamples called on NullJSCPUProfilerTrace"));break;case Yr.GetProfilerTraceStartTimestampCalledOnNullJSCPUProfilerTrace:c.sendTraceTag(527247250,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": GetProfilerTraceStartTimestamp called on NullJSCPUProfilerTrace"));break;case Yr.GetProfilerPropertiesCalledOnNullJSCPUProfilerTrace:c.sendTraceTag(527247251,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": GetProfilerProperties called on NullJSCPUProfilerTrace"));break;case Yr.GetElapsedProfilingTimeInMsCalledOnNullJSCPUProfilerTrace:c.sendTraceTag(527247252,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": GetElapsedProfilingTimeInMs called on NullJSCPUProfilerTrace"));break;case Yr.RemoveQueryParamsFromResourceURLsNeverCalled:c.sendTraceTag(527247253,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": removeQueryParamsFromResourceURLs was never called"));break;default:c.sendTraceTag(543478147,t.msoulscat_Wac_Telemetry,o.Error,"".concat(n,": Unknown LogId. Please add a case for ").concat(e.id))}}},e}(),ft=function(){function e(){this.logMessageFilterers=[],this.logMessageTransporters=[]}return e.prototype.processLogMessage=function(e){this.shouldFilterLogMessage(e)||this.logMessageTransporters.forEach((function(r){r.transportLogMessage(e)}))},e.prototype.subscribeFilterer=function(e){this.logMessageFilterers.push(e)},e.prototype.subscribeTransporter=function(e){this.logMessageTransporters.push(e)},e.prototype.shouldFilterLogMessage=function(e){for(var r=0,t=this.logMessageFilterers;r<t.length;r++)if(t[r].shouldFilterLogMessage(e))return!0;return!1},e}(),mt=function(e){function r(r,t){var o=e.call(this)||this;return o.idleTimeJobScheduler=r,o.logger=t,o.storedLogMessages=G.createQueue(),o.idleTimeJobScheduled=!1,o}return ee(r,e),r.prototype.processLogMessage=function(e){this.storedLogMessages.queue(e),this.storedLogMessages.length()>10&&this.logMessageTransporters.length>0&&!this.idleTimeJobScheduled&&(this.idleTimeJobScheduled=!0,this.transportLogsInIdleTime())},r.prototype.getNextLogMessageToTransport=function(){for(var e=this.storedLogMessages.peek();void 0!==e&&this.shouldFilterLogMessage(e);)this.storedLogMessages.dequeue(),e=this.storedLogMessages.peek();return void 0!==e&&this.storedLogMessages.dequeue(),e},r.prototype.transportLogsInIdleTime=function(){var e=this,r=v.generateOperationResult({didOperationSucceed:!1,result:void 0});this.idleTimeJobScheduler.scheduleJobForIdleTime((function(){P.startNew("TransportLogMessagesInIdleTime",(function(r){for(var t=e.getNextLogMessageToTransport(),o=0;void 0!==t&&o<50;)e.logMessageTransporters.forEach((function(e){void 0!==t&&e.transportLogMessage(t)})),o+=1,t=e.getNextLogMessageToTransport(),r.addProperty("NumberOfLogMessagesTransported",o);return e.idleTimeJobScheduled=!1,v.generateOperationResult({didOperationSucceed:!0,result:void 0})}),r,e.logger)}))},r.prototype.getAllStoredLogMessages=function(){return this.storedLogMessages},r}(ft),Tt=function(){function e(){this.logger=new ut(ct.MainEventLoop);var e=E.getIdleTimeJobScheduler();this.logMessageProcessor=new mt(e,this.logger),this.logMessageTransporter=new pt(!0),this.logMessageProcessor.subscribeTransporter(this.logMessageTransporter),this.logger.subscribe(this.logMessageProcessor)}return e.prototype.retrievePackageV2=function(e){var r=this,t=v.generateOperationResult({didOperationSucceed:!1,result:new lt(this.logger)});return P.startNew("RetrieveCPUProfilingPackageV2",(function(t){if(null==e)return v.generateOperationResult({didOperationSucceed:!1,result:new lt(r.logger)});if(null==e.ulsInstance)return v.generateOperationResult({didOperationSucceed:!1,result:new lt(r.logger)});if(u(e.ulsInstance),null==e.deObfuscationEndpoint)return r.logger.logMissingDeObfuscationEndpoint(),v.generateOperationResult({didOperationSucceed:!1,result:new lt(r.logger)});if(null==e.useMainEventLoopForProfilerTraceProcessing&&(e.useMainEventLoopForProfilerTraceProcessing=Fe),t.addProperty("UseMainEventLoopForProfilerTraceProcessing",e.useMainEventLoopForProfilerTraceProcessing),!e.useMainEventLoopForProfilerTraceProcessing&&null==e.profilerTraceProcessingWebWorkerSourceURL)return r.logger.logMissingWebWorkerSourceURL(),v.generateOperationResult({didOperationSucceed:!1,result:new lt(r.logger)});null==e.callTreeFilteringThresholdInMs&&(e.callTreeFilteringThresholdInMs=50),t.addProperty("CallTreeFilteringThresholdInMs",e.callTreeFilteringThresholdInMs),null==e.shouldProfilingStartInAHiddenDocument&&(e.shouldProfilingStartInAHiddenDocument=ke),t.addProperty("ShouldProfilingStartInAHiddenDocument",e.shouldProfilingStartInAHiddenDocument),null==e.shouldProcessProfileCapturedInAHiddenDocument&&(e.shouldProcessProfileCapturedInAHiddenDocument=Me),t.addProperty("ShouldProcessProfileCapturedInAHiddenDocument",e.shouldProcessProfileCapturedInAHiddenDocument),null==e.shouldKeepSamplesOutsideOfProfilingInterval&&(e.shouldKeepSamplesOutsideOfProfilingInterval=Ne),t.addProperty("ShouldKeepSamplesOutsideOfProfilingInterval",e.shouldKeepSamplesOutsideOfProfilingInterval),null==e.shouldRecordExpandedTimeStamps&&(e.shouldRecordExpandedTimeStamps=Re),t.addProperty("ShouldRecordExpandedTimeStamps",e.shouldRecordExpandedTimeStamps),null==e.shouldSendAllCallTreesFromProfileInASingleRequest&&(e.shouldSendAllCallTreesFromProfileInASingleRequest=Ee),t.addProperty("ShouldSendAllCallTreesFromProfileInASingleRequest",e.shouldSendAllCallTreesFromProfileInASingleRequest),null==e.frameTotalExecutionTimeFilteringThresholdInMs&&(e.frameTotalExecutionTimeFilteringThresholdInMs=0),t.addProperty("FrameTotalExecutionTimeFilteringThresholdInMs",e.frameTotalExecutionTimeFilteringThresholdInMs),null==e.shouldAlwaysLogOperationsData&&(e.shouldAlwaysLogOperationsData=We),t.addProperty("ShouldAlwaysLogOperationsData",e.shouldAlwaysLogOperationsData),null==e.durationThresholdInMsToLogOperationData&&(e.durationThresholdInMsToLogOperationData=50),t.addProperty("DurationThresholdInMsToLogOperationData",e.durationThresholdInMsToLogOperationData),null==e.shouldUseInMemoryLogger&&(e.shouldUseInMemoryLogger=!1),t.addProperty("ShouldUseInMemoryLogger",e.shouldUseInMemoryLogger),null==e.shouldTransportLogs&&(e.shouldTransportLogs=!0),t.addProperty("ShouldTransportLogs",e.shouldTransportLogs),r.logMessageTransporter=new pt(e.shouldTransportLogs),e.shouldUseInMemoryLogger||(r.logger.unsubscribe(r.logMessageProcessor),r.logMessageProcessor=new ft,r.logMessageProcessor.subscribeTransporter(r.logMessageTransporter),r.logger.subscribe(r.logMessageProcessor)),null==e.shouldSendProfilesForDeobfuscationImmediately&&(e.shouldSendProfilesForDeobfuscationImmediately=we),t.addProperty("ShouldSendProfilesForDeobfuscationImmediately",e.shouldSendProfilesForDeobfuscationImmediately),null==e.shouldProcessProfileCapturedWhileUserIsIdle&&(e.shouldProcessProfileCapturedWhileUserIsIdle=Ue),t.addProperty("ShouldProcessProfileCapturedWhileUserIsIdle",e.shouldProcessProfileCapturedWhileUserIsIdle),null==e.shouldKeepQueryParamsInResourceURLs&&(e.shouldKeepQueryParamsInResourceURLs=Le),t.addProperty("ShouldKeepQueryParamsInResourceURLs",e.shouldKeepQueryParamsInResourceURLs),null==e.shouldMakeSerializedCallTreesFullyReconstructible&&(e.shouldMakeSerializedCallTreesFullyReconstructible=Be),t.addProperty("ShouldMakeSerializedCallTreesFullyReconstructible",e.shouldMakeSerializedCallTreesFullyReconstructible);var o=new dt(e.shouldAlwaysLogOperationsData,ve,e.durationThresholdInMsToLogOperationData,r.logger);return r.logMessageProcessor.subscribeFilterer(o),v.generateOperationResult({didOperationSucceed:!0,result:new at(e.featureChecker,e,r.logMessageProcessor,r.logger)})}),t,this.logger).getResult()},e.prototype.retrievePackage=function(e,r){var t=this,o=v.generateOperationResult({didOperationSucceed:!1,result:new lt(this.logger)});return P.startNew("RetrieveCPUProfilingPackage",(function(o){if(null==r)return v.generateOperationResult({didOperationSucceed:!1,result:new lt(t.logger)});if(null==r.ulsInstance)return v.generateOperationResult({didOperationSucceed:!1,result:new lt(t.logger)});if(u(r.ulsInstance),null==r.deObfuscationEndpoint)return t.logger.logMissingDeObfuscationEndpoint(),v.generateOperationResult({didOperationSucceed:!1,result:new lt(t.logger)});if(null==r.useMainEventLoopForProfilerTraceProcessing&&(r.useMainEventLoopForProfilerTraceProcessing=Fe),o.addProperty("UseMainEventLoopForProfilerTraceProcessing",r.useMainEventLoopForProfilerTraceProcessing),!r.useMainEventLoopForProfilerTraceProcessing&&null==r.profilerTraceProcessingWebWorkerSourceURL)return t.logger.logMissingWebWorkerSourceURL(),v.generateOperationResult({didOperationSucceed:!1,result:new lt(t.logger)});null==r.callTreeFilteringThresholdInMs&&(r.callTreeFilteringThresholdInMs=50),null==r.shouldProfilingStartInAHiddenDocument&&(r.shouldProfilingStartInAHiddenDocument=ke),null==r.shouldProcessProfileCapturedInAHiddenDocument&&(r.shouldProcessProfileCapturedInAHiddenDocument=Me),null==r.shouldKeepSamplesOutsideOfProfilingInterval&&(r.shouldKeepSamplesOutsideOfProfilingInterval=Ne),null==r.shouldRecordExpandedTimeStamps&&(r.shouldRecordExpandedTimeStamps=Re),null==r.shouldSendAllCallTreesFromProfileInASingleRequest&&(r.shouldSendAllCallTreesFromProfileInASingleRequest=Ee),null==r.frameTotalExecutionTimeFilteringThresholdInMs&&(r.frameTotalExecutionTimeFilteringThresholdInMs=0),null==r.shouldAlwaysLogOperationsData&&(r.shouldAlwaysLogOperationsData=We),null==r.durationThresholdInMsToLogOperationData&&(r.durationThresholdInMsToLogOperationData=50),null==r.shouldUseInMemoryLogger&&(r.shouldUseInMemoryLogger=!1),r.shouldUseInMemoryLogger||(t.logger.unsubscribe(t.logMessageProcessor),t.logMessageProcessor=new ft,t.logMessageProcessor.subscribeTransporter(t.logMessageTransporter),t.logger.subscribe(t.logMessageProcessor)),null==r.shouldSendProfilesForDeobfuscationImmediately&&(r.shouldSendProfilesForDeobfuscationImmediately=we),null==r.shouldProcessProfileCapturedWhileUserIsIdle&&(r.shouldProcessProfileCapturedWhileUserIsIdle=Ue),null==r.shouldKeepQueryParamsInResourceURLs&&(r.shouldKeepQueryParamsInResourceURLs=Le),null==r.shouldMakeSerializedCallTreesFullyReconstructible&&(r.shouldMakeSerializedCallTreesFullyReconstructible=Be);var n=new dt(r.shouldAlwaysLogOperationsData,ve,r.durationThresholdInMsToLogOperationData,t.logger);return t.logMessageProcessor.subscribeFilterer(n),o.addProperty("DeObfuscationEndpoint",r.deObfuscationEndpoint),o.addProperty("CallTreeFilteringThresholdInMs",r.callTreeFilteringThresholdInMs),o.addProperty("ShouldProfilingStartInAHiddenDocument",r.shouldProfilingStartInAHiddenDocument),o.addProperty("ShouldProcessProfileCapturedInAHiddenDocument",r.shouldProcessProfileCapturedInAHiddenDocument),o.addProperty("ShouldKeepSamplesOutsideOfProfilingInterval",r.shouldKeepSamplesOutsideOfProfilingInterval),o.addProperty("ShouldRecordExpandedTimeStamps",r.shouldRecordExpandedTimeStamps),o.addProperty("WebWorkerSourceURL",r.profilerTraceProcessingWebWorkerSourceURL),o.addProperty("ShouldSendAllCallTreesFromProfileInASingleRequest",r.shouldSendAllCallTreesFromProfileInASingleRequest),o.addProperty("FrameTotalExecutionTimeFilteringThresholdInMs",r.frameTotalExecutionTimeFilteringThresholdInMs),o.addProperty("ShouldAlwaysLogOperationsData",r.shouldAlwaysLogOperationsData),o.addProperty("DurationThresholdToLogOperationData",r.durationThresholdInMsToLogOperationData),o.addProperty("ShouldUseInMemoryLogger",r.shouldUseInMemoryLogger),o.addProperty("ShouldKeepQueryParamsInResourceURLs",r.shouldKeepQueryParamsInResourceURLs),o.addProperty("ShouldMakeSerializedCallTreesFullyReconstructible",r.shouldMakeSerializedCallTreesFullyReconstructible),v.generateOperationResult({didOperationSucceed:!0,result:new at(e,r,t.logMessageProcessor,t.logger)})}),o,this.logger).getResult()},e}();function ht(){return new Tt}!function(){function e(){this.storedLogMessages=[],this.logMessageFilterers=[]}e.prototype.processLogMessage=function(e){this.shouldFilterLogMessage(e)||this.storedLogMessages.push(e)},e.prototype.subscribeFilterer=function(e){this.logMessageFilterers.push(e)},e.prototype.retrieveStoredLogMessages=function(){var e=this.storedLogMessages;return this.storedLogMessages=[],e},e.prototype.shouldFilterLogMessage=function(e){for(var r=0,t=this.logMessageFilterers;r<t.length;r++)if(t[r].shouldFilterLogMessage(e))return!0;return!1}}(),officeOnlinePerf=r}();
//# sourceMappingURL=officeOnlinePerf.min.js.map